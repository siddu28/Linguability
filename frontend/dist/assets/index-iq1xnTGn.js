function Of(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cd={exports:{}},ua={},Ed={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),If=Symbol.for("react.portal"),Mf=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Wf=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),Pc=Symbol.iterator;function Hf(e){return e===null||typeof e!="object"?null:(e=Pc&&e[Pc]||e["@@iterator"],typeof e=="function"?e:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rd=Object.assign,Pd={};function Ir(e,t,n){this.props=e,this.context=t,this.refs=Pd,this.updater=n||Td}Ir.prototype.isReactComponent={};Ir.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ir.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=Ir.prototype;function Rl(e,t,n){this.props=e,this.context=t,this.refs=Pd,this.updater=n||Td}var Pl=Rl.prototype=new Ad;Pl.constructor=Rl;Rd(Pl,Ir.prototype);Pl.isPureReactComponent=!0;var Ac=Array.isArray,Od=Object.prototype.hasOwnProperty,Al={current:null},Ld={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Od.call(t,r)&&!Ld.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Us,type:e,key:i,ref:o,props:s,_owner:Al.current}}function Vf(e,t){return{$$typeof:Us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===Us}function Kf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oc=/\/+/g;function Ia(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kf(""+e.key):t.toString(36)}function wi(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Us:case If:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ia(o,0):r,Ac(s)?(n="",e!=null&&(n=e.replace(Oc,"$&/")+"/"),wi(s,t,n,"",function(u){return u})):s!=null&&(Ol(s)&&(s=Vf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Oc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ac(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Ia(i,l);o+=wi(i,t,n,c,s)}else if(c=Hf(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Ia(i,l++),o+=wi(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gs(e,t,n){if(e==null)return e;var r=[],s=0;return wi(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},ki={transition:null},Qf={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:ki,ReactCurrentOwner:Al};function Md(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Gs,forEach:function(e,t,n){Gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!Ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Ir;ne.Fragment=Mf;ne.Profiler=$f;ne.PureComponent=Rl;ne.StrictMode=zf;ne.Suspense=Bf;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;ne.act=Md;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Al.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Od.call(t,c)&&!Ld.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Us,type:e.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:Uf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Df,_context:e},e.Consumer=e};ne.createElement=Id;ne.createFactory=function(e){var t=Id.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Ff,render:e}};ne.isValidElement=Ol;ne.lazy=function(e){return{$$typeof:qf,_payload:{_status:-1,_result:e},_init:Gf}};ne.memo=function(e,t){return{$$typeof:Wf,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ki.transition;ki.transition={};try{e()}finally{ki.transition=t}};ne.unstable_act=Md;ne.useCallback=function(e,t){return Ke.current.useCallback(e,t)};ne.useContext=function(e){return Ke.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ke.current.useEffect(e,t)};ne.useId=function(){return Ke.current.useId()};ne.useImperativeHandle=function(e,t,n){return Ke.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ke.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Ke.current.useReducer(e,t,n)};ne.useRef=function(e){return Ke.current.useRef(e)};ne.useState=function(e){return Ke.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Ke.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Ke.current.useTransition()};ne.version="18.3.1";Ed.exports=ne;var k=Ed.exports;const zd=Lf(k),Jf=Of({__proto__:null,default:zd},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=k,Xf=Symbol.for("react.element"),Zf=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,tm=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nm={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)em.call(t,r)&&!nm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Xf,type:e,key:i,ref:o,props:s,_owner:tm.current}}ua.Fragment=Zf;ua.jsx=$d;ua.jsxs=$d;Cd.exports=ua;var a=Cd.exports,bo={},Dd={exports:{}},it={},Ud={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,U){var M=A.length;A.push(U);e:for(;0<M;){var L=M-1>>>1,Q=A[L];if(0<s(Q,U))A[L]=U,A[M]=Q,M=L;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var U=A[0],M=A.pop();if(M!==U){A[0]=M;e:for(var L=0,Q=A.length,se=Q>>>1;L<se;){var $=2*(L+1)-1,Z=A[$],de=$+1,_e=A[de];if(0>s(Z,M))de<Q&&0>s(_e,Z)?(A[L]=_e,A[de]=M,L=de):(A[L]=Z,A[$]=M,L=$);else if(de<Q&&0>s(_e,M))A[L]=_e,A[de]=M,L=de;else break e}}return U}function s(A,U){var M=A.sortIndex-U.sortIndex;return M!==0?M:A.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=A)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function _(A){if(w=!1,v(A),!b)if(n(c)!==null)b=!0,I(C);else{var U=n(u);U!==null&&Y(_,U.startTime-A)}}function C(A,U){b=!1,w&&(w=!1,m(g),g=-1),y=!0;var M=h;try{for(v(U),f=n(c);f!==null&&(!(f.expirationTime>U)||A&&!T());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var Q=L(f.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(c)&&r(c),v(U)}else r(c);f=n(c)}if(f!==null)var se=!0;else{var $=n(u);$!==null&&Y(_,$.startTime-U),se=!1}return se}finally{f=null,h=M,y=!1}}var j=!1,S=null,g=-1,N=5,E=-1;function T(){return!(e.unstable_now()-E<N)}function R(){if(S!==null){var A=e.unstable_now();E=A;var U=!0;try{U=S(!0,A)}finally{U?W():(j=!1,S=null)}}else j=!1}var W;if(typeof p=="function")W=function(){p(R)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,z=X.port2;X.port1.onmessage=R,W=function(){z.postMessage(null)}}else W=function(){x(R,0)};function I(A){S=A,j||(j=!0,W())}function Y(A,U){g=x(function(){A(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,I(C))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var M=h;h=U;try{return A()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=h;h=A;try{return U()}finally{h=M}},e.unstable_scheduleCallback=function(A,U,M){var L=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?L+M:L):M=L,A){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=M+Q,A={id:d++,callback:U,priorityLevel:A,startTime:M,expirationTime:Q,sortIndex:-1},M>L?(A.sortIndex=M,t(u,A),n(c)===null&&A===n(u)&&(w?(m(g),g=-1):w=!0,Y(_,M-L))):(A.sortIndex=Q,t(c,A),b||y||(b=!0,I(C))),A},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(A){var U=h;return function(){var M=h;h=U;try{return A.apply(this,arguments)}finally{h=M}}}})(Fd);Ud.exports=Fd;var rm=Ud.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=k,st=rm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bd=new Set,fs={};function Wn(e,t){jr(e,t),jr(e+"Capture",t)}function jr(e,t){for(fs[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=Object.prototype.hasOwnProperty,im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lc={},Ic={};function am(e){return xo.call(Ic,e)?!0:xo.call(Lc,e)?!1:im.test(e)?Ic[e]=!0:(Lc[e]=!0,!1)}function om(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lm(e,t,n,r){if(t===null||typeof t>"u"||om(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Il(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ll,Il);$e[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ll,Il);$e[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ll,Il);$e[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ml(e,t,n,r){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lm(t,n,s,r)&&(n=null),r||s===null?am(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qs=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),zl=Symbol.for("react.strict_mode"),_o=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),qd=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),So=Symbol.for("react.suspense"),jo=Symbol.for("react.suspense_list"),Dl=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Hd=Symbol.for("react.offscreen"),Mc=Symbol.iterator;function Wr(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ma;function Xr(e){if(Ma===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||""}return`
`+Ma+e}var za=!1;function $a(e,t){if(!e||za)return"";za=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{za=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xr(e):""}function cm(e){switch(e.tag){case 5:return Xr(e.type);case 16:return Xr("Lazy");case 13:return Xr("Suspense");case 19:return Xr("SuspenseList");case 0:case 2:case 15:return e=$a(e.type,!1),e;case 11:return e=$a(e.type.render,!1),e;case 1:return e=$a(e.type,!0),e;default:return""}}function No(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case _o:return"Profiler";case zl:return"StrictMode";case So:return"Suspense";case jo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qd:return(e.displayName||"Context")+".Consumer";case Wd:return(e._context.displayName||"Context")+".Provider";case $l:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dl:return t=e.displayName||null,t!==null?t:No(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return No(e(t))}catch{}}return null}function um(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return No(t);case 8:return t===zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dm(e){var t=Vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){e._valueTracker||(e._valueTracker=dm(e))}function Kd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Co(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gd(e,t){t=t.checked,t!=null&&Ml(e,"checked",t,!1)}function Eo(e,t){Gd(e,t);var n=vn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?To(e,t.type,n):t.hasOwnProperty("defaultValue")&&To(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $c(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function To(e,t,n){(t!=="number"||Pi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function gr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(Zr(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vn(n)}}function Qd(e,t){var n=vn(t.value),r=vn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Uc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ys,Yd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ys=Ys||document.createElement("div"),Ys.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ys.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ms(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hm=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(e){hm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rs[t]=rs[e]})});function Xd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rs.hasOwnProperty(e)&&rs[e]?(""+t).trim():t+"px"}function Zd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var pm=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(pm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Io=null,vr=null,yr=null;function Fc(e){if(e=Ws(e)){if(typeof Io!="function")throw Error(O(280));var t=e.stateNode;t&&(t=ma(t),Io(e.stateNode,e.type,t))}}function eh(e){vr?yr?yr.push(e):yr=[e]:vr=e}function th(){if(vr){var e=vr,t=yr;if(yr=vr=null,Fc(e),t)for(e=0;e<t.length;e++)Fc(t[e])}}function nh(e,t){return e(t)}function rh(){}var Da=!1;function sh(e,t,n){if(Da)return e(t,n);Da=!0;try{return nh(e,t,n)}finally{Da=!1,(vr!==null||yr!==null)&&(rh(),th())}}function gs(e,t){var n=e.stateNode;if(n===null)return null;var r=ma(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Mo=!1;if(Ft)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Mo=!1}function fm(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ss=!1,Ai=null,Oi=!1,zo=null,mm={onError:function(e){ss=!0,Ai=e}};function gm(e,t,n,r,s,i,o,l,c){ss=!1,Ai=null,fm.apply(mm,arguments)}function vm(e,t,n,r,s,i,o,l,c){if(gm.apply(this,arguments),ss){if(ss){var u=Ai;ss=!1,Ai=null}else throw Error(O(198));Oi||(Oi=!0,zo=u)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bc(e){if(qn(e)!==e)throw Error(O(188))}function ym(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bc(s),e;if(i===r)return Bc(s),t;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function ah(e){return e=ym(e),e!==null?oh(e):null}function oh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oh(e);if(t!==null)return t;e=e.sibling}return null}var lh=st.unstable_scheduleCallback,Wc=st.unstable_cancelCallback,wm=st.unstable_shouldYield,km=st.unstable_requestPaint,xe=st.unstable_now,bm=st.unstable_getCurrentPriorityLevel,Fl=st.unstable_ImmediatePriority,ch=st.unstable_UserBlockingPriority,Li=st.unstable_NormalPriority,xm=st.unstable_LowPriority,uh=st.unstable_IdlePriority,da=null,Pt=null;function _m(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(da,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:Nm,Sm=Math.log,jm=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(Sm(e)/jm|0)|0}var Xs=64,Zs=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ii(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=es(l):(i&=o,i!==0&&(r=es(i)))}else o=n&~s,o!==0?r=es(o):i!==0&&(r=es(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),s=1<<n,r|=e[n],t&=~s;return r}function Cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-xt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Cm(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dh(){var e=Xs;return Xs<<=1,!(Xs&4194240)&&(Xs=64),e}function Ua(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function Tm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-xt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ae=0;function hh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ph,Wl,fh,mh,gh,Do=!1,ei=[],on=null,ln=null,cn=null,vs=new Map,ys=new Map,en=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(t.pointerId)}}function Hr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ws(t),t!==null&&Wl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Pm(e,t,n,r,s){switch(t){case"focusin":return on=Hr(on,e,t,n,r,s),!0;case"dragenter":return ln=Hr(ln,e,t,n,r,s),!0;case"mouseover":return cn=Hr(cn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return vs.set(i,Hr(vs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ys.set(i,Hr(ys.get(i)||null,e,t,n,r,s)),!0}return!1}function vh(e){var t=Pn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=ih(n),t!==null){e.blockedOn=t,gh(e.priority,function(){fh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Uo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Lo=r,n.target.dispatchEvent(r),Lo=null}else return t=Ws(n),t!==null&&Wl(t),e.blockedOn=n,!1;t.shift()}return!0}function Hc(e,t,n){bi(e)&&n.delete(t)}function Am(){Do=!1,on!==null&&bi(on)&&(on=null),ln!==null&&bi(ln)&&(ln=null),cn!==null&&bi(cn)&&(cn=null),vs.forEach(Hc),ys.forEach(Hc)}function Vr(e,t){e.blockedOn===t&&(e.blockedOn=null,Do||(Do=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,Am)))}function ws(e){function t(s){return Vr(s,e)}if(0<ei.length){Vr(ei[0],e);for(var n=1;n<ei.length;n++){var r=ei[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&Vr(on,e),ln!==null&&Vr(ln,e),cn!==null&&Vr(cn,e),vs.forEach(t),ys.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)vh(n),n.blockedOn===null&&en.shift()}var wr=Ht.ReactCurrentBatchConfig,Mi=!0;function Om(e,t,n,r){var s=ae,i=wr.transition;wr.transition=null;try{ae=1,ql(e,t,n,r)}finally{ae=s,wr.transition=i}}function Lm(e,t,n,r){var s=ae,i=wr.transition;wr.transition=null;try{ae=4,ql(e,t,n,r)}finally{ae=s,wr.transition=i}}function ql(e,t,n,r){if(Mi){var s=Uo(e,t,n,r);if(s===null)Ja(e,t,r,zi,n),qc(e,r);else if(Pm(s,e,t,n,r))r.stopPropagation();else if(qc(e,r),t&4&&-1<Rm.indexOf(e)){for(;s!==null;){var i=Ws(s);if(i!==null&&ph(i),i=Uo(e,t,n,r),i===null&&Ja(e,t,r,zi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ja(e,t,r,null,n)}}var zi=null;function Uo(e,t,n,r){if(zi=null,e=Ul(r),e=Pn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ih(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zi=e,null}function yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case Fl:return 1;case ch:return 4;case Li:case xm:return 16;case uh:return 536870912;default:return 16}default:return 16}}var rn=null,Hl=null,xi=null;function wh(){if(xi)return xi;var e,t=Hl,n=t.length,r,s="value"in rn?rn.value:rn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return xi=s.slice(e,1<r?1-r:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function Vc(){return!1}function at(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ti:Vc,this.isPropagationStopped=Vc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=at(Mr),Bs=ye({},Mr,{view:0,detail:0}),Im=at(Bs),Fa,Ba,Kr,ha=ye({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(Fa=e.screenX-Kr.screenX,Ba=e.screenY-Kr.screenY):Ba=Fa=0,Kr=e),Fa)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),Kc=at(ha),Mm=ye({},ha,{dataTransfer:0}),zm=at(Mm),$m=ye({},Bs,{relatedTarget:0}),Wa=at($m),Dm=ye({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Um=at(Dm),Fm=ye({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bm=at(Fm),Wm=ye({},Mr,{data:0}),Gc=at(Wm),qm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vm[e])?!!t[e]:!1}function Kl(){return Km}var Gm=ye({},Bs,{key:function(e){if(e.key){var t=qm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qm=at(Gm),Jm=ye({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=at(Jm),Ym=ye({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),Xm=at(Ym),Zm=ye({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=at(Zm),tg=ye({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ng=at(tg),rg=[9,13,27,32],Gl=Ft&&"CompositionEvent"in window,is=null;Ft&&"documentMode"in document&&(is=document.documentMode);var sg=Ft&&"TextEvent"in window&&!is,kh=Ft&&(!Gl||is&&8<is&&11>=is),Jc=" ",Yc=!1;function bh(e,t){switch(e){case"keyup":return rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function ig(e,t){switch(e){case"compositionend":return xh(t);case"keypress":return t.which!==32?null:(Yc=!0,Jc);case"textInput":return e=t.data,e===Jc&&Yc?null:e;default:return null}}function ag(e,t){if(rr)return e==="compositionend"||!Gl&&bh(e,t)?(e=wh(),xi=Hl=rn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kh&&t.locale!=="ko"?null:t.data;default:return null}}var og={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!og[e.type]:t==="textarea"}function _h(e,t,n,r){eh(r),t=$i(t,"onChange"),0<t.length&&(n=new Vl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var as=null,ks=null;function lg(e){Lh(e,0)}function pa(e){var t=ar(e);if(Kd(t))return e}function cg(e,t){if(e==="change")return t}var Sh=!1;if(Ft){var qa;if(Ft){var Ha="oninput"in document;if(!Ha){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Ha=typeof Zc.oninput=="function"}qa=Ha}else qa=!1;Sh=qa&&(!document.documentMode||9<document.documentMode)}function eu(){as&&(as.detachEvent("onpropertychange",jh),ks=as=null)}function jh(e){if(e.propertyName==="value"&&pa(ks)){var t=[];_h(t,ks,e,Ul(e)),sh(lg,t)}}function ug(e,t,n){e==="focusin"?(eu(),as=t,ks=n,as.attachEvent("onpropertychange",jh)):e==="focusout"&&eu()}function dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pa(ks)}function hg(e,t){if(e==="click")return pa(t)}function pg(e,t){if(e==="input"||e==="change")return pa(t)}function fg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:fg;function bs(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xo.call(t,s)||!St(e[s],t[s]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var n=tu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tu(n)}}function Nh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ch(){for(var e=window,t=Pi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pi(e.document)}return t}function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mg(e){var t=Ch(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nh(n.ownerDocument.documentElement,n)){if(r!==null&&Ql(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=nu(n,i);var o=nu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gg=Ft&&"documentMode"in document&&11>=document.documentMode,sr=null,Fo=null,os=null,Bo=!1;function ru(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bo||sr==null||sr!==Pi(r)||(r=sr,"selectionStart"in r&&Ql(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),os&&bs(os,r)||(os=r,r=$i(Fo,"onSelect"),0<r.length&&(t=new Vl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ni(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ir={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},Va={},Eh={};Ft&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function fa(e){if(Va[e])return Va[e];if(!ir[e])return e;var t=ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eh)return Va[e]=t[n];return e}var Th=fa("animationend"),Rh=fa("animationiteration"),Ph=fa("animationstart"),Ah=fa("transitionend"),Oh=new Map,su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Oh.set(e,t),Wn(t,[e])}for(var Ka=0;Ka<su.length;Ka++){var Ga=su[Ka],vg=Ga.toLowerCase(),yg=Ga[0].toUpperCase()+Ga.slice(1);kn(vg,"on"+yg)}kn(Th,"onAnimationEnd");kn(Rh,"onAnimationIteration");kn(Ph,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Ah,"onTransitionEnd");jr("onMouseEnter",["mouseout","mouseover"]);jr("onMouseLeave",["mouseout","mouseover"]);jr("onPointerEnter",["pointerout","pointerover"]);jr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function iu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,vm(r,t,void 0,e),e.currentTarget=null}function Lh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;iu(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;iu(s,l,u),i=c}}}if(Oi)throw e=zo,Oi=!1,zo=null,e}function ce(e,t){var n=t[Ko];n===void 0&&(n=t[Ko]=new Set);var r=e+"__bubble";n.has(r)||(Ih(t,e,2,!1),n.add(r))}function Qa(e,t,n){var r=0;t&&(r|=4),Ih(n,e,r,t)}var ri="_reactListening"+Math.random().toString(36).slice(2);function xs(e){if(!e[ri]){e[ri]=!0,Bd.forEach(function(n){n!=="selectionchange"&&(wg.has(n)||Qa(n,!1,e),Qa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ri]||(t[ri]=!0,Qa("selectionchange",!1,t))}}function Ih(e,t,n,r){switch(yh(t)){case 1:var s=Om;break;case 4:s=Lm;break;default:s=ql}n=s.bind(null,t,n,e),s=void 0,!Mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ja(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}sh(function(){var u=i,d=Ul(n),f=[];e:{var h=Oh.get(e);if(h!==void 0){var y=Vl,b=e;switch(e){case"keypress":if(_i(n)===0)break e;case"keydown":case"keyup":y=Qm;break;case"focusin":b="focus",y=Wa;break;case"focusout":b="blur",y=Wa;break;case"beforeblur":case"afterblur":y=Wa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Xm;break;case Th:case Rh:case Ph:y=Um;break;case Ah:y=eg;break;case"scroll":y=Im;break;case"wheel":y=ng;break;case"copy":case"cut":case"paste":y=Bm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Qc}var w=(t&4)!==0,x=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,v;p!==null;){v=p;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=gs(p,m),_!=null&&w.push(_s(p,_,v)))),x)break;p=p.return}0<w.length&&(h=new y(h,b,null,n,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Lo&&(b=n.relatedTarget||n.fromElement)&&(Pn(b)||b[Bt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Pn(b):null,b!==null&&(x=qn(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(w=Kc,_="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Qc,_="onPointerLeave",m="onPointerEnter",p="pointer"),x=y==null?h:ar(y),v=b==null?h:ar(b),h=new w(_,p+"leave",y,n,d),h.target=x,h.relatedTarget=v,_=null,Pn(d)===u&&(w=new w(m,p+"enter",b,n,d),w.target=v,w.relatedTarget=x,_=w),x=_,y&&b)t:{for(w=y,m=b,p=0,v=w;v;v=Hn(v))p++;for(v=0,_=m;_;_=Hn(_))v++;for(;0<p-v;)w=Hn(w),p--;for(;0<v-p;)m=Hn(m),v--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Hn(w),m=Hn(m)}w=null}else w=null;y!==null&&au(f,h,y,w,!1),b!==null&&x!==null&&au(f,x,b,w,!0)}}e:{if(h=u?ar(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var C=cg;else if(Xc(h))if(Sh)C=pg;else{C=dg;var j=ug}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=hg);if(C&&(C=C(e,u))){_h(f,C,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&To(h,"number",h.value)}switch(j=u?ar(u):window,e){case"focusin":(Xc(j)||j.contentEditable==="true")&&(sr=j,Fo=u,os=null);break;case"focusout":os=Fo=sr=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,ru(f,n,d);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":ru(f,n,d)}var S;if(Gl)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else rr?bh(e,n)&&(g="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(kh&&n.locale!=="ko"&&(rr||g!=="onCompositionStart"?g==="onCompositionEnd"&&rr&&(S=wh()):(rn=d,Hl="value"in rn?rn.value:rn.textContent,rr=!0)),j=$i(u,g),0<j.length&&(g=new Gc(g,e,null,n,d),f.push({event:g,listeners:j}),S?g.data=S:(S=xh(n),S!==null&&(g.data=S)))),(S=sg?ig(e,n):ag(e,n))&&(u=$i(u,"onBeforeInput"),0<u.length&&(d=new Gc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Lh(f,t)})}function _s(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gs(e,n),i!=null&&r.unshift(_s(e,i,s)),i=gs(e,t),i!=null&&r.push(_s(e,i,s))),e=e.return}return r}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function au(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=gs(n,i),c!=null&&o.unshift(_s(n,c,l))):s||(c=gs(n,i),c!=null&&o.push(_s(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kg=/\r\n?/g,bg=/\u0000|\uFFFD/g;function ou(e){return(typeof e=="string"?e:""+e).replace(kg,`
`).replace(bg,"")}function si(e,t,n){if(t=ou(t),ou(e)!==t&&n)throw Error(O(425))}function Di(){}var Wo=null,qo=null;function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,xg=typeof clearTimeout=="function"?clearTimeout:void 0,lu=typeof Promise=="function"?Promise:void 0,_g=typeof queueMicrotask=="function"?queueMicrotask:typeof lu<"u"?function(e){return lu.resolve(null).then(e).catch(Sg)}:Vo;function Sg(e){setTimeout(function(){throw e})}function Ya(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ws(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ws(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+zr,Ss="__reactProps$"+zr,Bt="__reactContainer$"+zr,Ko="__reactEvents$"+zr,jg="__reactListeners$"+zr,Ng="__reactHandles$"+zr;function Pn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cu(e);e!==null;){if(n=e[Rt])return n;e=cu(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){return e=e[Rt]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function ma(e){return e[Ss]||null}var Go=[],or=-1;function bn(e){return{current:e}}function ue(e){0>or||(e.current=Go[or],Go[or]=null,or--)}function le(e,t){or++,Go[or]=e.current,e.current=t}var yn={},We=bn(yn),Ye=bn(!1),zn=yn;function Nr(e,t){var n=e.type.contextTypes;if(!n)return yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Xe(e){return e=e.childContextTypes,e!=null}function Ui(){ue(Ye),ue(We)}function uu(e,t,n){if(We.current!==yn)throw Error(O(168));le(We,t),le(Ye,n)}function Mh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,um(e)||"Unknown",s));return ye({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,zn=We.current,le(We,e),le(Ye,Ye.current),!0}function du(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Mh(e,t,zn),r.__reactInternalMemoizedMergedChildContext=e,ue(Ye),ue(We),le(We,e)):ue(Ye),le(Ye,n)}var zt=null,ga=!1,Xa=!1;function zh(e){zt===null?zt=[e]:zt.push(e)}function Cg(e){ga=!0,zh(e)}function xn(){if(!Xa&&zt!==null){Xa=!0;var e=0,t=ae;try{var n=zt;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,ga=!1}catch(s){throw zt!==null&&(zt=zt.slice(e+1)),lh(Fl,xn),s}finally{ae=t,Xa=!1}}return null}var lr=[],cr=0,Bi=null,Wi=0,lt=[],ct=0,$n=null,$t=1,Dt="";function jn(e,t){lr[cr++]=Wi,lr[cr++]=Bi,Bi=e,Wi=t}function $h(e,t,n){lt[ct++]=$t,lt[ct++]=Dt,lt[ct++]=$n,$n=e;var r=$t;e=Dt;var s=32-xt(r)-1;r&=~(1<<s),n+=1;var i=32-xt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,$t=1<<32-xt(t)+s|n<<s|r,Dt=i+e}else $t=1<<i|n<<s|r,Dt=e}function Jl(e){e.return!==null&&(jn(e,1),$h(e,1,0))}function Yl(e){for(;e===Bi;)Bi=lr[--cr],lr[cr]=null,Wi=lr[--cr],lr[cr]=null;for(;e===$n;)$n=lt[--ct],lt[ct]=null,Dt=lt[--ct],lt[ct]=null,$t=lt[--ct],lt[ct]=null}var rt=null,nt=null,pe=!1,bt=null;function Dh(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function hu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$n!==null?{id:$t,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(pe){var t=nt;if(t){var n=t;if(!hu(e,t)){if(Qo(e))throw Error(O(418));t=un(n.nextSibling);var r=rt;t&&hu(e,t)?Dh(r,n):(e.flags=e.flags&-4097|2,pe=!1,rt=e)}}else{if(Qo(e))throw Error(O(418));e.flags=e.flags&-4097|2,pe=!1,rt=e}}}function pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function ii(e){if(e!==rt)return!1;if(!pe)return pu(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ho(e.type,e.memoizedProps)),t&&(t=nt)){if(Qo(e))throw Uh(),Error(O(418));for(;t;)Dh(e,t),t=un(t.nextSibling)}if(pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?un(e.stateNode.nextSibling):null;return!0}function Uh(){for(var e=nt;e;)e=un(e.nextSibling)}function Cr(){nt=rt=null,pe=!1}function Xl(e){bt===null?bt=[e]:bt.push(e)}var Eg=Ht.ReactCurrentBatchConfig;function Gr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function ai(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fu(e){var t=e._init;return t(e._payload)}function Fh(e){function t(m,p){if(e){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=fn(m,p),m.index=0,m.sibling=null,m}function i(m,p,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,v,_){return p===null||p.tag!==6?(p=io(v,m.mode,_),p.return=m,p):(p=s(p,v),p.return=m,p)}function c(m,p,v,_){var C=v.type;return C===nr?d(m,p,v.props.children,_,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Yt&&fu(C)===p.type)?(_=s(p,v.props),_.ref=Gr(m,p,v),_.return=m,_):(_=Ri(v.type,v.key,v.props,null,m.mode,_),_.ref=Gr(m,p,v),_.return=m,_)}function u(m,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=ao(v,m.mode,_),p.return=m,p):(p=s(p,v.children||[]),p.return=m,p)}function d(m,p,v,_,C){return p===null||p.tag!==7?(p=Mn(v,m.mode,_,C),p.return=m,p):(p=s(p,v),p.return=m,p)}function f(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=io(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qs:return v=Ri(p.type,p.key,p.props,null,m.mode,v),v.ref=Gr(m,null,p),v.return=m,v;case tr:return p=ao(p,m.mode,v),p.return=m,p;case Yt:var _=p._init;return f(m,_(p._payload),v)}if(Zr(p)||Wr(p))return p=Mn(p,m.mode,v,null),p.return=m,p;ai(m,p)}return null}function h(m,p,v,_){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(m,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qs:return v.key===C?c(m,p,v,_):null;case tr:return v.key===C?u(m,p,v,_):null;case Yt:return C=v._init,h(m,p,C(v._payload),_)}if(Zr(v)||Wr(v))return C!==null?null:d(m,p,v,_,null);ai(m,v)}return null}function y(m,p,v,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,l(p,m,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Qs:return m=m.get(_.key===null?v:_.key)||null,c(p,m,_,C);case tr:return m=m.get(_.key===null?v:_.key)||null,u(p,m,_,C);case Yt:var j=_._init;return y(m,p,v,j(_._payload),C)}if(Zr(_)||Wr(_))return m=m.get(v)||null,d(p,m,_,C,null);ai(p,_)}return null}function b(m,p,v,_){for(var C=null,j=null,S=p,g=p=0,N=null;S!==null&&g<v.length;g++){S.index>g?(N=S,S=null):N=S.sibling;var E=h(m,S,v[g],_);if(E===null){S===null&&(S=N);break}e&&S&&E.alternate===null&&t(m,S),p=i(E,p,g),j===null?C=E:j.sibling=E,j=E,S=N}if(g===v.length)return n(m,S),pe&&jn(m,g),C;if(S===null){for(;g<v.length;g++)S=f(m,v[g],_),S!==null&&(p=i(S,p,g),j===null?C=S:j.sibling=S,j=S);return pe&&jn(m,g),C}for(S=r(m,S);g<v.length;g++)N=y(S,m,g,v[g],_),N!==null&&(e&&N.alternate!==null&&S.delete(N.key===null?g:N.key),p=i(N,p,g),j===null?C=N:j.sibling=N,j=N);return e&&S.forEach(function(T){return t(m,T)}),pe&&jn(m,g),C}function w(m,p,v,_){var C=Wr(v);if(typeof C!="function")throw Error(O(150));if(v=C.call(v),v==null)throw Error(O(151));for(var j=C=null,S=p,g=p=0,N=null,E=v.next();S!==null&&!E.done;g++,E=v.next()){S.index>g?(N=S,S=null):N=S.sibling;var T=h(m,S,E.value,_);if(T===null){S===null&&(S=N);break}e&&S&&T.alternate===null&&t(m,S),p=i(T,p,g),j===null?C=T:j.sibling=T,j=T,S=N}if(E.done)return n(m,S),pe&&jn(m,g),C;if(S===null){for(;!E.done;g++,E=v.next())E=f(m,E.value,_),E!==null&&(p=i(E,p,g),j===null?C=E:j.sibling=E,j=E);return pe&&jn(m,g),C}for(S=r(m,S);!E.done;g++,E=v.next())E=y(S,m,g,E.value,_),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?g:E.key),p=i(E,p,g),j===null?C=E:j.sibling=E,j=E);return e&&S.forEach(function(R){return t(m,R)}),pe&&jn(m,g),C}function x(m,p,v,_){if(typeof v=="object"&&v!==null&&v.type===nr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qs:e:{for(var C=v.key,j=p;j!==null;){if(j.key===C){if(C=v.type,C===nr){if(j.tag===7){n(m,j.sibling),p=s(j,v.props.children),p.return=m,m=p;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Yt&&fu(C)===j.type){n(m,j.sibling),p=s(j,v.props),p.ref=Gr(m,j,v),p.return=m,m=p;break e}n(m,j);break}else t(m,j);j=j.sibling}v.type===nr?(p=Mn(v.props.children,m.mode,_,v.key),p.return=m,m=p):(_=Ri(v.type,v.key,v.props,null,m.mode,_),_.ref=Gr(m,p,v),_.return=m,m=_)}return o(m);case tr:e:{for(j=v.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=s(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else t(m,p);p=p.sibling}p=ao(v,m.mode,_),p.return=m,m=p}return o(m);case Yt:return j=v._init,x(m,p,j(v._payload),_)}if(Zr(v))return b(m,p,v,_);if(Wr(v))return w(m,p,v,_);ai(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=s(p,v),p.return=m,m=p):(n(m,p),p=io(v,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return x}var Er=Fh(!0),Bh=Fh(!1),qi=bn(null),Hi=null,ur=null,Zl=null;function ec(){Zl=ur=Hi=null}function tc(e){var t=qi.current;ue(qi),e._currentValue=t}function Yo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){Hi=e,Zl=ur=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Je=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Zl!==e)if(e={context:e,memoizedValue:t,next:null},ur===null){if(Hi===null)throw Error(O(308));ur=e,Hi.dependencies={lanes:0,firstContext:e}}else ur=ur.next=e;return t}var An=null;function nc(e){An===null?An=[e]:An.push(e)}function Wh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,nc(t)):(n.next=s.next,s.next=n),t.interleaved=n,Wt(e,r)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xt=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Wt(e,n)}return s=r.interleaved,s===null?(t.next=t,nc(r)):(t.next=s.next,s.next=t),r.interleaved=t,Wt(e,n)}function Si(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bl(e,n)}}function mu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var s=e.updateQueue;Xt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,y=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,w=l;switch(h=t,y=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(y,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(y,f,h):b,h==null)break e;f=ye({},f,h);break e;case 2:Xt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Un|=o,e.lanes=o,e.memoizedState=f}}function gu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var qs={},At=bn(qs),js=bn(qs),Ns=bn(qs);function On(e){if(e===qs)throw Error(O(174));return e}function sc(e,t){switch(le(Ns,t),le(js,e),le(At,qs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Po(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Po(t,e)}ue(At),le(At,t)}function Tr(){ue(At),ue(js),ue(Ns)}function Hh(e){On(Ns.current);var t=On(At.current),n=Po(t,e.type);t!==n&&(le(js,e),le(At,n))}function ic(e){js.current===e&&(ue(At),ue(js))}var fe=bn(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Za=[];function ac(){for(var e=0;e<Za.length;e++)Za[e]._workInProgressVersionPrimary=null;Za.length=0}var ji=Ht.ReactCurrentDispatcher,eo=Ht.ReactCurrentBatchConfig,Dn=0,ge=null,Ee=null,Ae=null,Gi=!1,ls=!1,Cs=0,Tg=0;function De(){throw Error(O(321))}function oc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function lc(e,t,n,r,s,i){if(Dn=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Og:Lg,e=n(r,s),ls){i=0;do{if(ls=!1,Cs=0,25<=i)throw Error(O(301));i+=1,Ae=Ee=null,t.updateQueue=null,ji.current=Ig,e=n(r,s)}while(ls)}if(ji.current=Qi,t=Ee!==null&&Ee.next!==null,Dn=0,Ae=Ee=ge=null,Gi=!1,t)throw Error(O(300));return e}function cc(){var e=Cs!==0;return Cs=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ge.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pt(){if(Ee===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Ae===null?ge.memoizedState:Ae.next;if(t!==null)Ae=t,Ee=e;else{if(e===null)throw Error(O(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ae===null?ge.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Es(e,t){return typeof t=="function"?t(e):t}function to(e){var t=pt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Ee,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Dn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ge.lanes|=d,Un|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,St(r,t.memoizedState)||(Je=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,Un|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function no(e){var t=pt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);St(i,t.memoizedState)||(Je=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Vh(){}function Kh(e,t){var n=ge,r=pt(),s=t(),i=!St(r.memoizedState,s);if(i&&(r.memoizedState=s,Je=!0),r=r.queue,uc(Jh.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Ts(9,Qh.bind(null,n,r,s,t),void 0,null),Oe===null)throw Error(O(349));Dn&30||Gh(n,t,s)}return s}function Gh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qh(e,t,n,r){t.value=n,t.getSnapshot=r,Yh(t)&&Xh(e)}function Jh(e,t,n){return n(function(){Yh(t)&&Xh(e)})}function Yh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function Xh(e){var t=Wt(e,1);t!==null&&_t(t,e,1,-1)}function vu(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=Ag.bind(null,ge,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zh(){return pt().memoizedState}function Ni(e,t,n,r){var s=Ct();ge.flags|=e,s.memoizedState=Ts(1|t,n,void 0,r===void 0?null:r)}function va(e,t,n,r){var s=pt();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,r!==null&&oc(r,o.deps)){s.memoizedState=Ts(t,n,i,r);return}}ge.flags|=e,s.memoizedState=Ts(1|t,n,i,r)}function yu(e,t){return Ni(8390656,8,e,t)}function uc(e,t){return va(2048,8,e,t)}function ep(e,t){return va(4,2,e,t)}function tp(e,t){return va(4,4,e,t)}function np(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rp(e,t,n){return n=n!=null?n.concat([e]):null,va(4,4,np.bind(null,t,e),n)}function dc(){}function sp(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ip(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&oc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ap(e,t,n){return Dn&21?(St(n,t)||(n=dh(),ge.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Je=!0),e.memoizedState=n)}function Rg(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=eo.transition;eo.transition={};try{e(!1),t()}finally{ae=n,eo.transition=r}}function op(){return pt().memoizedState}function Pg(e,t,n){var r=pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(e))cp(t,n);else if(n=Wh(e,t,n,r),n!==null){var s=Ve();_t(n,e,r,s),up(n,t,r)}}function Ag(e,t,n){var r=pn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(e))cp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,St(l,o)){var c=t.interleaved;c===null?(s.next=s,nc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Wh(e,t,s,r),n!==null&&(s=Ve(),_t(n,e,r,s),up(n,t,r))}}function lp(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function cp(e,t){ls=Gi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function up(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bl(e,n)}}var Qi={readContext:ht,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Og={readContext:ht,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:yu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4194308,4,np.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Pg.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:vu,useDebugValue:dc,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=vu(!1),t=e[0];return e=Rg.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Ct();if(pe){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Oe===null)throw Error(O(349));Dn&30||Gh(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,yu(Jh.bind(null,r,i,e),[e]),r.flags|=2048,Ts(9,Qh.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=Oe.identifierPrefix;if(pe){var n=Dt,r=$t;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lg={readContext:ht,useCallback:sp,useContext:ht,useEffect:uc,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:to,useRef:Zh,useState:function(){return to(Es)},useDebugValue:dc,useDeferredValue:function(e){var t=pt();return ap(t,Ee.memoizedState,e)},useTransition:function(){var e=to(Es)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Kh,useId:op,unstable_isNewReconciler:!1},Ig={readContext:ht,useCallback:sp,useContext:ht,useEffect:uc,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:no,useRef:Zh,useState:function(){return no(Es)},useDebugValue:dc,useDeferredValue:function(e){var t=pt();return Ee===null?t.memoizedState=e:ap(t,Ee.memoizedState,e)},useTransition:function(){var e=no(Es)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Kh,useId:op,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Xo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=pn(e),i=Ut(r,s);i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,s),t!==null&&(_t(t,e,s,r),Si(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=pn(e),i=Ut(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=dn(e,i,s),t!==null&&(_t(t,e,s,r),Si(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=pn(e),s=Ut(n,r);s.tag=2,t!=null&&(s.callback=t),t=dn(e,s,r),t!==null&&(_t(t,e,r,n),Si(t,e,r))}};function wu(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!bs(n,r)||!bs(s,i):!0}function dp(e,t,n){var r=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=Xe(t)?zn:We.current,r=t.contextTypes,i=(r=r!=null)?Nr(e,s):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ku(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function Zo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},rc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=Xe(t)?zn:We.current,s.context=Nr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Xo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ya.enqueueReplaceState(s,s.state,null),Vi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=cm(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ro(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function el(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function hp(e,t,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yi||(Yi=!0,ul=r),el(e,t)},n}function pp(e,t,n){n=Ut(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){el(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){el(e,t),typeof r!="function"&&(hn===null?hn=new Set([this]):hn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Jg.bind(null,e,t,n),t.then(e,e))}function xu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _u(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ut(-1,1),t.tag=2,dn(n,t,1))),n.lanes|=1),e)}var zg=Ht.ReactCurrentOwner,Je=!1;function He(e,t,n,r){t.child=e===null?Bh(t,null,n,r):Er(t,e.child,n,r)}function Su(e,t,n,r,s){n=n.render;var i=t.ref;return kr(t,s),r=lc(e,t,n,r,i,s),n=cc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(pe&&n&&Jl(t),t.flags|=1,He(e,t,r,s),t.child)}function ju(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!wc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fp(e,t,i,r,s)):(e=Ri(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:bs,n(o,r)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=fn(i,r),e.ref=t.ref,e.return=t,t.child=e}function fp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(bs(i,r)&&e.ref===t.ref)if(Je=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Je=!0);else return t.lanes=e.lanes,qt(e,t,s)}return tl(e,t,n,r,s)}function mp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(hr,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(hr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(hr,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,le(hr,tt),tt|=r;return He(e,t,s,n),t.child}function gp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tl(e,t,n,r,s){var i=Xe(n)?zn:We.current;return i=Nr(t,i),kr(t,s),n=lc(e,t,n,r,i,s),r=cc(),e!==null&&!Je?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(pe&&r&&Jl(t),t.flags|=1,He(e,t,n,s),t.child)}function Nu(e,t,n,r,s){if(Xe(n)){var i=!0;Fi(t)}else i=!1;if(kr(t,s),t.stateNode===null)Ci(e,t),dp(t,n,r),Zo(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Xe(n)?zn:We.current,u=Nr(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ku(t,o,r,u),Xt=!1;var h=t.memoizedState;o.state=h,Vi(t,r,o,s),c=t.memoizedState,l!==r||h!==c||Ye.current||Xt?(typeof d=="function"&&(Xo(t,n,d,r),c=t.memoizedState),(l=Xt||wu(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,qh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:yt(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=Xe(n)?zn:We.current,c=Nr(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ku(t,o,r,c),Xt=!1,h=t.memoizedState,o.state=h,Vi(t,r,o,s);var b=t.memoizedState;l!==f||h!==b||Ye.current||Xt?(typeof y=="function"&&(Xo(t,n,y,r),b=t.memoizedState),(u=Xt||wu(t,n,u,r,h,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return nl(e,t,n,r,i,s)}function nl(e,t,n,r,s,i){gp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&du(t,n,!1),qt(e,t,i);r=t.stateNode,zg.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Er(t,e.child,null,i),t.child=Er(t,null,l,i)):He(e,t,l,i),t.memoizedState=r.state,s&&du(t,n,!0),t.child}function vp(e){var t=e.stateNode;t.pendingContext?uu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uu(e,t.context,!1),sc(e,t.containerInfo)}function Cu(e,t,n,r,s){return Cr(),Xl(s),t.flags|=256,He(e,t,n,r),t.child}var rl={dehydrated:null,treeContext:null,retryLane:0};function sl(e){return{baseLanes:e,cachePool:null,transitions:null}}function yp(e,t,n){var r=t.pendingProps,s=fe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(fe,s&1),e===null)return Jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ba(o,r,0,null),e=Mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=sl(n),t.memoizedState=rl,e):hc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $g(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=fn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=fn(l,i):(i=Mn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?sl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=rl,r}return i=e.child,e=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function hc(e,t){return t=ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oi(e,t,n,r){return r!==null&&Xl(r),Er(t,e.child,null,n),e=hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $g(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ro(Error(O(422))),oi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ba({mode:"visible",children:r.children},s,0,null),i=Mn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Er(t,e.child,null,o),t.child.memoizedState=sl(o),t.memoizedState=rl,i);if(!(t.mode&1))return oi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(O(419)),r=ro(i,r,void 0),oi(e,t,o,r)}if(l=(o&e.childLanes)!==0,Je||l){if(r=Oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Wt(e,s),_t(r,e,s,-1))}return yc(),r=ro(Error(O(421))),oi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Yg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nt=un(s.nextSibling),rt=t,pe=!0,bt=null,e!==null&&(lt[ct++]=$t,lt[ct++]=Dt,lt[ct++]=$n,$t=e.id,Dt=e.overflow,$n=t),t=hc(t,r.children),t.flags|=4096,t)}function Eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Yo(e.return,t,n)}function so(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eu(e,n,t);else if(e.tag===19)Eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ki(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),so(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ki(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}so(t,!0,n,null,i);break;case"together":so(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Dg(e,t,n){switch(t.tag){case 3:vp(t),Cr();break;case 5:Hh(t);break;case 1:Xe(t.type)&&Fi(t);break;case 4:sc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;le(qi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?yp(e,t,n):(le(fe,fe.current&1),e=qt(e,t,n),e!==null?e.sibling:null);le(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,mp(e,t,n)}return qt(e,t,n)}var kp,il,bp,xp;kp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};il=function(){};bp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,On(At.current);var i=null;switch(n){case"input":s=Co(e,s),r=Co(e,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=Ro(e,s),r=Ro(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Di)}Ao(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ce("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qr(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ug(e,t,n){var r=t.pendingProps;switch(Yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Xe(t.type)&&Ui(),Ue(t),null;case 3:return r=t.stateNode,Tr(),ue(Ye),ue(We),ac(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bt!==null&&(pl(bt),bt=null))),il(e,t),Ue(t),null;case 5:ic(t);var s=On(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)bp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Ue(t),null}if(e=On(At.current),ii(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rt]=t,r[Ss]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(s=0;s<ts.length;s++)ce(ts[s],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":zc(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":Dc(r,i),ce("invalid",r)}Ao(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&si(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&si(r.textContent,l,e),s=["children",""+l]):fs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":Js(r),$c(r,i,!0);break;case"textarea":Js(r),Uc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Di)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rt]=t,e[Ss]=r,kp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Oo(n,r),n){case"dialog":ce("cancel",e),ce("close",e),s=r;break;case"iframe":case"object":case"embed":ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<ts.length;s++)ce(ts[s],e);s=r;break;case"source":ce("error",e),s=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=r;break;case"details":ce("toggle",e),s=r;break;case"input":zc(e,r),s=Co(e,r),ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),ce("invalid",e);break;case"textarea":Dc(e,r),s=Ro(e,r),ce("invalid",e);break;default:s=r}Ao(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ms(e,c):typeof c=="number"&&ms(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&Ml(e,i,c,o))}switch(n){case"input":Js(e),$c(e,r,!1);break;case"textarea":Js(e),Uc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?gr(e,!!r.multiple,i,!1):r.defaultValue!=null&&gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Di)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)xp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=On(Ns.current),On(At.current),ii(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(i=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:si(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&si(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Ue(t),null;case 13:if(ue(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&nt!==null&&t.mode&1&&!(t.flags&128))Uh(),Cr(),t.flags|=98560,i=!1;else if(i=ii(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Rt]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),i=!1}else bt!==null&&(pl(bt),bt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?Te===0&&(Te=3):yc())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Tr(),il(e,t),e===null&&xs(t.stateNode.containerInfo),Ue(t),null;case 10:return tc(t.type._context),Ue(t),null;case 17:return Xe(t.type)&&Ui(),Ue(t),null;case 19:if(ue(fe),i=t.memoizedState,i===null)return Ue(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Qr(i,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ki(e),o!==null){for(t.flags|=128,Qr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>Pr&&(t.flags|=128,r=!0,Qr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ki(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return Ue(t),null}else 2*xe()-i.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,Qr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,n=fe.current,le(fe,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return vc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Fg(e,t){switch(Yl(t),t.tag){case 1:return Xe(t.type)&&Ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),ue(Ye),ue(We),ac(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ic(t),null;case 13:if(ue(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(fe),null;case 4:return Tr(),null;case 10:return tc(t.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var li=!1,Be=!1,Bg=typeof WeakSet=="function"?WeakSet:Set,F=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(e,t,r)}else n.current=null}function al(e,t,n){try{n()}catch(r){be(e,t,r)}}var Tu=!1;function Wg(e,t){if(Wo=Mi,e=Ch(),Ql(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qo={focusedElem:e,selectionRange:n},Mi=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,x=b.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:yt(t.type,w),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){be(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return b=Tu,Tu=!1,b}function cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&al(t,n,i)}s=s.next}while(s!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _p(e){var t=e.alternate;t!==null&&(e.alternate=null,_p(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Ss],delete t[Ko],delete t[jg],delete t[Ng])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sp(e){return e.tag===5||e.tag===3||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Di));else if(r!==4&&(e=e.child,e!==null))for(ll(e,t,n),e=e.sibling;e!==null;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cl(e,t,n),e=e.sibling;e!==null;)cl(e,t,n),e=e.sibling}var Me=null,wt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 5:Be||dr(n,t);case 6:var r=Me,s=wt;Me=null,Jt(e,t,n),Me=r,wt=s,Me!==null&&(wt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(wt?(e=Me,n=n.stateNode,e.nodeType===8?Ya(e.parentNode,n):e.nodeType===1&&Ya(e,n),ws(e)):Ya(Me,n.stateNode));break;case 4:r=Me,s=wt,Me=n.stateNode.containerInfo,wt=!0,Jt(e,t,n),Me=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&al(n,t,o),s=s.next}while(s!==r)}Jt(e,t,n);break;case 1:if(!Be&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,t,l)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Jt(e,t,n),Be=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function Pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bg),t.forEach(function(r){var s=Xg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,wt=!1;break e;case 3:Me=l.stateNode.containerInfo,wt=!0;break e;case 4:Me=l.stateNode.containerInfo,wt=!0;break e}l=l.return}if(Me===null)throw Error(O(160));jp(i,o,s),Me=null,wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Np(t,e),t=t.sibling}function Np(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Nt(e),r&4){try{cs(3,e,e.return),wa(3,e)}catch(w){be(e,e.return,w)}try{cs(5,e,e.return)}catch(w){be(e,e.return,w)}}break;case 1:mt(t,e),Nt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(mt(t,e),Nt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var s=e.stateNode;try{ms(s,"")}catch(w){be(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Gd(s,i),Oo(l,o);var u=Oo(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?Zd(s,f):d==="dangerouslySetInnerHTML"?Yd(s,f):d==="children"?ms(s,f):Ml(s,d,f,u)}switch(l){case"input":Eo(s,i);break;case"textarea":Qd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?gr(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?gr(s,!!i.multiple,i.defaultValue,!0):gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ss]=i}catch(w){be(e,e.return,w)}}break;case 6:if(mt(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){be(e,e.return,w)}}break;case 3:if(mt(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ws(t.containerInfo)}catch(w){be(e,e.return,w)}break;case 4:mt(t,e),Nt(e);break;case 13:mt(t,e),Nt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mc=xe())),r&4&&Pu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||d,mt(t,e),Be=u):mt(t,e),Nt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(f=F=d;F!==null;){switch(h=F,y=h.child,h.tag){case 0:case 11:case 14:case 15:cs(4,h,h.return);break;case 1:dr(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){be(r,n,w)}}break;case 5:dr(h,h.return);break;case 22:if(h.memoizedState!==null){Ou(f);continue}}y!==null?(y.return=h,F=y):Ou(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xd("display",o))}catch(w){be(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){be(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mt(t,e),Nt(e),r&4&&Pu(e);break;case 21:break;default:mt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sp(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ms(s,""),r.flags&=-33);var i=Ru(e);cl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ru(e);ll(e,l,o);break;default:throw Error(O(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qg(e,t,n){F=e,Cp(e)}function Cp(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||li;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Be;l=li;var u=Be;if(li=o,(Be=c)&&!u)for(F=s;F!==null;)o=F,c=o.child,o.tag===22&&o.memoizedState!==null?Lu(s):c!==null?(c.return=o,F=c):Lu(s);for(;i!==null;)F=i,Cp(i),i=i.sibling;F=s,li=l,Be=u}Au(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):Au(e)}}function Au(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gu(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gu(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ws(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Be||t.flags&512&&ol(t)}catch(h){be(t,t.return,h)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Ou(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Lu(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wa(4,t)}catch(c){be(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){be(t,s,c)}}var i=t.return;try{ol(t)}catch(c){be(t,i,c)}break;case 5:var o=t.return;try{ol(t)}catch(c){be(t,o,c)}}}catch(c){be(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var Hg=Math.ceil,Ji=Ht.ReactCurrentDispatcher,pc=Ht.ReactCurrentOwner,dt=Ht.ReactCurrentBatchConfig,ie=0,Oe=null,je=null,ze=0,tt=0,hr=bn(0),Te=0,Rs=null,Un=0,ka=0,fc=0,us=null,Qe=null,mc=0,Pr=1/0,It=null,Yi=!1,ul=null,hn=null,ci=!1,sn=null,Xi=0,ds=0,dl=null,Ei=-1,Ti=0;function Ve(){return ie&6?xe():Ei!==-1?Ei:Ei=xe()}function pn(e){return e.mode&1?ie&2&&ze!==0?ze&-ze:Eg.transition!==null?(Ti===0&&(Ti=dh()),Ti):(e=ae,e!==0||(e=window.event,e=e===void 0?16:yh(e.type)),e):1}function _t(e,t,n,r){if(50<ds)throw ds=0,dl=null,Error(O(185));Fs(e,n,r),(!(ie&2)||e!==Oe)&&(e===Oe&&(!(ie&2)&&(ka|=n),Te===4&&tn(e,ze)),Ze(e,r),n===1&&ie===0&&!(t.mode&1)&&(Pr=xe()+500,ga&&xn()))}function Ze(e,t){var n=e.callbackNode;Em(e,t);var r=Ii(e,e===Oe?ze:0);if(r===0)n!==null&&Wc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wc(n),t===1)e.tag===0?Cg(Iu.bind(null,e)):zh(Iu.bind(null,e)),_g(function(){!(ie&6)&&xn()}),n=null;else{switch(hh(r)){case 1:n=Fl;break;case 4:n=ch;break;case 16:n=Li;break;case 536870912:n=uh;break;default:n=Li}n=Ip(n,Ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ep(e,t){if(Ei=-1,Ti=0,ie&6)throw Error(O(327));var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var r=Ii(e,e===Oe?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zi(e,r);else{t=r;var s=ie;ie|=2;var i=Rp();(Oe!==e||ze!==t)&&(It=null,Pr=xe()+500,In(e,t));do try{Gg();break}catch(l){Tp(e,l)}while(!0);ec(),Ji.current=i,ie=s,je!==null?t=0:(Oe=null,ze=0,t=Te)}if(t!==0){if(t===2&&(s=$o(e),s!==0&&(r=s,t=hl(e,s))),t===1)throw n=Rs,In(e,0),tn(e,r),Ze(e,xe()),n;if(t===6)tn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Vg(s)&&(t=Zi(e,r),t===2&&(i=$o(e),i!==0&&(r=i,t=hl(e,i))),t===1))throw n=Rs,In(e,0),tn(e,r),Ze(e,xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Nn(e,Qe,It);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=mc+500-xe(),10<t)){if(Ii(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Vo(Nn.bind(null,e,Qe,It),t);break}Nn(e,Qe,It);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-xt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hg(r/1960))-r,10<r){e.timeoutHandle=Vo(Nn.bind(null,e,Qe,It),r);break}Nn(e,Qe,It);break;case 5:Nn(e,Qe,It);break;default:throw Error(O(329))}}}return Ze(e,xe()),e.callbackNode===n?Ep.bind(null,e):null}function hl(e,t){var n=us;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=Zi(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&pl(t)),e}function pl(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Vg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!St(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~fc,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Iu(e){if(ie&6)throw Error(O(327));br();var t=Ii(e,0);if(!(t&1))return Ze(e,xe()),null;var n=Zi(e,t);if(e.tag!==0&&n===2){var r=$o(e);r!==0&&(t=r,n=hl(e,r))}if(n===1)throw n=Rs,In(e,0),tn(e,t),Ze(e,xe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nn(e,Qe,It),Ze(e,xe()),null}function gc(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Pr=xe()+500,ga&&xn())}}function Fn(e){sn!==null&&sn.tag===0&&!(ie&6)&&br();var t=ie;ie|=1;var n=dt.transition,r=ae;try{if(dt.transition=null,ae=1,e)return e()}finally{ae=r,dt.transition=n,ie=t,!(ie&6)&&xn()}}function vc(){tt=hr.current,ue(hr)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xg(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ui();break;case 3:Tr(),ue(Ye),ue(We),ac();break;case 5:ic(r);break;case 4:Tr();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:tc(r.type._context);break;case 22:case 23:vc()}n=n.return}if(Oe=e,je=e=fn(e.current,null),ze=tt=t,Te=0,Rs=null,fc=ka=Un=0,Qe=us=null,An!==null){for(t=0;t<An.length;t++)if(n=An[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}An=null}return e}function Tp(e,t){do{var n=je;try{if(ec(),ji.current=Qi,Gi){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gi=!1}if(Dn=0,Ae=Ee=ge=null,ls=!1,Cs=0,pc.current=null,n===null||n.return===null){Te=1,Rs=t,je=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=xu(o);if(y!==null){y.flags&=-257,_u(y,o,l,i,t),y.mode&1&&bu(i,u,t),t=y,c=u;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){bu(i,u,t),yc();break e}c=Error(O(426))}}else if(pe&&l.mode&1){var x=xu(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),_u(x,o,l,i,t),Xl(Rr(c,l));break e}}i=c=Rr(c,l),Te!==4&&(Te=2),us===null?us=[i]:us.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=hp(i,c,t);mu(i,m);break e;case 1:l=c;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(hn===null||!hn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=pp(i,l,t);mu(i,_);break e}}i=i.return}while(i!==null)}Ap(n)}catch(C){t=C,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Rp(){var e=Ji.current;return Ji.current=Qi,e===null?Qi:e}function yc(){(Te===0||Te===3||Te===2)&&(Te=4),Oe===null||!(Un&268435455)&&!(ka&268435455)||tn(Oe,ze)}function Zi(e,t){var n=ie;ie|=2;var r=Rp();(Oe!==e||ze!==t)&&(It=null,In(e,t));do try{Kg();break}catch(s){Tp(e,s)}while(!0);if(ec(),ie=n,Ji.current=r,je!==null)throw Error(O(261));return Oe=null,ze=0,Te}function Kg(){for(;je!==null;)Pp(je)}function Gg(){for(;je!==null&&!wm();)Pp(je)}function Pp(e){var t=Lp(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Ap(e):je=t,pc.current=null}function Ap(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Fg(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,je=null;return}}else if(n=Ug(n,t,tt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Te===0&&(Te=5)}function Nn(e,t,n){var r=ae,s=dt.transition;try{dt.transition=null,ae=1,Qg(e,t,n,r)}finally{dt.transition=s,ae=r}return null}function Qg(e,t,n,r){do br();while(sn!==null);if(ie&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tm(e,i),e===Oe&&(je=Oe=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,Ip(Li,function(){return br(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=ae;ae=1;var l=ie;ie|=4,pc.current=null,Wg(e,n),Np(n,e),mg(qo),Mi=!!Wo,qo=Wo=null,e.current=n,qg(n),km(),ie=l,ae=o,dt.transition=i}else e.current=n;if(ci&&(ci=!1,sn=e,Xi=s),i=e.pendingLanes,i===0&&(hn=null),_m(n.stateNode),Ze(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yi)throw Yi=!1,e=ul,ul=null,e;return Xi&1&&e.tag!==0&&br(),i=e.pendingLanes,i&1?e===dl?ds++:(ds=0,dl=e):ds=0,xn(),null}function br(){if(sn!==null){var e=hh(Xi),t=dt.transition,n=ae;try{if(dt.transition=null,ae=16>e?16:e,sn===null)var r=!1;else{if(e=sn,sn=null,Xi=0,ie&6)throw Error(O(331));var s=ie;for(ie|=4,F=e.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:cs(8,d,i)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var h=d.sibling,y=d.return;if(_p(d),d===u){F=null;break}if(h!==null){h.return=y,F=h;break}F=y}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cs(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,F=m;break e}F=i.return}}var p=e.current;for(F=p;F!==null;){o=F;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,F=v;else e:for(o=p;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wa(9,l)}}catch(C){be(l,l.return,C)}if(l===o){F=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,F=_;break e}F=l.return}}if(ie=s,xn(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(da,e)}catch{}r=!0}return r}finally{ae=n,dt.transition=t}}return!1}function Mu(e,t,n){t=Rr(n,t),t=hp(e,t,1),e=dn(e,t,1),t=Ve(),e!==null&&(Fs(e,1,t),Ze(e,t))}function be(e,t,n){if(e.tag===3)Mu(e,e,n);else for(;t!==null;){if(t.tag===3){Mu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hn===null||!hn.has(r))){e=Rr(n,e),e=pp(t,e,1),t=dn(t,e,1),e=Ve(),t!==null&&(Fs(t,1,e),Ze(t,e));break}}t=t.return}}function Jg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&(ze&n)===n&&(Te===4||Te===3&&(ze&130023424)===ze&&500>xe()-mc?In(e,0):fc|=n),Ze(e,t)}function Op(e,t){t===0&&(e.mode&1?(t=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):t=1);var n=Ve();e=Wt(e,t),e!==null&&(Fs(e,t,n),Ze(e,n))}function Yg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Op(e,n)}function Xg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),Op(e,n)}var Lp;Lp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Je=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Je=!1,Dg(e,t,n);Je=!!(e.flags&131072)}else Je=!1,pe&&t.flags&1048576&&$h(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ci(e,t),e=t.pendingProps;var s=Nr(t,We.current);kr(t,n),s=lc(null,t,r,e,s,n);var i=cc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(i=!0,Fi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rc(t),s.updater=ya,t.stateNode=s,s._reactInternals=t,Zo(t,r,e,n),t=nl(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&Jl(t),He(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ci(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=ev(r),e=yt(r,e),s){case 0:t=tl(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=Su(null,t,r,e,n);break e;case 14:t=ju(null,t,r,yt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),tl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Nu(e,t,r,s,n);case 3:e:{if(vp(t),e===null)throw Error(O(387));r=t.pendingProps,i=t.memoizedState,s=i.element,qh(e,t),Vi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Rr(Error(O(423)),t),t=Cu(e,t,r,n,s);break e}else if(r!==s){s=Rr(Error(O(424)),t),t=Cu(e,t,r,n,s);break e}else for(nt=un(t.stateNode.containerInfo.firstChild),rt=t,pe=!0,bt=null,n=Bh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===s){t=qt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Hh(t),e===null&&Jo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Ho(r,s)?o=null:i!==null&&Ho(r,i)&&(t.flags|=32),gp(e,t),He(e,t,o,n),t.child;case 6:return e===null&&Jo(t),null;case 13:return yp(e,t,n);case 4:return sc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Er(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Su(e,t,r,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,le(qi,r._currentValue),r._currentValue=o,i!==null)if(St(i.value,o)){if(i.children===s.children&&!Ye.current){t=qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ut(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yo(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Yo(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,kr(t,n),s=ht(s),r=r(s),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,s=yt(r,t.pendingProps),s=yt(r.type,s),ju(e,t,r,s,n);case 15:return fp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Ci(e,t),t.tag=1,Xe(r)?(e=!0,Fi(t)):e=!1,kr(t,n),dp(t,r,s),Zo(t,r,s,n),nl(null,t,r,!0,e,n);case 19:return wp(e,t,n);case 22:return mp(e,t,n)}throw Error(O(156,t.tag))};function Ip(e,t){return lh(e,t)}function Zg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new Zg(e,t,n,r)}function wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ev(e){if(typeof e=="function")return wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$l)return 11;if(e===Dl)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ri(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")wc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nr:return Mn(n.children,s,i,t);case zl:o=8,s|=8;break;case _o:return e=ut(12,n,t,s|2),e.elementType=_o,e.lanes=i,e;case So:return e=ut(13,n,t,s),e.elementType=So,e.lanes=i,e;case jo:return e=ut(19,n,t,s),e.elementType=jo,e.lanes=i,e;case Hd:return ba(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wd:o=10;break e;case qd:o=9;break e;case $l:o=11;break e;case Dl:o=14;break e;case Yt:o=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ut(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Mn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function ba(e,t,n,r){return e=ut(22,e,r,t),e.elementType=Hd,e.lanes=n,e.stateNode={isHidden:!1},e}function io(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function ao(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tv(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kc(e,t,n,r,s,i,o,l,c){return e=new tv(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ut(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rc(i),e}function nv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mp(e){if(!e)return yn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Mh(e,n,t)}return t}function zp(e,t,n,r,s,i,o,l,c){return e=kc(n,r,!0,e,s,i,o,l,c),e.context=Mp(null),n=e.current,r=Ve(),s=pn(n),i=Ut(r,s),i.callback=t??null,dn(n,i,s),e.current.lanes=s,Fs(e,s,r),Ze(e,r),e}function xa(e,t,n,r){var s=t.current,i=Ve(),o=pn(s);return n=Mp(n),t.context===null?t.context=n:t.pendingContext=n,t=Ut(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=dn(s,t,o),e!==null&&(_t(e,s,o,i),Si(e,s,o)),o}function ea(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bc(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}function rv(){return null}var $p=typeof reportError=="function"?reportError:function(e){console.error(e)};function xc(e){this._internalRoot=e}_a.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));xa(e,t,null,null)};_a.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){xa(null,e,null,null)}),t[Bt]=null}};function _a(e){this._internalRoot=e}_a.prototype.unstable_scheduleHydration=function(e){if(e){var t=mh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&vh(e)}};function _c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $u(){}function sv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ea(o);i.call(u)}}var o=zp(t,r,e,0,null,!1,!1,"",$u);return e._reactRootContainer=o,e[Bt]=o.current,xs(e.nodeType===8?e.parentNode:e),Fn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ea(c);l.call(u)}}var c=kc(e,0,!1,null,null,!1,!1,"",$u);return e._reactRootContainer=c,e[Bt]=c.current,xs(e.nodeType===8?e.parentNode:e),Fn(function(){xa(t,c,n,r)}),c}function ja(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=ea(o);l.call(c)}}xa(t,o,e,s)}else o=sv(n,t,e,s,r);return ea(o)}ph=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=es(t.pendingLanes);n!==0&&(Bl(t,n|1),Ze(t,xe()),!(ie&6)&&(Pr=xe()+500,xn()))}break;case 13:Fn(function(){var r=Wt(e,1);if(r!==null){var s=Ve();_t(r,e,1,s)}}),bc(e,1)}};Wl=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Ve();_t(t,e,134217728,n)}bc(e,134217728)}};fh=function(e){if(e.tag===13){var t=pn(e),n=Wt(e,t);if(n!==null){var r=Ve();_t(n,e,t,r)}bc(e,t)}};mh=function(){return ae};gh=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Io=function(e,t,n){switch(t){case"input":if(Eo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ma(r);if(!s)throw Error(O(90));Kd(r),Eo(r,s)}}}break;case"textarea":Qd(e,n);break;case"select":t=n.value,t!=null&&gr(e,!!n.multiple,t,!1)}};nh=gc;rh=Fn;var iv={usingClientEntryPoint:!1,Events:[Ws,ar,ma,eh,th,gc]},Jr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},av={bundleType:Jr.bundleType,version:Jr.version,rendererPackageName:Jr.rendererPackageName,rendererConfig:Jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ah(e),e===null?null:e.stateNode},findFiberByHostInstance:Jr.findFiberByHostInstance||rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{da=ui.inject(av),Pt=ui}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(t))throw Error(O(200));return nv(e,t,null,n)};it.createRoot=function(e,t){if(!_c(e))throw Error(O(299));var n=!1,r="",s=$p;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kc(e,1,!1,null,null,n,!1,r,s),e[Bt]=t.current,xs(e.nodeType===8?e.parentNode:e),new xc(t)};it.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=ah(t),e=e===null?null:e.stateNode,e};it.flushSync=function(e){return Fn(e)};it.hydrate=function(e,t,n){if(!Sa(t))throw Error(O(200));return ja(null,e,t,!0,n)};it.hydrateRoot=function(e,t,n){if(!_c(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$p;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zp(t,null,e,1,n??null,s,!1,i,o),e[Bt]=t.current,xs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new _a(t)};it.render=function(e,t,n){if(!Sa(t))throw Error(O(200));return ja(null,e,t,!1,n)};it.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(O(40));return e._reactRootContainer?(Fn(function(){ja(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};it.unstable_batchedUpdates=gc;it.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sa(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return ja(e,t,n,!1,r)};it.version="18.3.1-next-f1338f8080-20240426";function Dp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dp)}catch(e){console.error(e)}}Dp(),Dd.exports=it;var ov=Dd.exports,Du=ov;bo.createRoot=Du.createRoot,bo.hydrateRoot=Du.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ps.apply(this,arguments)}var an;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(an||(an={}));const Uu="popstate";function lv(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return fl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ta(s)}return uv(t,n,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cv(){return Math.random().toString(36).substr(2,8)}function Fu(e,t){return{usr:e.state,key:e.key,idx:t}}function fl(e,t,n,r){return n===void 0&&(n=null),Ps({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$r(t):t,{state:n,key:t&&t.key||r||cv()})}function ta(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $r(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function uv(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=an.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ps({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=an.Pop;let x=d(),m=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:m})}function h(x,m){l=an.Push;let p=fl(w.location,x,m);u=d()+1;let v=Fu(p,u),_=w.createHref(p);try{o.pushState(v,"",_)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(_)}i&&c&&c({action:l,location:w.location,delta:1})}function y(x,m){l=an.Replace;let p=fl(w.location,x,m);u=d();let v=Fu(p,u),_=w.createHref(p);o.replaceState(v,"",_),i&&c&&c({action:l,location:w.location,delta:0})}function b(x){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof x=="string"?x:ta(x);return p=p.replace(/ $/,"%20"),ve(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Uu,f),c=x,()=>{s.removeEventListener(Uu,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let m=b(x);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(x){return o.go(x)}};return w}var Bu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bu||(Bu={}));function dv(e,t,n){return n===void 0&&(n="/"),hv(e,t,n)}function hv(e,t,n,r){let s=typeof t=="string"?$r(t):t,i=Ar(s.pathname||"/",n);if(i==null)return null;let o=Up(e);pv(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Sv(i);l=xv(o[c],u)}return l}function Up(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=mn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ve(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Up(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:kv(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Fp(i.path))s(i,o,c)}),t}function Fp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Fp(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fv=/^:[\w-]+$/,mv=3,gv=2,vv=1,yv=10,wv=-2,Wu=e=>e==="*";function kv(e,t){let n=e.split("/"),r=n.length;return n.some(Wu)&&(r+=wv),t&&(r+=gv),n.filter(s=>!Wu(s)).reduce((s,i)=>s+(fv.test(i)?mv:i===""?vv:yv),r)}function bv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function xv(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ml({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:mn([i,f.pathname]),pathnameBase:Tv(mn([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=mn([i,f.pathnameBase]))}return o}function ml(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_v(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let w=l[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[f];return y&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function _v(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Sv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ar(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nv=e=>jv.test(e);function Cv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?$r(e):e,i;if(n)if(Nv(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Sc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=qu(n.substring(1),"/"):i=qu(n,t)}else i=t;return{pathname:i,search:Rv(r),hash:Pv(s)}}function qu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function oo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ev(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jc(e,t){let n=Ev(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nc(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=$r(e):(s=Ps({},e),ve(!s.pathname||!s.pathname.includes("?"),oo("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),oo("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),oo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Cv(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const mn=e=>e.join("/").replace(/\/\/+/g,"/"),Tv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Pv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Av(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bp=["post","put","patch","delete"];new Set(Bp);const Ov=["get",...Bp];new Set(Ov);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}const Na=k.createContext(null),Wp=k.createContext(null),Vt=k.createContext(null),Ca=k.createContext(null),Kt=k.createContext({outlet:null,matches:[],isDataRoute:!1}),qp=k.createContext(null);function Lv(e,t){let{relative:n}=t===void 0?{}:t;Dr()||ve(!1);let{basename:r,navigator:s}=k.useContext(Vt),{hash:i,pathname:o,search:l}=Ea(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:mn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Dr(){return k.useContext(Ca)!=null}function Ur(){return Dr()||ve(!1),k.useContext(Ca).location}function Hp(e){k.useContext(Vt).static||k.useLayoutEffect(e)}function ft(){let{isDataRoute:e}=k.useContext(Kt);return e?Kv():Iv()}function Iv(){Dr()||ve(!1);let e=k.useContext(Na),{basename:t,future:n,navigator:r}=k.useContext(Vt),{matches:s}=k.useContext(Kt),{pathname:i}=Ur(),o=JSON.stringify(jc(s,n.v7_relativeSplatPath)),l=k.useRef(!1);return Hp(()=>{l.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Nc(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function Cc(){let{matches:e}=k.useContext(Kt),t=e[e.length-1];return t?t.params:{}}function Ea(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(Vt),{matches:s}=k.useContext(Kt),{pathname:i}=Ur(),o=JSON.stringify(jc(s,r.v7_relativeSplatPath));return k.useMemo(()=>Nc(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Mv(e,t){return zv(e,t)}function zv(e,t,n,r){Dr()||ve(!1);let{navigator:s}=k.useContext(Vt),{matches:i}=k.useContext(Kt),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ur(),d;if(t){var f;let x=typeof t=="string"?$r(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||ve(!1),d=x}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=dv(e,{pathname:y}),w=Bv(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:mn([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:mn([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&w?k.createElement(Ca.Provider,{value:{location:As({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:an.Pop}},w):w}function $v(){let e=Vv(),t=Av(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),n?k.createElement("pre",{style:s},n):null,null)}const Dv=k.createElement($v,null);class Uv extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?k.createElement(Kt.Provider,{value:this.props.routeContext},k.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fv(e){let{routeContext:t,match:n,children:r}=e,s=k.useContext(Na);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Kt.Provider,{value:t},r)}function Bv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let y,b=!1,w=null,x=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||Dv,c&&(u<0&&h===0?(Gv("route-fallback"),b=!0,x=null):u===h&&(b=!0,x=f.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),p=()=>{let v;return y?v=w:b?v=x:f.route.Component?v=k.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,k.createElement(Fv,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?k.createElement(Uv,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Vp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vp||{}),Kp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kp||{});function Wv(e){let t=k.useContext(Na);return t||ve(!1),t}function qv(e){let t=k.useContext(Wp);return t||ve(!1),t}function Hv(e){let t=k.useContext(Kt);return t||ve(!1),t}function Gp(e){let t=Hv(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function Vv(){var e;let t=k.useContext(qp),n=qv(),r=Gp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Kv(){let{router:e}=Wv(Vp.UseNavigateStable),t=Gp(Kp.UseNavigateStable),n=k.useRef(!1);return Hp(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,As({fromRouteId:t},i)))},[e,t])}const Hu={};function Gv(e,t,n){Hu[e]||(Hu[e]=!0)}function Qv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Qp(e){let{to:t,replace:n,state:r,relative:s}=e;Dr()||ve(!1);let{future:i,static:o}=k.useContext(Vt),{matches:l}=k.useContext(Kt),{pathname:c}=Ur(),u=ft(),d=Nc(t,jc(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Fe(e){ve(!1)}function Jv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=an.Pop,navigator:i,static:o=!1,future:l}=e;Dr()&&ve(!1);let c=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:c,navigator:i,static:o,future:As({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=$r(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:b="default"}=r,w=k.useMemo(()=>{let x=Ar(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:y,key:b},navigationType:s}},[c,d,f,h,y,b,s]);return w==null?null:k.createElement(Vt.Provider,{value:u},k.createElement(Ca.Provider,{children:n,value:w}))}function Yv(e){let{children:t,location:n}=e;return Mv(gl(t),n)}new Promise(()=>{});function gl(e,t){t===void 0&&(t=[]);let n=[];return k.Children.forEach(e,(r,s)=>{if(!k.isValidElement(r))return;let i=[...t,s];if(r.type===k.Fragment){n.push.apply(n,gl(r.props.children,i));return}r.type!==Fe&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},na.apply(this,arguments)}function Jp(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Xv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Zv(e,t){return e.button===0&&(!t||t==="_self")&&!Xv(e)}const ey=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ty=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ny="6";try{window.__reactRouterVersion=ny}catch{}const ry=k.createContext({isTransitioning:!1}),sy="startTransition",Vu=Jf[sy];function iy(e){let{basename:t,children:n,future:r,window:s}=e,i=k.useRef();i.current==null&&(i.current=lv({window:s,v5Compat:!0}));let o=i.current,[l,c]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=k.useCallback(f=>{u&&Vu?Vu(()=>c(f)):c(f)},[c,u]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>Qv(r),[r]),k.createElement(Jv,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const ay=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yp=k.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Jp(t,ey),{basename:y}=k.useContext(Vt),b,w=!1;if(typeof u=="string"&&oy.test(u)&&(b=u,ay))try{let v=new URL(window.location.href),_=u.startsWith("//")?new URL(v.protocol+u):new URL(u),C=Ar(_.pathname,y);_.origin===v.origin&&C!=null?u=C+_.search+_.hash:w=!0}catch{}let x=Lv(u,{relative:s}),m=cy(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function p(v){r&&r(v),v.defaultPrevented||m(v)}return k.createElement("a",na({},h,{href:b||x,onClick:w||i?r:p,ref:n,target:c}))}),Ku=k.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=Jp(t,ty),h=Ea(c,{relative:f.relative}),y=Ur(),b=k.useContext(Wp),{navigator:w,basename:x}=k.useContext(Vt),m=b!=null&&uy(h)&&u===!0,p=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,v=y.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(v=v.toLowerCase(),_=_?_.toLowerCase():null,p=p.toLowerCase()),_&&x&&(_=Ar(_,x)||_);const C=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=v===p||!o&&v.startsWith(p)&&v.charAt(C)==="/",S=_!=null&&(_===p||!o&&_.startsWith(p)&&_.charAt(p.length)==="/"),g={isActive:j,isPending:S,isTransitioning:m},N=j?r:void 0,E;typeof i=="function"?E=i(g):E=[i,j?"active":null,S?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(g):l;return k.createElement(Yp,na({},f,{"aria-current":N,className:E,ref:n,style:T,to:c,viewTransition:u}),typeof d=="function"?d(g):d)});var vl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vl||(vl={}));var Gu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gu||(Gu={}));function ly(e){let t=k.useContext(Na);return t||ve(!1),t}function cy(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ft(),u=Ur(),d=Ea(e,{relative:o});return k.useCallback(f=>{if(Zv(f,n)){f.preventDefault();let h=r!==void 0?r:ta(u)===ta(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}function uy(e,t){t===void 0&&(t={});let n=k.useContext(ry);n==null&&ve(!1);let{basename:r}=ly(vl.useViewTransitionState),s=Ea(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ml(s.pathname,o)!=null||ml(s.pathname,i)!=null}function Ta(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function dy(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}const hy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ec extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class py extends Ec{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qu extends Ec{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ju extends Ec{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yl||(yl={}));class fy{constructor(t,{headers:n={},customFetch:r,region:s=yl.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=hy(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return dy(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=r;let h={},{region:y}=r;y||(y=this.region);const b=new URL(`${this.url}/${n}`);y&&y!=="any"&&(h["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const m=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:w,signal:x}).catch(C=>{throw new py(C)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new Qu(m);if(!m.ok)throw new Ju(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return v==="application/json"?_=yield m.json():v==="application/octet-stream"||v==="application/pdf"?_=yield m.blob():v==="text/event-stream"?_=m:v==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(l){return{data:null,error:l,response:l instanceof Ju||l instanceof Qu?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var my=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},gy=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(n.method!=="HEAD"){var y;const m=await i.text();m===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?l=m:l=JSON.parse(m))}const w=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&w===""?(u=204,d="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&n.shouldThrowOnError)throw new my(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",w=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${b}`,w&&(l+=` (${w})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var y;l=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},vy=class extends gy{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Yu=new RegExp("[,()]");var Xn=class extends vy{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Yu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Yu.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},yy=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),r&&c.append("Prefer",`count=${r}`),new Xn({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Xn({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Xn({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Xn({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Xn({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},wy=class Xp{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yy(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(d)),f=r&&Object.values(n).some(d);f?(l="POST",u=n):r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{c.searchParams.append(y,b)})):(l="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Xn({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class ky{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const by="2.93.2",xy=`realtime-js/${by}`,_y="1.0.0",Zp="2.0.0",Xu=Zp,wl=1e4,Sy=1e3,jy=100;var Zt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zt||(Zt={}));var Ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ce||(Ce={}));var kt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kt||(kt={}));var kl;(function(e){e.websocket="websocket"})(kl||(kl={}));var Tn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Tn||(Tn={}));class Ny{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,r){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,y=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(y),w=0;b.setUint8(w++,this.KINDS.userBroadcastPush),b.setUint8(w++,c.length),b.setUint8(w++,l.length),b.setUint8(w++,o.length),b.setUint8(w++,u.length),b.setUint8(w++,f.length),b.setUint8(w++,n),Array.from(c,m=>b.setUint8(w++,m.charCodeAt(0))),Array.from(l,m=>b.setUint8(w++,m.charCodeAt(0))),Array.from(o,m=>b.setUint8(w++,m.charCodeAt(0))),Array.from(u,m=>b.setUint8(w++,m.charCodeAt(0))),Array.from(f,m=>b.setUint8(w++,m.charCodeAt(0)));var x=new Uint8Array(y.byteLength+r.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(r),y.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,l,c]=r;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+i));c=c+i;const f=r.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:y};return o>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class ef{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(oe||(oe={}));const Zu=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Cy(o,e,t,s),i),{}):{}},Cy=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?tf(i,o):bl(o)},tf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Py(t,n)}switch(e){case oe.bool:return Ey(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Ty(t);case oe.json:case oe.jsonb:return Ry(t);case oe.timestamp:return Ay(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return bl(t);default:return bl(t)}},bl=e=>e,Ey=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ty=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ry=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Py=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>tf(t,l))}return e},Ay=e=>typeof e=="string"?e.replace(" ","T"):e,nf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lo{constructor(t,n,r={},s=wl){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ed;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ed||(ed={}));class hs{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=hs.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hs.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),y=f.map(x=>x.presence_ref),b=d.filter(x=>y.indexOf(x.presence_ref)<0),w=f.filter(x=>h.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),h=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var td;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(td||(td={}));var ps;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ps||(ps={}));var Mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class pr{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lo(this,kt.join,this.params,this.timeout),this.rejoinTimer=new ef(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ce.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new hs(this),this.broadcastEndpointURL=nf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ce.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[ps.PRESENCE]&&this.bindings[ps.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(Mt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(Mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,m=[];for(let p=0;p<x;p++){const v=w[p],{filter:{event:_,schema:C,table:j,filter:S}}=v,g=y&&y[p];if(g&&g.event===_&&pr.isFilterValueEqual(g.schema,C)&&pr.isFilterValueEqual(g.table,j)&&pr.isFilterValueEqual(g.filter,S))m.push(Object.assign(Object.assign({},v),{id:g.id}));else{this.unsubscribe(),this.state=Ce.errored,t==null||t(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Mt.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ce.errored,t==null||t(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ce.joined&&t===ps.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new lo(this,kt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ce.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lo(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jy){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=kt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var b,w,x;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(w=y.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(y=>y.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var b,w,x,m,p,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,C=(b=y.filter)===null||b===void 0?void 0:b.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:w,table:x,commit_timestamp:m,type:p,errors:v}=b;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:m,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(b))}y.callback(h,r)})}_isClosed(){return this.state===Ce.closed}_isJoined(){return this.state===Ce.joined}_isJoining(){return this.state===Ce.joining}_isLeaving(){return this.state===Ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pr.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kt.close,{},t)}_onError(t){this._on(kt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Zu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Zu(t.columns,t.old_record)),n}}const co=()=>{},di={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Oy=[1e3,2e3,5e3,1e4],Ly=1e4,Iy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class My{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wl,this.transport=null,this.heartbeatIntervalMs=di.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=co,this.ref=0,this.reconnectTimer=null,this.vsn=Xu,this.logger=co,this.conn=null,this.sendBuffer=[],this.serializer=new Ny,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${kl.websocket}`,this.httpEndpoint=nf(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ky.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zt.connecting:return Tn.Connecting;case Zt.open:return Tn.Open;case Zt.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new pr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Sy,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},di.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Zt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zt.open||this.conn.readyState===Zt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(kt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Iy],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:xy};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(kt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ef(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},di.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,u,d,f,h,y;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:wl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:di.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:co,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Xu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>Oy[b-1]||Ly,this.vsn){case _y:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,w)=>w(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,w)=>w(JSON.parse(b));break;case Zp:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Os=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zy(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function $y(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Dy(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:o}){const l=zy(e.baseUrl,r,s),c=await $y(e.auth),u=await t(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const y=f?h:void 0,b=y==null?void 0:y.error;throw new Os((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:y})}return{status:u.status,headers:u.headers,data:h}}}}function hi(e){return e.join("")}var Uy=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hi(e.namespace)}`}),!0}catch(t){if(t instanceof Os&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Os&&n.status===409)return;throw n}}};function Vn(e){return e.join("")}var Fy=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Os&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Os&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},By=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Dy({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Uy(this.client,t),this.tableOps=new Fy(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Ra=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Pa(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var pi=class extends Ra{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rf=class extends Ra{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Wy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xl=e=>{if(Array.isArray(e))return e.map(n=>xl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=xl(r)}),t},Hy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function Vy(e,t){if(Ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ky(e){var t=Vy(e,"string");return Ls(t)=="symbol"?t:t+""}function Gy(e,t,n){return(t=Ky(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nd(Object(n),!0).forEach(function(r){Gy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const rd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Qy=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new pi(rd(o),i,l,r))}).catch(()=>{if(r==="vectors"){const o=i+"";t(new pi(s.statusText||`HTTP ${i} error`,i,o,r))}else{const o=i+"";t(new pi(s.statusText||`HTTP ${i} error`,i,o,r))}});else{const o=i+"";t(new pi(s.statusText||`HTTP ${i} error`,i,o,r))}}else t(new rf(rd(e),e,r))},Jy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?G(G({},s),n):(qy(r)?(s.headers=G({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),G(G({},s),n))};async function Yr(e,t,n,r,s,i,o){return new Promise((l,c)=>{e(n,Jy(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>Qy(u,c,r,o))})}function Yy(e="storage"){return{get:async(t,n,r,s)=>Yr(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>Yr(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>Yr(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>Yr(t,"HEAD",n,G(G({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>Yr(t,"DELETE",n,s,i,r,e)}}const Xy=Yy("storage"),{get:Is,post:he,put:_l,head:Zy,remove:Tc}=Xy;var Fr=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Wy(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Pa(n))return{data:null,error:n};throw n}}},ew=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pa(t))return{data:null,error:t};throw t}}};let sf;sf=Symbol.toStringTag;var tw=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[sf]="BlobDownloadBuilder",this.promise=null}asStream(){return new ew(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Pa(t))return{data:null,error:t};throw t}}};const nw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var rw=class extends Fr{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const o=G(G({},sd),r);let l=G(G({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r!=null&&r.headers&&(l=G(G({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?_l:he)(s.fetch,`${s.url}/object/${d}`,i,G({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=G({upsert:sd.upsert},r),d=G(G({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await _l(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=G({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await he(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(n.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ra("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await he(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await he(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await he(r.fetch,`${r.url}/object/sign/${s}`,G({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await he(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(o=>G(G({},o),{},{signedUrl:o.signedURL?encodeURI(`${r.url}${o.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),o=()=>Is(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new tw(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>xl(await Is(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Zy(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pa(r)&&r instanceof rf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&r.push(o);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Tc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=G(G(G({},nw),t),{},{prefix:e||""});return await he(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=G({},e);return await he(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const sw="2.93.2",Hs={"X-Client-Info":`storage-js/${sw}`};var iw=class extends Fr{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=G(G({},Hs),t);super(i,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Is(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Is(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await he(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await _l(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},aw=class extends Fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=G(G({},Hs),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Is(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Tc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Hy(e))throw new Ra("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new By({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},ow=class extends Fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=G(G({},Hs),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await he(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await he(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},lw=class extends Fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=G(G({},Hs),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await he(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await he(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await he(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},cw=class extends Fr{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=G(G({},Hs),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await he(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},uw=class extends cw{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new dw(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},dw=class extends ow{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new hw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},hw=class extends lw{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,G(G({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},pw=class extends iw{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new rw(this.url,this.headers,e,this.fetch)}get vectors(){return new uw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aw(this.url+"/iceberg",this.headers,this.fetch)}};const af="2.93.2",Zn=30*1e3,Sl=3,uo=Sl*Zn,fw="http://localhost:9999",mw="supabase.auth.token",gw={"X-Client-Info":`gotrue-js/${af}`},jl="X-Supabase-Api-Version",of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yw=10*60*1e3;class Ms extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ww extends Ms{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function kw(e){return B(e)&&e.name==="AuthApiError"}class Rn extends Ms{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gt extends Ms{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class et extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ho(e){return B(e)&&e.name==="AuthSessionMissingError"}class Kn extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fi extends Gt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mi extends Gt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bw(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class id extends Gt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xw extends Gt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nl extends Gt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function po(e){return B(e)&&e.name==="AuthRetryableFetchError"}class ad extends Gt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cl extends Gt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),od=` 	
\r=`.split(""),_w=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<od.length;t+=1)e[od[t].charCodeAt(0)]=-2;for(let t=0;t<ra.length;t+=1)e[ra[t].charCodeAt(0)]=t;return e})();function ld(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ra[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ra[r]),t.queuedBits-=6}}function lf(e,t,n){const r=_w[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cd(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Nw(o,r,n)};for(let o=0;o<e.length;o+=1)lf(e.charCodeAt(o),s,i);return t.join("")}function Sw(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jw(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Sw(r,t)}}function Nw(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)lf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function Cw(e){const t=[];return jw(e,n=>t.push(n)),new Uint8Array(t)}function Ln(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ld(s,n,r)),ld(null,n,r),t.join("")}function Ew(e){return Math.round(Date.now()/1e3)+e}function Tw(){return Symbol("auth-callback")}const Ie=()=>typeof window<"u"&&typeof document<"u",_n={tested:!1,writable:!1},cf=()=>{if(!Ie())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_n.tested)return _n.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_n.tested=!0,_n.writable=!0}catch{_n.tested=!0,_n.writable=!1}return _n.writable};function Rw(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const uf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pw=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",er=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Le=async(e,t)=>{await e.removeItem(t)};class Aa{constructor(){this.promise=new Aa.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Aa.promiseConstructor=Promise;function gi(e){const t=e.split(".");if(t.length!==3)throw new Cl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!vw.test(t[r]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(cd(t[0])),payload:JSON.parse(cd(t[1])),signature:xr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Aw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ow(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Lw(e){return("0"+e.toString(16)).substr(-2)}function Iw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Lw).join("")}async function Mw(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function zw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Mw(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(e,t,n=!1){const r=Iw();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await er(e,`${t}-code-verifier`,s);const i=await zw(r);return[i,r===i?"plain":"s256"]}const $w=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dw(e){const t=e.headers.get(jl);if(!t||!t.match($w))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Uw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qn(e){if(!Bw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fo(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ww(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function ud(e){return JSON.parse(JSON.stringify(e))}const Cn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qw=[502,503,504];async function dd(e){var t;if(!Pw(e))throw new Nl(Cn(e),0);if(qw.includes(e.status))throw new Nl(Cn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Rn(Cn(i),i)}let r;const s=Dw(e);if(s&&s.getTime()>=of["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ad(Cn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new et}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ad(Cn(n),e.status,n.weak_password.reasons);throw new ww(Cn(n),e.status||500,r)}const Hw=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function H(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[jl]||(i[jl]=of["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Vw(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function Vw(e,t,n,r,s,i){const o=Hw(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Nl(Cn(c),0)}if(l.ok||await dd(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await dd(c)}}function vt(e){var t;let n=null;Qw(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ew(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function hd(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function nn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Kw(e){return{data:e,error:null}}function Gw(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=Ta(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function pd(e){return e}function Qw(e){return e.access_token&&e.refresh_token&&e.expires_in}const mo=["global","local","others"];class Jw{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=uf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=mo[0]){if(mo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mo.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:nn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ta(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:nn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pd});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qn(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:nn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qn(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:nn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qn(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:nn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qn(t.userId);try{const{data:n,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qn(t.userId),Qn(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pd});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(B(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}}function fd(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jn={debug:!!(globalThis&&cf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class df extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Yw extends df{}async function Xw(e,t,n){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Jn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Zw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ek(e){return parseInt(e,16)}function tk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function nk(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=hf(e.address),b=d?`${d}://${r}`:r,w=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${y}

${w}`;let m=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),l&&(m+=`
Not Before: ${l.toISOString()}`),c&&(m+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}m+=p}return`${x}
${m}`}class Se extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class sa extends Se{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function rk({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Se({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(pf(o)){if(i.rp.id!==o)return new Se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sk({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Se({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(pf(r)){if(n.rpId!==r)return new Se({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class ik{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const ak=new ik;function ok(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Ta(e,["challenge","user","excludeCredentials"]),i=xr(t).buffer,o=Object.assign(Object.assign({},n),{id:xr(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:xr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function lk(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ta(e,["challenge","allowCredentials"]),s=xr(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:xr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function ck(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ln(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ln(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ln(new Uint8Array(s.authenticatorData)),clientDataJSON:Ln(new Uint8Array(s.clientDataJSON)),signature:Ln(new Uint8Array(s.signature)),userHandle:s.userHandle?Ln(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function md(){var e,t;return!!(Ie()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sa("Browser returned unexpected credential type",t)}:{data:null,error:new sa("Empty credential response",t)}}catch(t){return{data:null,error:rk({error:t,options:e})}}}async function hk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sa("Browser returned unexpected credential type",t)}:{data:null,error:new sa("Empty credential response",t)}}catch(t){return{data:null,error:sk({error:t,options:e})}}}const pk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ia(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const l=r[i];t(l)?r[i]=ia(l,o):r[i]=ia(o)}else r[i]=o}return r}function mk(e,t){return ia(pk,e,t||{})}function gk(e,t){return ia(fk,e,t||{})}class vk{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??ak.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=mk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await dk({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=gk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await hk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ms("rpId is required for WebAuthn authentication")};try{if(!md())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ms("rpId is required for WebAuthn registration")};try{if(!md())return{data:null,error:new Rn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return B(o)?{data:null,error:o}:{data:null,error:new Rn("Unexpected error in register",o)}}}}Zw();const yk={url:fw,storageKey:mw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function gd(e,t,n){return await n()}const Yn={};class zs{get jwks(){var t,n;return(n=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yk),t);if(this.storageKey=i.storageKey,this.instanceID=(n=zs.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ie()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Jw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uf(i.fetch),this.lock=i.lock||gd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Ie()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Xw:this.lock=gd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:cf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=fd(this.memoryStorage)),Ie()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${af}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ie()&&(n=Rw(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ie()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bw(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?this._returnResult({error:n}):this._returnResult({error:new Rn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Gn(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:b},xform:vt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vt})}else throw new fi("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await Le(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hd})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hd})}else throw new fi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new Kn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,u,d,f,h;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:w,wallet:x,statement:m,options:p}=t;let v;if(Ie())if(typeof x=="object")v=x;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")v=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),C=await v.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=hf(C[0]);let S=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!S){const N=await v.request({method:"eth_chainId"});S=ek(N)}const g={domain:_.host,address:j,statement:m,uri:_.href,version:"1",chainId:S,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=nk(g),b=await v.request({method:"personal_sign",params:[tk(y),j]})}try{const{data:w,error:x}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:vt});if(x)throw x;if(!w||!w.session||!w.user){const m=new Kn;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(B(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,f,h,y;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:x,wallet:m,statement:p,options:v}=t;let _;if(Ie())if(typeof m=="object")_=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const C=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),p?{statement:p}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=j}}try{const{data:x,error:m}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ln(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:vt});if(m)throw m;if(!x||!x.session||!x.user){const p=new Kn;return this._returnResult({data:{user:null,session:null},error:p})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:m})}catch(x){if(B(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Sn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new xw;const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vt});if(await Le(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Kn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Kn;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gn(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new fi("You must provide either an email or phone number.")}catch(l){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gn(this.storage,this.storageKey));const u=await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Kw});return!((i=u.data)===null||i===void 0)&&i.url&&Ie()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new et;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(B(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new fi("You must provide either an email or phone number and a type")}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<uo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Sn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=fo()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Ww(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:nn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new et}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:nn})})}catch(n){if(B(n))return ho(n)&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new et;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gn(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:nn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new et;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=gi(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(B(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new et;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(B(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ie())throw new mi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new id("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new id("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new mi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const y=h-d;y*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(r){if(B(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!ho(i))return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(kw(l)&&(l.status===404||l.status===401||l.status===403)||ho(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Tw(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gn(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ie()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(B(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:vt}),{data:h,error:y}=f;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Kn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(s){if(await Le(this.storage,`${this.storageKey}-code-verifier`),B(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ow(async s=>(s>0&&await Aw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&po(i)&&Date.now()+o-r<Zn})}catch(r){if(this._debug(n,"error",r),B(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ie()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Sn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await er(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:fo()}else if(s&&!s.user&&!s.user){const o=await Sn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Le(this.storage,this.storageKey+"-user"),await er(this.storage,this.storageKey,s)):s.user=fo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${uo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),po(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Aa;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const o={data:null,error:i};return po(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Le(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await er(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ud(s);await er(this.storage,this.storageKey,i)}else{const s=ud(n);await er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Le(this.storage,this.storageKey),await Le(this.storage,this.storageKey+"-code-verifier"),await Le(this.storage,this.storageKey+"-user"),this.userStorage&&await Le(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ie()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zn}ms, refresh threshold is ${Sl} ticks`),s<=Sl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof df)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ie()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ck(t.webauthn.credential_response):uk(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ok(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:lk(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:y}=gi(t);let b=null;y.aal&&(b=y.aal);let w=b;const{data:{user:x},error:m}=await this.getUser(t);if(m)return this._returnResult({data:null,error:m});((r=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(w="aal2");const v=y.amr||[];return{data:{currentLevel:b,nextLevel:w,currentAuthenticationMethods:v},error:null}}catch(y){if(B(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=gi(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await H(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new et})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new et});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ie()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new et});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ie()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await H(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new et})})}catch(t){if(B(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await H(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new et})})}catch(n){if(B(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+yw>s)return r;const{data:i,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return this._returnResult({data:null,error:b});r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=gi(r);n!=null&&n.allowExpired||Uw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=Fw(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Cw(`${l}.${c}`)))throw new Cl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return this._returnResult({data:null,error:r});throw r}}}zs.nextInstanceID={};const wk=zs,kk="2.93.2";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const bk={"X-Client-Info":`supabase-js-${ns}/${kk}`},xk={headers:bk},_k={schema:"public"},Sk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jk={};function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function Nk(e,t){if($s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ck(e){var t=Nk(e,"string");return $s(t)=="symbol"?t:t+""}function Ek(e,t,n){return(t=Ck(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vd(Object(n),!0).forEach(function(r){Ek(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Tk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rk=()=>Headers,Pk=(e,t,n)=>{const r=Tk(n),s=Rk();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,ke(ke({},o),{},{headers:u}))}};function Ak(e){return e.endsWith("/")?e:e+"/"}function Ok(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:ke(ke({},c),s),auth:ke(ke({},u),i),realtime:ke(ke({},d),o),storage:{},global:ke(ke(ke({},f),l),{},{headers:ke(ke({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Lk(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ak(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ik=class extends wk{constructor(e){super(e)}},Mk=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Lk(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:_k,realtime:jk,auth:ke(ke({},Sk),{},{storageKey:o}),global:xk},c=Ok(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Pk(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new wy(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new pw(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new fy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ik({url:this.authUrl.href,headers:ke(ke({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new My(this.realtimeUrl.href,ke(ke({},e),{},{params:ke(ke({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const zk=(e,t,n)=>new Mk(e,t,n);function $k(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}$k()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Dk="https://qmoflreegstjebzzdoft.supabase.co",Uk="sb_publishable_DZmxAmQje9MCykm_xEMgdA__osjJvz0",J=zk(Dk,Uk),ff=k.createContext(void 0);function Fk({children:e}){const[t,n]=k.useState(null),[r,s]=k.useState(!0);k.useEffect(()=>{let o=!0;async function l(){const{data:u,error:d}=await J.auth.getSession();o&&(d&&console.error("supabase.auth.getSession error:",d),n((u==null?void 0:u.session)??null),s(!1))}l();const{data:c}=J.auth.onAuthStateChange((u,d)=>{n(d),s(!1)});return()=>{var u,d;o=!1,(d=(u=c==null?void 0:c.subscription)==null?void 0:u.unsubscribe)==null||d.call(u)}},[]);const i=k.useMemo(()=>({session:t,user:(t==null?void 0:t.user)??null,loading:r}),[t,r]);return a.jsx(ff.Provider,{value:i,children:e})}function ot(){const e=k.useContext(ff);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Et={languages:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"24",r:"18"}),a.jsx("ellipse",{cx:"24",cy:"24",rx:"8",ry:"18"}),a.jsx("path",{d:"M6 18h36"}),a.jsx("path",{d:"M6 30h36"})]}),adaptive:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M24 6l4 8 9 1-6 6 2 9-9-4-9 4 2-9-6-6 9-1z"}),a.jsx("circle",{cx:"24",cy:"24",r:"6"}),a.jsx("path",{d:"M24 18v-2M24 32v-2M18 24h-2M32 24h-2"})]}),accessibility:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"8",y:"6",width:"32",height:"36",rx:"4"}),a.jsx("path",{d:"M16 16h16"}),a.jsx("path",{d:"M16 24h12"}),a.jsx("path",{d:"M16 32h8"}),a.jsx("circle",{cx:"36",cy:"36",r:"6",fill:"currentColor",opacity:"0.3"}),a.jsx("path",{d:"M33 36h6M36 33v6",stroke:"currentColor",strokeWidth:"2"})]}),community:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"14",r:"8"}),a.jsx("circle",{cx:"10",cy:"28",r:"6"}),a.jsx("circle",{cx:"38",cy:"28",r:"6"}),a.jsx("path",{d:"M16 42c0-6 4-10 8-10s8 4 8 10"}),a.jsx("path",{d:"M4 42c0-4 2-6 6-6"}),a.jsx("path",{d:"M44 42c0-4-2-6-6-6"})]}),mail:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),a.jsx("path",{d:"M22 6l-10 7L2 6"})]}),lock:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2"}),a.jsx("path",{d:"M7 11V7a5 5 0 0110 0v4"})]}),eye:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),eyeOff:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24"}),a.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),arrowRight:a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})}),google:a.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})},Bk=[{icon:Et.languages,title:"Multiple Languages",description:"Learn 50+ languages with native speakers"},{icon:Et.adaptive,title:"Adaptive Learning",description:"Personalized lessons that fit your style"},{icon:Et.accessibility,title:"Accessibility First",description:"Designed for all learning needs"},{icon:Et.community,title:"Community Support",description:"Connect with learners worldwide"}];function Wk(){const e=ft(),{loading:t}=ot(),[n,r]=k.useState(!1),[s,i]=k.useState(!1),[o,l]=k.useState(!1),[c,u]=k.useState(""),[d,f]=k.useState({email:"",password:""}),h=w=>{f({...d,[w.target.name]:w.target.value}),u("")},y=async w=>{w.preventDefault(),u(""),i(!0);try{if(n){const{data:x,error:m}=await J.auth.signUp({email:d.email,password:d.password,options:{data:{onboarding_completed:!1}}});if(m)throw m;x!=null&&x.session?e("/onboarding"):(u("Check your email to confirm your account, then sign in."),r(!1))}else{const{data:x,error:m}=await J.auth.signInWithPassword({email:d.email,password:d.password});if(m)throw m;x!=null&&x.session&&e("/dashboard")}}catch(x){u((x==null?void 0:x.message)||"Authentication failed")}finally{i(!1)}},b=async()=>{u(""),i(!0);try{const{error:w}=await J.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/onboarding`}});if(w)throw w}catch(w){u((w==null?void 0:w.message)||"Google sign-in failed"),i(!1)}};return a.jsxs("div",{className:"login-page",children:[a.jsxs("div",{className:"login-brand",children:[a.jsxs("div",{className:"brand-header",children:[a.jsx("div",{className:"brand-logo",children:a.jsxs("svg",{viewBox:"0 0 40 40",fill:"none",children:[a.jsx("circle",{cx:"20",cy:"20",r:"18",fill:"white"}),a.jsx("path",{d:"M14 14c0-3 2-5 6-5s6 2 6 5c0 4-6 4-6 8v2",stroke:"#c2185b",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("circle",{cx:"20",cy:"30",r:"1.5",fill:"#c2185b"})]})}),a.jsxs("div",{className:"brand-text",children:[a.jsx("span",{className:"brand-name",children:"LinguaAccess"}),a.jsx("span",{className:"brand-tagline",children:"Learn without limits"})]})]}),a.jsxs("div",{className:"brand-content",children:[a.jsxs("h1",{className:"brand-title",children:["Language learning,",a.jsx("br",{}),"reimagined for everyone"]}),a.jsx("p",{className:"brand-description",children:"Join thousands of learners who've discovered a better way to master new languages."}),a.jsx("div",{className:"feature-grid",children:Bk.map((w,x)=>a.jsxs("div",{className:"feature-card",children:[a.jsx("span",{className:"feature-icon",children:w.icon}),a.jsxs("div",{className:"feature-text",children:[a.jsx("span",{className:"feature-title",children:w.title}),a.jsx("span",{className:"feature-desc",children:w.description})]})]},x))})]}),a.jsx("p",{className:"brand-footer",children:" 2024 LinguaAccess. All rights reserved."})]}),a.jsx("div",{className:"login-form-panel",children:a.jsxs("div",{className:"login-form-wrapper",children:[a.jsx("h2",{className:"form-title",children:n?"Create account":"Welcome back"}),a.jsx("p",{className:"form-subtitle",children:n?"Start your language learning journey":"Sign in to continue your learning journey"}),a.jsxs("form",{onSubmit:y,className:"login-form",children:[a.jsxs("div",{className:"form-field",children:[a.jsx("label",{htmlFor:"email",className:"field-label",children:"Email address"}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx("span",{className:"input-icon",children:Et.mail}),a.jsx("input",{type:"email",id:"email",name:"email",placeholder:"you@example.com",value:d.email,onChange:h,required:!0,autoComplete:"email"})]})]}),a.jsxs("div",{className:"form-field",children:[a.jsxs("div",{className:"field-header",children:[a.jsx("label",{htmlFor:"password",className:"field-label",children:"Password"}),!n&&a.jsx(Yp,{to:"/forgot-password",className:"forgot-link",children:"Forgot password?"})]}),a.jsxs("div",{className:"input-wrapper",children:[a.jsx("span",{className:"input-icon",children:Et.lock}),a.jsx("input",{type:o?"text":"password",id:"password",name:"password",placeholder:"Enter your password",value:d.password,onChange:h,required:!0,autoComplete:n?"new-password":"current-password"}),a.jsx("button",{type:"button",className:"toggle-password",onClick:()=>l(!o),"aria-label":o?"Hide password":"Show password",children:o?Et.eyeOff:Et.eye})]})]}),c&&a.jsx("p",{className:"form-error",role:"alert",children:c}),a.jsxs("button",{type:"submit",className:"submit-btn",disabled:t||s,children:[s?"Please wait...":n?"Sign up":"Sign in",!s&&a.jsx("span",{className:"btn-icon",children:Et.arrowRight})]})]}),a.jsx("p",{className:"toggle-mode",children:n?a.jsxs(a.Fragment,{children:["Already have an account? ",a.jsx("button",{onClick:()=>r(!1),children:"Sign in"})]}):a.jsxs(a.Fragment,{children:["Don't have an account? ",a.jsx("button",{onClick:()=>r(!0),children:"Get started free"})]})}),a.jsx("div",{className:"auth-divider",children:a.jsx("span",{children:"Or continue with"})}),a.jsxs("button",{type:"button",className:"google-btn",onClick:b,disabled:t||s,children:[Et.google,a.jsx("span",{children:"Google Sign In"})]})]})})]})}function qk(){const e=ft();return k.useEffect(()=>{async function t(){await J.auth.signOut(),e("/login",{replace:!0})}t()},[e]),null}async function Oa(e){const{data:t,error:n}=await J.from("profiles").select("*").eq("id",e).single();return n?(console.error("Error fetching profile:",n),null):t}async function mf(e,t){var r;let n={...t,updated_at:new Date().toISOString()};for(const s of wd)delete n[s];for(let s=0;s<5;s++){const{data:i,error:o}=await J.from("profiles").update(n).eq("id",e).select().single();if(!o)return i;if(o.code==="42703"||(r=o.message)!=null&&r.includes("column")){const l=o.message.match(/Could not find the '(\w+)' column/);if(l){wd.add(l[1]),delete n[l[1]];continue}}throw console.error("Error updating profile:",o),o}return null}const yd=new Set,wd=new Set;async function aa(e){const{data:t,error:n}=await J.from("user_settings").select("*").eq("user_id",e).single();return n&&n.code!=="PGRST116"&&console.error("Error fetching settings:",n),t}async function go(e,t){var s;let r={...{user_id:e,focus_mode:t.focus_mode??!1,font_size:t.font_size??"medium",font_family:t.font_family??"system",line_spacing:t.line_spacing??"normal",letter_spacing:t.letter_spacing??"normal",high_contrast:t.high_contrast??!1,text_to_speech:t.text_to_speech??!1,reading_speed:t.reading_speed??"normal",screen_reader_friendly:t.screen_reader_friendly??!1,updated_at:new Date().toISOString()}};for(const i of yd)delete r[i];for(let i=0;i<5;i++){const{data:o,error:l}=await J.from("user_settings").upsert(r).select().single();if(!l)return o;if(l.code==="42703"||(s=l.message)!=null&&s.includes("column")){const c=l.message.match(/Could not find the '(\w+)' column/);if(c){yd.add(c[1]),delete r[c[1]];continue}}throw console.error("Error saving settings:",l),l}return console.error("Failed to save settings after removing missing columns"),null}async function gf(e){const{data:t,error:n}=await J.from("lesson_progress").select("*").eq("user_id",e).order("last_accessed_at",{ascending:!1});return n?(console.error("Error fetching progress:",n),[]):t}async function vf(e,t,n){const{data:r,error:s}=await J.from("lesson_progress").upsert({user_id:e,lesson_id:t,...n,last_accessed_at:new Date().toISOString()}).select().single();if(s)throw console.error("Error updating progress:",s),s;return r}async function Hk(e,t){return vf(e,t,{status:"completed",progress_percent:100,completed_at:new Date().toISOString()})}async function Vk(e,t){const{data:n,error:r}=await J.from("assessment_results").insert({user_id:e,quiz_id:t.quizId,quiz_title:t.quizTitle,score:t.score,total_questions:t.totalQuestions,score_percentage:t.scorePercentage,time_taken_seconds:t.timeTakenSeconds,answers:t.answers||[]}).select().single();if(r)throw console.error("Error saving assessment result:",r),r;return n}async function Kk(e){const{data:t,error:n}=await J.from("assessment_results").select("*").eq("user_id",e).order("completed_at",{ascending:!1});return n?(console.error("Error fetching assessment results:",n),[]):t}async function Gk(e){const{data:t,error:n}=await J.from("assessment_results").select("score_percentage, quiz_id").eq("user_id",e);if(n)return console.error("Error fetching assessment stats:",n),{completed:0,averageScore:0,completedQuizIds:[]};const r=t.length,s=r>0?Math.round(t.reduce((o,l)=>o+parseFloat(l.score_percentage),0)/r):0,i=[...new Set(t.map(o=>o.quiz_id))];return{completed:r,averageScore:s,completedQuizIds:i}}async function Qk(e,t){const{data:n,error:r}=await J.from("assessment_results").insert({user_id:e,quiz_id:t.testId,quiz_title:t.testTitle,score:t.passedWords,total_questions:t.totalWords,score_percentage:t.score,time_taken_seconds:null,answers:t.results,completed_at:t.completedAt}).select().single();if(r)throw console.error("Error saving pronunciation result:",r),r;return n}async function yf(e,t){const{data:n,error:r}=await J.from("quiz_progress").upsert({user_id:e,quiz_id:t.quizId,quiz_type:t.quizType,current_index:t.currentIndex,answers:t.answers,questions:t.questions,start_time:t.startTime,updated_at:new Date().toISOString()},{onConflict:"user_id,quiz_id"}).select().single();if(r)throw console.error("Error saving quiz progress:",r),r;return n}async function wf(e,t){const{data:n,error:r}=await J.from("quiz_progress").select("*").eq("user_id",e).eq("quiz_id",t).single();return r&&r.code!=="PGRST116"&&console.error("Error fetching quiz progress:",r),n}async function oa(e,t){const{error:n}=await J.from("quiz_progress").delete().eq("user_id",e).eq("quiz_id",t);n&&console.error("Error deleting quiz progress:",n)}const kf=k.createContext(void 0),En={focusMode:!1,textSize:"medium",fontFamily:"system",lineSpacing:"normal",letterSpacing:"normal",highContrast:!1,readingSpeed:"normal",screenReaderFriendly:!1,textToSpeech:!1},kd={small:"0.875rem",medium:"1rem",large:"1.25rem","extra-large":"1.5rem"},bd={compact:"1.4",normal:"1.6",relaxed:"1.8",spacious:"2.2"},xd={tight:"-0.025em",normal:"0",wide:"0.05em","extra-wide":"0.1em"},vi={system:'"Poppins", -apple-system, BlinkMacSystemFont, sans-serif',opendyslexic:'"OpenDyslexic", "Comic Sans MS", sans-serif',serif:'Georgia, "Times New Roman", serif'},Jk={slow:.75,normal:1,fast:1.25,"very-fast":1.5};function _d(e){return e?{focusMode:e.focus_mode??!1,textSize:e.font_size??"medium",fontFamily:e.font_family??"system",lineSpacing:e.line_spacing??"normal",letterSpacing:e.letter_spacing??"normal",highContrast:e.high_contrast??!1,readingSpeed:e.reading_speed??"normal",screenReaderFriendly:e.screen_reader_friendly??!1,textToSpeech:e.text_to_speech??!1}:En}function vo(e){return{focus_mode:e.focusMode,font_size:e.textSize,font_family:e.fontFamily,line_spacing:e.lineSpacing,letter_spacing:e.letterSpacing,high_contrast:e.highContrast,reading_speed:e.readingSpeed,screen_reader_friendly:e.screenReaderFriendly,text_to_speech:e.textToSpeech}}function Yk({children:e}){const{user:t}=ot(),[n,r]=k.useState(En),[s,i]=k.useState(!0),o=k.useRef(n);k.useEffect(()=>{o.current=n},[n]);const l=t==null?void 0:t.id;k.useEffect(()=>{async function w(){if(!l){r(En),i(!1);return}try{const x=await aa(l);r(_d(x))}catch(x){console.error("Error loading settings:",x),r(En)}finally{i(!1)}}w()},[l]),k.useEffect(()=>{const w=document.documentElement;w.style.setProperty("--user-font-size",kd[n.textSize]||"1rem"),w.style.setProperty("--user-font-family",vi[n.fontFamily]||vi.system),w.style.setProperty("--user-line-spacing",bd[n.lineSpacing]||"1.6"),w.style.setProperty("--user-letter-spacing",xd[n.letterSpacing]||"0"),n.highContrast?document.body.classList.add("high-contrast"):document.body.classList.remove("high-contrast"),n.focusMode?document.body.classList.add("focus-mode"):document.body.classList.remove("focus-mode")},[n]);const c=k.useCallback(async(w,x)=>{const m={...o.current,[w]:x};if(r(m),t!=null&&t.id)try{await go(t.id,vo(m))}catch(p){console.error("Error saving setting:",p)}},[t]),u=k.useCallback(async w=>{const x={...o.current,...w};if(r(x),t!=null&&t.id)try{await go(t.id,vo(x))}catch(m){console.error("Error saving settings to DB:",m)}},[t]),d=k.useCallback(async()=>{if(r(En),t!=null&&t.id)try{await go(t.id,vo(En))}catch(w){console.error("Error resetting settings:",w)}},[t]),f=k.useCallback(async()=>{if(t!=null&&t.id)try{const w=await aa(t.id);r(_d(w))}catch(w){console.error("Error refreshing settings:",w)}},[t]),h=k.useCallback(()=>({fontSize:kd[n.textSize]||"1rem",fontFamily:vi[n.fontFamily]||vi.system,lineHeight:bd[n.lineSpacing]||"1.6",letterSpacing:xd[n.letterSpacing]||"0"}),[n]),y=k.useCallback(()=>Jk[n.readingSpeed]||1,[n]),b=k.useMemo(()=>({settings:n,loading:s,updateSetting:c,updateSettings:u,resetSettings:d,refreshSettings:f,getStyleValues:h,getSpeechRate:y,defaultSettings:En}),[n,s,c,u,d,f,h,y]);return a.jsx(kf.Provider,{value:b,children:e})}function Qt(){const e=k.useContext(kf);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const me={travel:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"24",r:"18"}),a.jsx("ellipse",{cx:"24",cy:"24",rx:"8",ry:"18"}),a.jsx("path",{d:"M6 24h36"}),a.jsx("path",{d:"M24 6c5 4 8 10 8 18s-3 14-8 18"}),a.jsx("path",{d:"M24 6c-5 4-8 10-8 18s3 14 8 18"})]}),career:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M24 6v28"}),a.jsx("path",{d:"M16 14l8-8 8 8"}),a.jsx("path",{d:"M12 42h24"}),a.jsx("path",{d:"M8 34l16-8 16 8"}),a.jsx("circle",{cx:"24",cy:"18",r:"4"})]}),academic:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M8 12h24c2 0 4 2 4 4v20c0 2-2 4-4 4H8"}),a.jsx("path",{d:"M8 8v32"}),a.jsx("path",{d:"M14 20h16"}),a.jsx("path",{d:"M14 28h12"}),a.jsx("path",{d:"M14 36h8"})]}),personal:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M24 42s-14-8-14-18c0-6 4-10 10-10 4 0 7 3 8 5 1-2 4-5 8-5 6 0 10 4 10 10 0 10-14 18-14 18z"}),a.jsx("path",{d:"M30 8l2 4 4 1-3 3 1 4-4-2-4 2 1-4-3-3 4-1z"})]}),beginner:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M24 6l4 8 9 1-6 6 2 9-9-4-9 4 2-9-6-6 9-1z",strokeDasharray:"4 2"}),a.jsx("circle",{cx:"24",cy:"24",r:"4",fill:"currentColor",opacity:"0.3"})]}),basics:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"20",r:"12"}),a.jsx("path",{d:"M18 38c0-4 2-6 6-8"}),a.jsx("path",{d:"M30 38c0-4-2-6-6-8"}),a.jsx("path",{d:"M20 18c0-2 2-4 4-4s4 2 4 4c0 2-2 3-4 4v3"}),a.jsx("circle",{cx:"24",cy:"28",r:"1",fill:"currentColor"})]}),intermediate:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"18",cy:"20",r:"10"}),a.jsx("circle",{cx:"30",cy:"28",r:"10"}),a.jsx("path",{d:"M14 16h8M14 22h6"}),a.jsx("path",{d:"M26 24h8M26 30h6"})]}),advanced:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"16",r:"10"}),a.jsx("path",{d:"M16 26l-4 16h24l-4-16"}),a.jsx("path",{d:"M20 34h8"}),a.jsx("path",{d:"M22 38h4"}),a.jsx("path",{d:"M24 10v6M20 13h8"})]}),time5:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"24",r:"18"}),a.jsx("path",{d:"M24 12v12l4 4"})]}),time15:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"24",r:"18"}),a.jsx("path",{d:"M24 12v12l8 4"}),a.jsx("circle",{cx:"24",cy:"8",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"24",r:"1.5",fill:"currentColor"})]}),time30:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"24",r:"18"}),a.jsx("path",{d:"M24 12v12h10"}),a.jsx("circle",{cx:"24",cy:"8",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"24",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"24",cy:"40",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"8",cy:"24",r:"1.5",fill:"currentColor"})]}),time60:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"24",cy:"24",r:"18"}),a.jsx("path",{d:"M24 12v12"}),a.jsx("path",{d:"M24 24l8 8"}),a.jsx("circle",{cx:"24",cy:"8",r:"2",fill:"currentColor"}),a.jsx("circle",{cx:"40",cy:"24",r:"2",fill:"currentColor"}),a.jsx("circle",{cx:"24",cy:"40",r:"2",fill:"currentColor"}),a.jsx("circle",{cx:"8",cy:"24",r:"2",fill:"currentColor"}),a.jsx("circle",{cx:"34",cy:"10",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"38",cy:"14",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"38",cy:"34",r:"1.5",fill:"currentColor"}),a.jsx("circle",{cx:"34",cy:"38",r:"1.5",fill:"currentColor"})]}),audio:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M12 18v12c0 2 2 4 4 4h2l10 6V8l-10 6h-2c-2 0-4 2-4 4z"}),a.jsx("path",{d:"M32 16c2 2 3 5 3 8s-1 6-3 8"}),a.jsx("path",{d:"M36 12c4 4 6 8 6 12s-2 8-6 12"})]}),visual:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M4 24s8-14 20-14 20 14 20 14-8 14-20 14S4 24 4 24z"}),a.jsx("circle",{cx:"24",cy:"24",r:"6"}),a.jsx("circle",{cx:"24",cy:"24",r:"2",fill:"currentColor"}),a.jsx("path",{d:"M30 14l2-4M34 16l4-2"})]}),dyslexia:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"8",y:"6",width:"32",height:"36",rx:"2"}),a.jsx("path",{d:"M14 14h20"}),a.jsx("path",{d:"M14 22h16"}),a.jsx("path",{d:"M14 30h12"}),a.jsx("path",{d:"M14 38h8"}),a.jsx("path",{d:"M36 22c2 0 4 2 4 4v8c0 2-2 4-4 4"})]}),tts:a.jsxs("svg",{viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("rect",{x:"6",y:"8",width:"24",height:"32",rx:"2"}),a.jsx("path",{d:"M12 16h12M12 24h10M12 32h8"}),a.jsx("path",{d:"M34 20v8l8 4V16z"}),a.jsx("path",{d:"M34 24c4 0 8-2 8-4M34 24c4 0 8 2 8 4"})]}),check:a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M20 6L9 17l-5-5"})}),arrowLeft:a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})}),arrowRight:a.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})}),speaker:a.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),a.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"}),a.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14"})]})},qe={WELCOME:0,GOAL:1,LEVEL:2,TIME:3,PREFERENCES:4,PERSONALIZE:5},Xk=[{id:"travel",title:"Travel & Explore",subtitle:"Communicate while abroad",icon:me.travel},{id:"career",title:"Career Growth",subtitle:"Professional development",icon:me.career},{id:"academic",title:"Academic Study",subtitle:"School or university",icon:me.academic},{id:"personal",title:"Personal Interest",subtitle:"Just for fun",icon:me.personal}],Zk=[{id:"beginner",title:"Complete Beginner",subtitle:"Starting from scratch",icon:me.beginner},{id:"basics",title:"Know the Basics",subtitle:"Can say simple phrases",icon:me.basics},{id:"intermediate",title:"Intermediate",subtitle:"Can hold conversations",icon:me.intermediate},{id:"advanced",title:"Advanced",subtitle:"Looking to master it",icon:me.advanced}],e0=[{id:5,title:"5 minutes/day",subtitle:"Quick daily practice",icon:me.time5},{id:15,title:"15 minutes/day",subtitle:"Steady progress",icon:me.time15},{id:30,title:"30 minutes/day",subtitle:"Committed learner",icon:me.time30},{id:60,title:"60+ minutes/day",subtitle:"Intensive learning",icon:me.time60}],t0=[{id:"audio",title:"Listen & Learn",subtitle:"I absorb more through audio",icon:me.audio},{id:"visual",title:"See It to Learn It",subtitle:"Images & visuals help me focus",icon:me.visual},{id:"dyslexia",title:"Reading Comfort",subtitle:"Easier-to-read fonts & spacing",icon:me.dyslexia},{id:"tts",title:"Read Aloud",subtitle:"Hear the content spoken to me",icon:me.tts}];function n0(){const e=ft(),{user:t,loading:n}=ot(),{updateSettings:r}=Qt(),[s,i]=k.useState(qe.WELCOME),[o,l]=k.useState(!1),[c,u]=k.useState(!1),[d,f]=k.useState({goal:null,level:null,dailyTime:null,preferences:[]}),[h,y]=k.useState({focusMode:!1,textSize:"medium",fontFamily:"system",lineSpacing:"normal",letterSpacing:"normal",highContrast:!1,readingSpeed:"normal",screenReaderFriendly:!1}),b=6,w=(s+1)/b*100;k.useEffect(()=>{var z;if(!n&&!t){e("/login");return}t&&(((z=t.user_metadata)==null?void 0:z.onboarding_completed)===!0?e("/dashboard"):u(!0))},[t,n,e]),k.useEffect(()=>{const z=d.preferences;y(I=>({...I,focusMode:z.includes("dyslexia")||z.includes("audio"),textSize:z.includes("dyslexia")||z.includes("visual")?"large":"medium",fontFamily:z.includes("dyslexia")?"opendyslexic":"system",lineSpacing:z.includes("dyslexia")?"spacious":"normal",letterSpacing:z.includes("dyslexia")?"wide":"normal",readingSpeed:z.includes("tts")?"slow":"normal",screenReaderFriendly:z.includes("tts")||z.includes("audio")}))},[d.preferences]);const x=()=>{s<b-1&&i(z=>z+1)},m=()=>{s>0&&i(z=>z-1)},p=async()=>{l(!0);try{await J.auth.updateUser({data:{onboarding_completed:!0}})}catch(z){console.error("Failed to mark onboarding complete:",z)}e("/dashboard")},v=async()=>{l(!0);try{if(t!=null&&t.id){try{const z=[];d.preferences.includes("dyslexia")&&z.push("dyslexia"),d.preferences.includes("audio")&&z.push("auditory"),await mf(t.id,{learning_challenges:z,learning_goal:d.goal,experience_level:d.level,daily_goal_minutes:d.dailyTime})}catch{}try{await r({focusMode:h.focusMode,textSize:h.textSize,fontFamily:h.fontFamily,lineSpacing:h.lineSpacing,letterSpacing:h.letterSpacing,highContrast:h.highContrast,readingSpeed:h.readingSpeed,screenReaderFriendly:h.screenReaderFriendly,textToSpeech:d.preferences.includes("tts")})}catch(z){console.warn("Settings save failed:",z)}}await J.auth.updateUser({data:{onboarding_completed:!0}}),e("/dashboard")}catch(z){console.error("Failed to complete onboarding:",z),e("/dashboard")}finally{l(!1)}},_=z=>{f(I=>({...I,goal:z}))},C=z=>{f(I=>({...I,level:z}))},j=z=>{f(I=>({...I,dailyTime:z}))},S=z=>{f(I=>({...I,preferences:I.preferences.includes(z)?I.preferences.filter(Y=>Y!==z):[...I.preferences,z]}))},g=z=>{y(I=>({...I,[z]:!I[z]}))},N=z=>{if(!("speechSynthesis"in window)){console.log("Speech synthesis not supported");return}window.speechSynthesis.cancel();const I=new SpeechSynthesisUtterance(z);I.rate=.85,I.pitch=1;const A=window.speechSynthesis.getVoices().find(U=>U.lang.startsWith("en"));A&&(I.voice=A),I.lang="en-US",window.speechSynthesis.speak(I)};k.useEffect(()=>{"speechSynthesis"in window&&(window.speechSynthesis.getVoices(),window.speechSynthesis.addEventListener("voiceschanged",()=>{window.speechSynthesis.getVoices()}))},[]);const E=()=>{switch(s){case qe.WELCOME:return!0;case qe.GOAL:return d.goal!==null;case qe.LEVEL:return d.level!==null;case qe.TIME:return d.dailyTime!==null;case qe.PREFERENCES:return!0;case qe.PERSONALIZE:return!0;default:return!1}};if(n||!c)return a.jsx("div",{className:"onboarding-page",children:a.jsx("div",{className:"onboarding-loading",children:"Loading..."})});const T=()=>a.jsxs("div",{className:"ob-welcome",children:[a.jsx("div",{className:"ob-welcome-icon",children:""}),a.jsx("h1",{className:"ob-welcome-title",children:"Let's Personalize Your Learning"}),a.jsx("p",{className:"ob-welcome-subtitle",children:"Answer a few quick questions so we can customize your experience. This takes about 2 minutes."}),a.jsxs("div",{className:"ob-welcome-features",children:[a.jsxs("div",{className:"ob-feature",children:[a.jsx("span",{className:"ob-feature-emoji",children:""}),a.jsx("span",{children:"Discover your learning style"})]}),a.jsxs("div",{className:"ob-feature",children:[a.jsx("span",{className:"ob-feature-emoji",children:""}),a.jsx("span",{children:"Find your ideal pace"})]}),a.jsxs("div",{className:"ob-feature",children:[a.jsx("span",{className:"ob-feature-emoji",children:""}),a.jsx("span",{children:"Get personalized settings"})]})]}),a.jsxs("button",{className:"ob-primary-btn",onClick:x,children:["Get Started ",a.jsx("span",{className:"ob-btn-icon",children:me.arrowRight})]})]}),R=(z,I,Y,A,U,M=!1)=>a.jsxs("div",{className:"ob-step",children:[a.jsxs("div",{className:"ob-step-header",children:[a.jsx("h1",{className:"ob-step-title",children:z}),a.jsx("p",{className:"ob-step-subtitle",children:I})]}),a.jsx("div",{className:"ob-cards-grid",children:Y.map(L=>{const Q=M?d.preferences.includes(L.id):A===L.id;return a.jsxs("button",{className:`ob-card ${Q?"selected":""}`,onClick:()=>U(L.id),children:[Q&&a.jsx("span",{className:"ob-card-check",children:me.check}),a.jsx("span",{className:"ob-card-icon",children:L.icon}),a.jsx("span",{className:"ob-card-title",children:L.title}),a.jsx("span",{className:"ob-card-subtitle",children:L.subtitle})]},L.id)})})]}),W=()=>{const z={small:"0.875rem",medium:"1rem",large:"1.25rem","extra-large":"1.5rem"},I={compact:"1.4",normal:"1.6",relaxed:"1.8",spacious:"2.2"},Y={tight:"-0.025em",normal:"0",wide:"0.05em","extra-wide":"0.1em"},A={system:'"Poppins", -apple-system, BlinkMacSystemFont, sans-serif',opendyslexic:'"OpenDyslexic", "Comic Sans MS", sans-serif',serif:'Georgia, "Times New Roman", serif'},U=()=>({fontSize:z[h.textSize]||"1rem",letterSpacing:Y[h.letterSpacing]||"0",lineHeight:I[h.lineSpacing]||"1.6",fontFamily:A[h.fontFamily]||A.system}),M=()=>{let L="ob-lesson-preview";return h.focusMode&&(L+=" focus-mode"),h.highContrast&&(L+=" high-contrast"),L};return a.jsxs("div",{className:"ob-personalize",children:[a.jsxs("div",{className:"ob-step-header",children:[a.jsx("h1",{className:"ob-step-title",children:"Your Personalized Experience"}),a.jsx("p",{className:"ob-step-subtitle",children:"Here's a preview of your customized learning path"})]}),a.jsxs("div",{className:"ob-personalize-content",children:[a.jsxs("div",{className:M(),children:[h.focusMode&&a.jsx("span",{className:"ob-preview-badge",children:" Focus Support Enabled"}),a.jsx("h3",{className:"ob-preview-title",children:"Lesson Preview"}),a.jsx("p",{className:"ob-preview-desc",children:"Here's what your lessons will look like:"}),a.jsxs("div",{className:"ob-preview-lesson",style:U(),children:[a.jsxs("div",{className:"ob-lesson-header-card",children:[a.jsx("span",{className:"ob-lesson-icon",children:me.basics}),a.jsxs("div",{children:[a.jsx("span",{className:"ob-lesson-name",children:"Greetings"}),a.jsx("span",{className:"ob-lesson-meta",children:"Learn basic phrases"})]})]}),a.jsxs("div",{className:"ob-lesson-word",children:[a.jsx("span",{className:"ob-word-target",style:U(),children:"Hello, how are you?"}),a.jsx("span",{className:"ob-word-translation",children:"A common greeting"})]}),a.jsxs("button",{className:"ob-listen-btn",onClick:()=>N("Hello, how are you?"),children:[a.jsx("span",{className:"ob-listen-icon",children:me.speaker}),"Listen to pronunciation"]})]})]}),a.jsxs("div",{className:"ob-settings-panel",children:[a.jsx("h3",{className:"ob-settings-title",children:"Your Settings"}),a.jsx("p",{className:"ob-settings-desc",children:"Customize your experience anytime"}),a.jsxs("div",{className:"ob-settings-list",children:[a.jsx("div",{className:"ob-settings-section-label",children:" Visual"}),a.jsxs("div",{className:"ob-setting-row",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Focus Mode"}),a.jsx("span",{className:"ob-setting-desc",children:"Reduce distractions"})]}),a.jsx("button",{className:`ob-toggle ${h.focusMode?"active":""}`,onClick:()=>g("focusMode"),children:a.jsx("span",{className:"ob-toggle-knob"})})]}),a.jsxs("div",{className:"ob-setting-row",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"High Contrast"}),a.jsx("span",{className:"ob-setting-desc",children:"Sharper text visibility"})]}),a.jsx("button",{className:`ob-toggle ${h.highContrast?"active":""}`,onClick:()=>g("highContrast"),children:a.jsx("span",{className:"ob-toggle-knob"})})]}),a.jsxs("div",{className:"ob-setting-row ob-setting-column",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Text Size"}),a.jsx("span",{className:"ob-setting-desc",children:"Choose your reading size"})]}),a.jsx("div",{className:"ob-option-buttons",children:["small","medium","large","extra-large"].map(L=>a.jsx("button",{className:`ob-option-btn ${h.textSize===L?"active":""}`,onClick:()=>y(Q=>({...Q,textSize:L})),children:L==="extra-large"?"XL":L.charAt(0).toUpperCase()+L.slice(1)},L))})]}),a.jsx("div",{className:"ob-settings-section-label",children:" Reading"}),a.jsxs("div",{className:"ob-setting-row ob-setting-column",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Font Style"}),a.jsx("span",{className:"ob-setting-desc",children:"Choose easier-to-read fonts"})]}),a.jsx("div",{className:"ob-option-buttons",children:[{id:"system",label:"Default"},{id:"opendyslexic",label:"Dyslexic-Friendly"},{id:"serif",label:"Serif"}].map(L=>a.jsx("button",{className:`ob-option-btn ${h.fontFamily===L.id?"active":""}`,onClick:()=>y(Q=>({...Q,fontFamily:L.id})),children:L.label},L.id))})]}),a.jsxs("div",{className:"ob-setting-row ob-setting-column",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Line Spacing"}),a.jsx("span",{className:"ob-setting-desc",children:"Space between text lines"})]}),a.jsx("div",{className:"ob-option-buttons",children:["compact","normal","relaxed","spacious"].map(L=>a.jsx("button",{className:`ob-option-btn ${h.lineSpacing===L?"active":""}`,onClick:()=>y(Q=>({...Q,lineSpacing:L})),children:L.charAt(0).toUpperCase()+L.slice(1)},L))})]}),a.jsxs("div",{className:"ob-setting-row ob-setting-column",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Letter Spacing"}),a.jsx("span",{className:"ob-setting-desc",children:"Space between letters"})]}),a.jsx("div",{className:"ob-option-buttons",children:[{id:"tight",label:"Tight"},{id:"normal",label:"Normal"},{id:"wide",label:"Wide"},{id:"extra-wide",label:"Extra"}].map(L=>a.jsx("button",{className:`ob-option-btn ${h.letterSpacing===L.id?"active":""}`,onClick:()=>y(Q=>({...Q,letterSpacing:L.id})),children:L.label},L.id))})]}),a.jsx("div",{className:"ob-settings-section-label",children:" Audio & Voice"}),a.jsxs("div",{className:"ob-setting-row ob-setting-column",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Reading Speed"}),a.jsx("span",{className:"ob-setting-desc",children:"How fast text is read aloud"})]}),a.jsx("div",{className:"ob-option-buttons",children:[{id:"slow",label:"0.75x"},{id:"normal",label:"1x"},{id:"fast",label:"1.25x"},{id:"very-fast",label:"1.5x"}].map(L=>a.jsx("button",{className:`ob-option-btn ${h.readingSpeed===L.id?"active":""}`,onClick:()=>y(Q=>({...Q,readingSpeed:L.id})),children:L.label},L.id))})]}),a.jsxs("div",{className:"ob-setting-row",children:[a.jsxs("div",{className:"ob-setting-info",children:[a.jsx("span",{className:"ob-setting-name",children:"Screen Reader Mode"}),a.jsx("span",{className:"ob-setting-desc",children:"Optimized for assistive tech"})]}),a.jsx("button",{className:`ob-toggle ${h.screenReaderFriendly?"active":""}`,onClick:()=>g("screenReaderFriendly"),children:a.jsx("span",{className:"ob-toggle-knob"})})]})]})]})]})]})},X=()=>{switch(s){case qe.WELCOME:return T();case qe.GOAL:return R("What's your main goal?","This helps us tailor your learning path",Xk,d.goal,_);case qe.LEVEL:return R("What's your experience level?","We'll start you at the right level",Zk,d.level,C);case qe.TIME:return R("How much time can you dedicate?","We'll create a schedule that works for you",e0,d.dailyTime,j);case qe.PREFERENCES:return R("Any learning preferences?","Select all that apply to customize your experience",t0,null,S,!0);case qe.PERSONALIZE:return W();default:return null}};return a.jsx("div",{className:"onboarding-page",children:a.jsxs("div",{className:"ob-container",children:[a.jsxs("header",{className:"ob-header",children:[a.jsx("div",{className:"ob-brand",children:a.jsx("div",{className:"ob-logo",children:a.jsx("span",{children:"L"})})}),a.jsxs("div",{className:"ob-progress",children:[a.jsxs("span",{className:"ob-progress-text",children:["Step ",s+1," of ",b]}),a.jsx("div",{className:"ob-progress-bar",children:a.jsx("div",{className:"ob-progress-fill",style:{width:`${w}%`}})}),a.jsxs("span",{className:"ob-progress-percent",children:[Math.round(w),"%"]})]}),a.jsx("button",{className:"ob-skip-btn",onClick:p,disabled:o,children:"Skip"})]}),a.jsx("main",{className:"ob-main",children:X()}),s>qe.WELCOME&&a.jsxs("footer",{className:"ob-footer",children:[a.jsxs("button",{className:"ob-back-btn",onClick:m,children:[a.jsx("span",{className:"ob-btn-icon",children:me.arrowLeft}),"Back"]}),s===qe.PERSONALIZE?a.jsxs("button",{className:"ob-primary-btn",onClick:v,disabled:o,children:[o?"Saving...":"Get Started",!o&&a.jsx("span",{className:"ob-btn-icon",children:me.arrowRight})]}):a.jsxs("button",{className:"ob-primary-btn",onClick:x,disabled:!E(),children:["Continue",a.jsx("span",{className:"ob-btn-icon",children:me.arrowRight})]})]})]})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var r0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>k.createElement("svg",{ref:d,...r0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${s0(e)}`,l].join(" "),...u},[...t.map(([f,h])=>k.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=V("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=V("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=V("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=V("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=V("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=V("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=V("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=V("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=V("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=V("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=V("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=V("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=V("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=V("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=V("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Pe(){var h;const e=ft(),{user:t}=ot(),[n,r]=k.useState(!1),[s,i]=k.useState(()=>localStorage.getItem("theme")==="dark"),o=k.useRef(null),l=[{to:"/dashboard",icon:d0,label:"Dashboard"},{to:"/lessons",icon:Tt,label:"Lessons"},{to:"/practice",icon:Ot,label:"Practice"},{to:"/assessments",icon:c0,label:"Assessments"},{to:"/study-rooms",icon:Sr,label:"Study Rooms"}];k.useEffect(()=>{function y(b){o.current&&!o.current.contains(b.target)&&r(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),k.useEffect(()=>{s?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark")):(document.documentElement.removeAttribute("data-theme"),localStorage.setItem("theme","light"))},[s]);const c=()=>{i(!s)},u=()=>{r(!1),e("/login")},d=()=>{r(!1),e("/profile")},f=()=>{r(!1),e("/settings")};return a.jsxs("nav",{className:"navbar",children:[a.jsxs("div",{className:"navbar-brand",children:[a.jsx("div",{className:"navbar-logo",children:a.jsx("span",{className:"logo-text",children:"LA"})}),a.jsx("span",{className:"navbar-title",children:"LinguaAccess"})]}),a.jsx("div",{className:"navbar-links",children:l.map(({to:y,icon:b,label:w})=>a.jsxs(Ku,{to:y,className:({isActive:x})=>`nav-link ${x?"active":""}`,children:[a.jsx(b,{size:18}),a.jsx("span",{children:w})]},y))}),a.jsxs("div",{className:"navbar-actions",children:[a.jsx("button",{className:"navbar-icon-btn","aria-label":"Toggle sound",children:a.jsx(Lt,{size:20})}),a.jsx("button",{className:"navbar-icon-btn","aria-label":"Toggle theme",onClick:c,children:s?a.jsx(w0,{size:20}):a.jsx(p0,{size:20})}),a.jsx(Ku,{to:"/notifications",className:"navbar-icon-btn","aria-label":"Notifications",children:a.jsx(bf,{size:20})}),a.jsxs("div",{className:"profile-dropdown",ref:o,children:[a.jsx("button",{className:"navbar-icon-btn","aria-label":"Profile",onClick:()=>r(!n),children:a.jsx(mr,{size:20})}),n&&a.jsxs("div",{className:"profile-menu",children:[a.jsxs("div",{className:"profile-menu-header",children:[((h=t==null?void 0:t.user_metadata)==null?void 0:h.full_name)&&a.jsx("div",{className:"profile-menu-name",children:t.user_metadata.full_name}),a.jsx("div",{className:"profile-menu-email",children:(t==null?void 0:t.email)||"User"})]}),a.jsx("div",{className:"profile-menu-divider"}),a.jsxs("button",{className:"profile-menu-item",onClick:d,children:[a.jsx(mr,{size:18}),a.jsx("span",{children:"Profile"})]}),a.jsxs("button",{className:"profile-menu-item",onClick:f,children:[a.jsx(v0,{size:18}),a.jsx("span",{children:"Settings"})]}),a.jsx("div",{className:"profile-menu-divider"}),a.jsxs("button",{className:"profile-menu-item signout",onClick:u,children:[a.jsx(Nf,{size:18}),a.jsx("span",{children:"Sign Out"})]})]})]})]})]})}function Re({children:e,className:t="",...n}){return a.jsx("div",{className:`card ${t}`,...n,children:e})}function re({children:e,variant:t="primary",size:n="medium",icon:r,className:s="",...i}){return a.jsxs("button",{className:`btn btn-${t} btn-${n} ${s}`,...i,children:[r&&a.jsx(r,{size:18}),e]})}function x0(){const{user:e}=ot(),t=ft(),[n,r]=k.useState(!0),[s,i]=k.useState({streak:0,bestStreak:0,lessonsCompleted:0,timeSpent:0,weeklyGoal:0}),[o,l]=k.useState(null),[c,u]=k.useState([]),[d,f]=k.useState(""),h={words:{icon:Tt,title:"Words"},numbers:{icon:Sf,title:"Numbers"},sentences:{icon:Cf,title:"Sentences"}},y={1:"Basic Greetings",2:"Common Objects",3:"Colors & Shapes",4:"Family Members",5:"Food & Drinks"},b={english:"English",hindi:"Hindi",tamil:"Tamil",telugu:"Telugu"};k.useEffect(()=>{async function p(){var v;if(e)try{const _=await Oa(e.id);_!=null&&_.full_name&&f(_.full_name.split(" ")[0]);const C=await gf(e.id),j=C.filter(M=>M.status==="completed"),S=C.filter(M=>M.status==="in_progress");let g=0,N=0;if(C.length>0){const M=new Date;M.setHours(0,0,0,0);const L=[...new Set(C.map($=>{const Z=new Date($.last_accessed_at);return Z.setHours(0,0,0,0),Z.getTime()}))].sort(($,Z)=>Z-$),Q=M.getTime(),se=Q-864e5;if(L.includes(Q)||L.includes(se)){g=1;let $=L[0];for(let Z=1;Z<L.length&&$-L[Z]===864e5;Z++)g++,$=L[Z]}N=g}const E=new Date;E.setDate(E.getDate()-7);const T=j.filter(M=>new Date(M.completed_at)>E).length,R=Math.min(Math.round(T/7*100),100),W=j.length*5+S.length*2;i({streak:g,bestStreak:N,lessonsCompleted:j.length,timeSpent:W,weeklyGoal:R});const X=[...C].sort((M,L)=>new Date(L.last_accessed_at)-new Date(M.last_accessed_at));let z=X.find(M=>M.status==="in_progress");if(!z&&j.length>0){const M=X.find(L=>L.status==="completed");if(M){const[L,Q,se]=M.lesson_id.split("_"),$=parseInt(se)+1;$<=5&&(z={lesson_id:`${L}_${Q}_${$}`,status:"available",progress_percent:0})}}if(z){const[M,L,Q]=z.lesson_id.split("_");l({lesson_id:z.lesson_id,title:`${b[M]} ${((v=h[L])==null?void 0:v.title)||L}`,subtitle:y[parseInt(Q)]||`Lesson ${Q}`,progress:z.progress_percent||0,language:M,section:L})}const I=[];j.length>0&&I.push({icon:Tt,title:"Vocabulary Review",subtitle:`${j.length*5} words due for review`,action:"/lessons"}),C.length>0&&I.push({icon:Ot,title:"Pronunciation Practice",subtitle:"Improve your speaking",action:"/practice"});const Y=new Set(C.map(M=>M.lesson_id.split("_")[0])),U=["english","hindi","tamil","telugu"].filter(M=>!Y.has(M));if(U.length>0){const M=U[Math.floor(Math.random()*U.length)];I.push({icon:Tt,title:`${b[M]} Basics`,subtitle:"New language available",action:"/lessons"})}C.length===0&&I.push({icon:Tt,title:"Start with English",subtitle:"Begin your journey",action:"/lessons"},{icon:Ot,title:"Pronunciation Practice",subtitle:"Learn proper pronunciation",action:"/practice"},{icon:Tt,title:"Hindi Basics",subtitle:"New language available",action:"/lessons"}),u(I.slice(0,3))}catch(_){console.error("Error loading dashboard data:",_)}finally{r(!1)}}p()},[e]);const w=()=>{t("/lessons")},x=p=>{t(p)},m=[{icon:_f,label:"Current Streak",value:`${s.streak} day${s.streak!==1?"s":""}`,sublabel:`Best: ${s.bestStreak} days`,iconColor:"#F59E0B"},{icon:Tf,label:"Lessons Completed",value:s.lessonsCompleted.toString(),sublabel:s.lessonsCompleted>0?"Great progress!":"Keep learning!",iconColor:"#E91E8C"},{icon:wn,label:"Time Spent",value:s.timeSpent>=60?`${Math.round(s.timeSpent/60)} hr`:`${s.timeSpent} min`,sublabel:"Total learning time",iconColor:"#3B82F6"},{icon:Rc,label:"Weekly Goal",value:`${s.weeklyGoal}%`,sublabel:null,progress:s.weeklyGoal,iconColor:"#E91E8C"}];return a.jsxs("div",{className:"dashboard-page",children:[a.jsx(Pe,{}),a.jsxs("main",{className:"dashboard-content",children:[a.jsxs("div",{className:"dashboard-header",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"dashboard-title",children:["Welcome back",d?`, ${d}`:"","!"]}),a.jsx("p",{className:"dashboard-subtitle",children:"Continue your learning journey today"})]}),a.jsx(re,{variant:"secondary",icon:Lt,children:"Read Aloud"})]}),a.jsx("div",{className:"stats-grid",children:m.map(({icon:p,label:v,value:_,sublabel:C,progress:j,iconColor:S},g)=>a.jsxs(Re,{className:"stat-card",children:[a.jsxs("div",{className:"stat-header",children:[a.jsx("span",{className:"stat-label",children:v}),a.jsx(p,{size:20,style:{color:S}})]}),a.jsx("div",{className:"stat-value",children:n?"...":_}),C&&a.jsx("div",{className:"stat-sublabel",children:C}),j!==void 0&&a.jsx("div",{className:"stat-progress",children:a.jsx("div",{className:"stat-progress-bar",style:{width:`${j}%`}})})]},g))}),a.jsxs("div",{className:"dashboard-grid",children:[a.jsxs(Re,{className:"continue-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx(Tt,{size:20}),a.jsx("h2",{className:"section-title",children:"Continue Learning"})]}),a.jsx("p",{className:"section-subtitle",children:"Pick up where you left off"}),o?a.jsxs("div",{className:"lesson-card",children:[a.jsxs("div",{className:"lesson-info",children:[a.jsx("h3",{className:"lesson-title",children:o.title}),a.jsx("p",{className:"lesson-subtitle",children:o.subtitle}),a.jsx("div",{className:"lesson-progress",children:a.jsx("div",{className:"lesson-progress-bar",style:{width:`${o.progress}%`}})})]}),a.jsx(re,{variant:"primary",icon:Lr,className:"resume-btn",onClick:w,children:"Resume"})]}):a.jsxs("div",{className:"lesson-card empty",children:[a.jsxs("div",{className:"lesson-info",children:[a.jsx("h3",{className:"lesson-title",children:"No lessons in progress"}),a.jsx("p",{className:"lesson-subtitle",children:"Start a new lesson to begin learning"})]}),a.jsx(re,{variant:"primary",icon:Lr,className:"resume-btn",onClick:w,children:"Start"})]}),a.jsxs("button",{className:"view-all-btn",onClick:()=>t("/lessons"),children:["View All Lessons",a.jsx(Bn,{size:18})]})]}),a.jsxs(Re,{className:"recommended-card",children:[a.jsxs("div",{className:"section-header",children:[a.jsx(Ef,{size:20}),a.jsx("h2",{className:"section-title",children:"Recommended For You"})]}),a.jsx("p",{className:"section-subtitle",children:"Based on your learning style"}),a.jsx("div",{className:"recommendation-list",children:c.map(({icon:p,title:v,subtitle:_,action:C},j)=>a.jsxs("button",{className:"recommendation-item",onClick:()=>x(C),children:[a.jsxs("div",{className:"recommendation-info",children:[a.jsx("h3",{className:"recommendation-title",children:v}),a.jsx("p",{className:"recommendation-subtitle",children:_})]}),a.jsx(Bn,{size:20,className:"recommendation-arrow"})]},j))})]})]})]})]})}function _0(){const[e,t]=k.useState([{id:1,type:"streak",icon:_f,iconBg:"#FEF3C7",iconColor:"#F59E0B",title:"Streak Reminder",message:"Don't break your 5-day streak! Complete a lesson today.",time:"30 minutes ago",read:!1},{id:2,type:"achievement",icon:Tf,iconBg:"#FCE7F3",iconColor:"#E91E8C",title:"Achievement Unlocked",message:"Congratulations! You completed your first Hindi lesson.",time:"about 2 hours ago",read:!1},{id:3,type:"lesson",icon:Tt,iconBg:"#DBEAFE",iconColor:"#3B82F6",title:"New Lesson Available",message:"Tamil Numbers 1-20 is now available. Start learning!",time:"1 day ago",read:!0},{id:4,type:"reminder",icon:bf,iconBg:"#FEE2E2",iconColor:"#EF4444",title:"Daily Reminder",message:"It's time for your daily practice session!",time:"2 days ago",read:!0}]),n=e.filter(s=>!s.read).length,r=s=>{t(e.map(i=>i.id===s?{...i,read:!0}:i))};return a.jsxs("div",{className:"notifications-page",children:[a.jsx(Pe,{}),a.jsxs("main",{className:"notifications-content",children:[a.jsx("div",{className:"notifications-header",children:a.jsxs("div",{children:[a.jsx("h1",{className:"notifications-title",children:"Notifications"}),a.jsx("p",{className:"notifications-subtitle",children:"Stay updated on your learning progress"})]})}),a.jsxs("div",{className:"notifications-badges",children:[a.jsxs("span",{className:"badge badge-primary",children:[n," unread"]}),a.jsxs("span",{className:"badge badge-secondary",children:[e.length," total"]})]}),a.jsx("div",{className:"notifications-list",children:e.map(s=>a.jsx(Re,{className:`notification-card ${s.read?"":"unread"}`,children:a.jsxs("div",{className:"notification-content",children:[a.jsx("div",{className:"notification-icon",style:{backgroundColor:s.iconBg},children:a.jsx(s.icon,{size:20,style:{color:s.iconColor}})}),a.jsxs("div",{className:"notification-body",children:[a.jsx("h3",{className:"notification-title",children:s.title}),a.jsx("p",{className:"notification-message",children:s.message}),a.jsxs("div",{className:"notification-footer",children:[a.jsx("span",{className:"notification-time",children:s.time}),!s.read&&a.jsxs("button",{className:"mark-read-btn",onClick:()=>r(s.id),children:[a.jsx(gn,{size:14}),"Mark as read"]}),s.type==="lesson"&&a.jsx("button",{className:"view-link",children:"View"})]})]}),!s.read&&a.jsx("div",{className:"unread-dot"})]})},s.id))})]})]})}function yi({label:e,description:t,checked:n,onChange:r,id:s}){return a.jsxs("div",{className:"toggle-wrapper",children:[a.jsxs("div",{className:"toggle-content",children:[a.jsx("label",{htmlFor:s,className:"toggle-label",children:e}),t&&a.jsx("p",{className:"toggle-description",children:t})]}),a.jsxs("label",{className:"toggle",children:[a.jsx("input",{type:"checkbox",id:s,checked:n,onChange:r}),a.jsx("span",{className:"toggle-slider"})]})]})}function S0(){const{settings:e,updateSetting:t,resetSettings:n,loading:r}=Qt(),s=o=>()=>{t(o,!e[o])},i=(o,l)=>{t(o,l)};return r?a.jsxs("div",{className:"settings-page",children:[a.jsx(Pe,{}),a.jsx("main",{className:"settings-content",children:a.jsx("div",{className:"loading-message",children:"Loading settings..."})})]}):a.jsxs("div",{className:"settings-page",children:[a.jsx(Pe,{}),a.jsxs("main",{className:"settings-content",children:[a.jsxs("div",{className:"settings-header",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"settings-title",children:"Accessibility Settings"}),a.jsx("p",{className:"settings-subtitle",children:"Customize your learning experience"})]}),a.jsx(re,{variant:"secondary",icon:_r,onClick:n,children:"Reset to Default"})]}),a.jsxs("div",{className:"settings-grid",children:[a.jsxs(Re,{className:"settings-card",children:[a.jsx("h3",{className:"card-title",children:" Visual Settings"}),a.jsx("p",{className:"card-subtitle",children:"Adjust how content appears on screen"}),a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"setting-group",children:[a.jsx("label",{className:"setting-label",children:"Text Size"}),a.jsx("div",{className:"option-buttons",children:[{id:"small",label:"Small"},{id:"medium",label:"Medium"},{id:"large",label:"Large"},{id:"extra-large",label:"XL"}].map(o=>a.jsx("button",{className:`option-btn ${e.textSize===o.id?"active":""}`,onClick:()=>i("textSize",o.id),children:o.label},o.id))})]}),a.jsxs("div",{className:"setting-group",children:[a.jsx("label",{className:"setting-label",children:"Font Style"}),a.jsx("div",{className:"option-buttons",children:[{id:"system",label:"Default"},{id:"opendyslexic",label:"Easy Read"},{id:"serif",label:"Serif"}].map(o=>a.jsx("button",{className:`option-btn ${e.fontFamily===o.id?"active":""}`,onClick:()=>i("fontFamily",o.id),children:o.label},o.id))})]})]})]}),a.jsxs(Re,{className:"settings-card",children:[a.jsx("h3",{className:"card-title",children:" Reading Settings"}),a.jsx("p",{className:"card-subtitle",children:"Customize text spacing and layout"}),a.jsxs("div",{className:"settings-form",children:[a.jsxs("div",{className:"setting-group",children:[a.jsx("label",{className:"setting-label",children:"Line Spacing"}),a.jsx("div",{className:"option-buttons",children:[{id:"compact",label:"Compact"},{id:"normal",label:"Normal"},{id:"relaxed",label:"Relaxed"},{id:"spacious",label:"Spacious"}].map(o=>a.jsx("button",{className:`option-btn ${e.lineSpacing===o.id?"active":""}`,onClick:()=>i("lineSpacing",o.id),children:o.label},o.id))})]}),a.jsxs("div",{className:"setting-group",children:[a.jsx("label",{className:"setting-label",children:"Letter Spacing"}),a.jsx("div",{className:"option-buttons",children:[{id:"tight",label:"Tight"},{id:"normal",label:"Normal"},{id:"wide",label:"Wide"},{id:"extra-wide",label:"Extra"}].map(o=>a.jsx("button",{className:`option-btn ${e.letterSpacing===o.id?"active":""}`,onClick:()=>i("letterSpacing",o.id),children:o.label},o.id))})]})]})]})]}),a.jsxs("div",{className:"settings-grid",children:[a.jsxs(Re,{className:"settings-card",children:[a.jsx("h3",{className:"card-title",children:" Focus & Display"}),a.jsx("p",{className:"card-subtitle",children:"Reduce distractions and enhance visibility"}),a.jsxs("div",{className:"settings-toggles",children:[a.jsx(yi,{id:"focusMode",label:"Focus Mode",description:"Reduce visual distractions",checked:e.focusMode,onChange:s("focusMode")}),a.jsx(yi,{id:"highContrast",label:"High Contrast",description:"Sharper text visibility",checked:e.highContrast,onChange:s("highContrast")}),a.jsx(yi,{id:"screenReaderFriendly",label:"Screen Reader Mode",description:"Optimized for assistive technology",checked:e.screenReaderFriendly,onChange:s("screenReaderFriendly")})]})]}),a.jsxs(Re,{className:"settings-card",children:[a.jsx("h3",{className:"card-title",children:" Audio & Voice"}),a.jsx("p",{className:"card-subtitle",children:"Text-to-speech preferences"}),a.jsx("div",{className:"settings-toggles",children:a.jsx(yi,{id:"textToSpeech",label:"Text-to-Speech",description:"Read content aloud",checked:e.textToSpeech,onChange:s("textToSpeech")})}),a.jsxs("div",{className:"setting-group",style:{marginTop:"1rem"},children:[a.jsx("label",{className:"setting-label",children:"Reading Speed"}),a.jsx("div",{className:"option-buttons",children:[{id:"slow",label:"0.75x"},{id:"normal",label:"1x"},{id:"fast",label:"1.25x"},{id:"very-fast",label:"1.5x"}].map(o=>a.jsx("button",{className:`option-btn ${e.readingSpeed===o.id?"active":""}`,onClick:()=>i("readingSpeed",o.id),children:o.label},o.id))})]})]})]})]})]})}const Af={english:{greetings:[{id:1,word:"Hello",phonetic:"/hlo/",speakable:"Hello",translation:"A common greeting"},{id:2,word:"Good Morning",phonetic:"/d mrn/",speakable:"Good Morning",translation:"Morning greeting"},{id:3,word:"Good Night",phonetic:"/d nat/",speakable:"Good Night",translation:"Night farewell"},{id:4,word:"Thank You",phonetic:"/k ju/",speakable:"Thank You",translation:"Expression of gratitude"},{id:5,word:"Welcome",phonetic:"/welkm/",speakable:"Welcome",translation:"Greeting or response to thanks"},{id:6,word:"Goodbye",phonetic:"/dba/",speakable:"Goodbye",translation:"Farewell"},{id:7,word:"Please",phonetic:"/pliz/",speakable:"Please",translation:"Polite request word"},{id:8,word:"Sorry",phonetic:"/sri/",speakable:"Sorry",translation:"Apology"},{id:9,word:"Yes",phonetic:"/jes/",speakable:"Yes",translation:"Affirmative"},{id:10,word:"No",phonetic:"/no/",speakable:"No",translation:"Negative"}],objects:[{id:1,word:"Book",phonetic:"/bk/",speakable:"Book",translation:"A written work"},{id:2,word:"Table",phonetic:"/tebl/",speakable:"Table",translation:"Furniture for eating/working"},{id:3,word:"Chair",phonetic:"/ter/",speakable:"Chair",translation:"Seat for one person"},{id:4,word:"Phone",phonetic:"/fon/",speakable:"Phone",translation:"Communication device"},{id:5,word:"Water",phonetic:"/wtr/",speakable:"Water",translation:"Liquid for drinking"},{id:6,word:"Pen",phonetic:"/pen/",speakable:"Pen",translation:"Writing instrument"},{id:7,word:"Door",phonetic:"/dr/",speakable:"Door",translation:"Room entrance"},{id:8,word:"Window",phonetic:"/wndo/",speakable:"Window",translation:"Glass opening in wall"},{id:9,word:"Clock",phonetic:"/klk/",speakable:"Clock",translation:"Time telling device"},{id:10,word:"Key",phonetic:"/ki/",speakable:"Key",translation:"Lock opener"}],colors:[{id:1,word:"Red",phonetic:"/red/",speakable:"Red",translation:"Color of blood"},{id:2,word:"Blue",phonetic:"/blu/",speakable:"Blue",translation:"Color of the sky"},{id:3,word:"Green",phonetic:"/rin/",speakable:"Green",translation:"Color of grass"},{id:4,word:"Yellow",phonetic:"/jelo/",speakable:"Yellow",translation:"Color of the sun"},{id:5,word:"White",phonetic:"/wat/",speakable:"White",translation:"Color of snow"},{id:6,word:"Black",phonetic:"/blk/",speakable:"Black",translation:"Darkest color"},{id:7,word:"Orange",phonetic:"/rnd/",speakable:"Orange",translation:"Color of sunset"},{id:8,word:"Pink",phonetic:"/pk/",speakable:"Pink",translation:"Light red color"},{id:9,word:"Purple",phonetic:"/prpl/",speakable:"Purple",translation:"Royal color"},{id:10,word:"Brown",phonetic:"/bran/",speakable:"Brown",translation:"Color of earth"}],family:[{id:1,word:"Mother",phonetic:"/mr/",speakable:"Mother",translation:"Female parent"},{id:2,word:"Father",phonetic:"/fr/",speakable:"Father",translation:"Male parent"},{id:3,word:"Sister",phonetic:"/sstr/",speakable:"Sister",translation:"Female sibling"},{id:4,word:"Brother",phonetic:"/brr/",speakable:"Brother",translation:"Male sibling"},{id:5,word:"Family",phonetic:"/fmli/",speakable:"Family",translation:"Group of related people"},{id:6,word:"Grandfather",phonetic:"/rndfr/",speakable:"Grandfather",translation:"Father of parent"},{id:7,word:"Grandmother",phonetic:"/rndmr/",speakable:"Grandmother",translation:"Mother of parent"},{id:8,word:"Son",phonetic:"/sn/",speakable:"Son",translation:"Male child"},{id:9,word:"Daughter",phonetic:"/dtr/",speakable:"Daughter",translation:"Female child"},{id:10,word:"Uncle",phonetic:"/kl/",speakable:"Uncle",translation:"Parent sibling male"}],food:[{id:1,word:"Rice",phonetic:"/ras/",speakable:"Rice",translation:"Grain food"},{id:2,word:"Bread",phonetic:"/bred/",speakable:"Bread",translation:"Baked food"},{id:3,word:"Milk",phonetic:"/mlk/",speakable:"Milk",translation:"White drink from cows"},{id:4,word:"Apple",phonetic:"/pl/",speakable:"Apple",translation:"Red/green fruit"},{id:5,word:"Tea",phonetic:"/ti/",speakable:"Tea",translation:"Hot beverage"},{id:6,word:"Banana",phonetic:"/bnn/",speakable:"Banana",translation:"Yellow fruit"},{id:7,word:"Egg",phonetic:"/e/",speakable:"Egg",translation:"From chicken"},{id:8,word:"Fish",phonetic:"/f/",speakable:"Fish",translation:"Seafood"},{id:9,word:"Mango",phonetic:"/mo/",speakable:"Mango",translation:"Tropical fruit"},{id:10,word:"Sugar",phonetic:"/r/",speakable:"Sugar",translation:"Sweet substance"}]},hindi:{greetings:[{id:1,word:"",phonetic:"/namast/",speakable:"nuh-muh-stay",translation:"Hello"},{id:2,word:"",phonetic:"/suprabht/",speakable:"soo-pruh-bhaat",translation:"Good Morning"},{id:3,word:" ",phonetic:"/ubh rtri/",speakable:"shubh raa-tree",translation:"Good Night"},{id:4,word:"",phonetic:"/dhanyavd/",speakable:"dhun-yuh-vaad",translation:"Thank You"},{id:5,word:" ",phonetic:"/svgat hai/",speakable:"svaa-gut hai",translation:"Welcome"},{id:6,word:"",phonetic:"/alvid/",speakable:"ul-vi-daa",translation:"Goodbye"},{id:7,word:"",phonetic:"/krpay/",speakable:"kri-puh-yaa",translation:"Please"},{id:8,word:" ",phonetic:"/mf kjie/",speakable:"maaf kee-ji-yay",translation:"Sorry"},{id:9,word:"",phonetic:"/h/",speakable:"haa",translation:"Yes"},{id:10,word:"",phonetic:"/nah/",speakable:"nuh-hee",translation:"No"}],objects:[{id:1,word:"",phonetic:"/kitb/",speakable:"ki-taab",translation:"Book"},{id:2,word:"",phonetic:"/mez/",speakable:"mez",translation:"Table"},{id:3,word:"",phonetic:"/kurs/",speakable:"kur-see",translation:"Chair"},{id:4,word:"",phonetic:"/fon/",speakable:"phone",translation:"Phone"},{id:5,word:"",phonetic:"/pn/",speakable:"paa-nee",translation:"Water"},{id:6,word:"",phonetic:"/kalam/",speakable:"kuh-lum",translation:"Pen"},{id:7,word:"",phonetic:"/darvz/",speakable:"dur-vaa-zaa",translation:"Door"},{id:8,word:"",phonetic:"/khik/",speakable:"khir-kee",translation:"Window"},{id:9,word:"",phonetic:"/gha/",speakable:"ghu-ree",translation:"Clock"},{id:10,word:"",phonetic:"/chb/",speakable:"chaa-bee",translation:"Key"}],colors:[{id:1,word:"",phonetic:"/ll/",speakable:"laal",translation:"Red"},{id:2,word:"",phonetic:"/nl/",speakable:"nee-laa",translation:"Blue"},{id:3,word:"",phonetic:"/har/",speakable:"huh-raa",translation:"Green"},{id:4,word:"",phonetic:"/pl/",speakable:"pee-laa",translation:"Yellow"},{id:5,word:"",phonetic:"/safed/",speakable:"suh-fayd",translation:"White"},{id:6,word:"",phonetic:"/kl/",speakable:"kaa-laa",translation:"Black"},{id:7,word:"",phonetic:"/nrag/",speakable:"naa-run-gee",translation:"Orange"},{id:8,word:"",phonetic:"/gulb/",speakable:"gu-laa-bee",translation:"Pink"},{id:9,word:"",phonetic:"/baigan/",speakable:"bain-guh-nee",translation:"Purple"},{id:10,word:"",phonetic:"/bhr/",speakable:"bhoo-raa",translation:"Brown"}],family:[{id:1,word:"",phonetic:"/m/",speakable:"maa",translation:"Mother"},{id:2,word:"",phonetic:"/pit/",speakable:"pi-taa",translation:"Father"},{id:3,word:"",phonetic:"/bahan/",speakable:"buh-hun",translation:"Sister"},{id:4,word:"",phonetic:"/bh/",speakable:"bhai",translation:"Brother"},{id:5,word:"",phonetic:"/parivr/",speakable:"puh-ri-vaar",translation:"Family"},{id:6,word:"",phonetic:"/dd/",speakable:"daa-daa",translation:"Grandfather"},{id:7,word:"",phonetic:"/dd/",speakable:"daa-dee",translation:"Grandmother"},{id:8,word:"",phonetic:"/be/",speakable:"bay-taa",translation:"Son"},{id:9,word:"",phonetic:"/be/",speakable:"bay-tee",translation:"Daughter"},{id:10,word:"",phonetic:"/chch/",speakable:"chaa-chaa",translation:"Uncle"}],food:[{id:1,word:"",phonetic:"/chval/",speakable:"chaa-vul",translation:"Rice"},{id:2,word:"",phonetic:"/ro/",speakable:"ro-tee",translation:"Bread"},{id:3,word:"",phonetic:"/ddh/",speakable:"doodh",translation:"Milk"},{id:4,word:"",phonetic:"/seb/",speakable:"sayb",translation:"Apple"},{id:5,word:"",phonetic:"/chy/",speakable:"chai",translation:"Tea"},{id:6,word:"",phonetic:"/kel/",speakable:"kay-laa",translation:"Banana"},{id:7,word:"",phonetic:"/a/",speakable:"un-daa",translation:"Egg"},{id:8,word:"",phonetic:"/machl/",speakable:"much-lee",translation:"Fish"},{id:9,word:"",phonetic:"/m/",speakable:"aam",translation:"Mango"},{id:10,word:"",phonetic:"/chn/",speakable:"chee-nee",translation:"Sugar"}]},tamil:{greetings:[{id:1,word:"",phonetic:"/vaakkam/",speakable:"vuh-nuh-kum",translation:"Hello"},{id:2,word:" ",phonetic:"/klai vaakkam/",speakable:"kaa-lai vuh-nuh-kum",translation:"Good Morning"},{id:3,word:" ",phonetic:"/iravu vaakkam/",speakable:"i-ruh-voo vuh-nuh-kum",translation:"Good Night"},{id:4,word:"",phonetic:"/nai/",speakable:"nun-dree",translation:"Thank You"},{id:5,word:"",phonetic:"/varavki/",speakable:"vuh-ruh-vay-ki-rayn",translation:"Welcome"},{id:6,word:"",phonetic:"/piriyviai/",speakable:"pi-ri-yaa-vi-dai",translation:"Goodbye"},{id:7,word:"",phonetic:"/tayavuceytu/",speakable:"thuh-yuh-voo-say-thoo",translation:"Please"},{id:8,word:"",phonetic:"/maikkavum/",speakable:"mun-ni-kuh-vum",translation:"Sorry"},{id:9,word:"",phonetic:"/mm/",speakable:"aa-maam",translation:"Yes"},{id:10,word:"",phonetic:"/illai/",speakable:"il-lai",translation:"No"}],objects:[{id:1,word:"",phonetic:"/puttakam/",speakable:"puth-thuh-kum",translation:"Book"},{id:2,word:"",phonetic:"/mcai/",speakable:"may-sai",translation:"Table"},{id:3,word:"",phonetic:"/nkli/",speakable:"naar-kaa-li",translation:"Chair"},{id:4,word:"",phonetic:"/tolaipci/",speakable:"tho-lai-pay-si",translation:"Phone"},{id:5,word:"",phonetic:"/tar/",speakable:"thun-neer",translation:"Water"},{id:6,word:"",phonetic:"/p/",speakable:"pay-naa",translation:"Pen"},{id:7,word:"",phonetic:"/katavu/",speakable:"kuh-thuh-voo",translation:"Door"},{id:8,word:"",phonetic:"/jaal/",speakable:"jun-nul",translation:"Window"},{id:9,word:"",phonetic:"/kaikram/",speakable:"kuh-di-kaa-rum",translation:"Clock"},{id:10,word:"",phonetic:"/cvi/",speakable:"saa-vi",translation:"Key"}],colors:[{id:1,word:"",phonetic:"/civappu/",speakable:"si-vuh-poo",translation:"Red"},{id:2,word:"",phonetic:"/nlam/",speakable:"nee-lum",translation:"Blue"},{id:3,word:"",phonetic:"/paccai/",speakable:"puh-chai",translation:"Green"},{id:4,word:"",phonetic:"/maca/",speakable:"mun-jul",translation:"Yellow"},{id:5,word:"",phonetic:"/veai/",speakable:"vel-lai",translation:"White"},{id:6,word:"",phonetic:"/karuppu/",speakable:"kuh-rup-poo",translation:"Black"},{id:7,word:"",phonetic:"/racu/",speakable:"aa-run-joo",translation:"Orange"},{id:8,word:"",phonetic:"/iacivappu/",speakable:"i-lun-ji-vuh-poo",translation:"Pink"},{id:9,word:"",phonetic:"/t/",speakable:"oo-thaa",translation:"Purple"},{id:10,word:"",phonetic:"/pauppu/",speakable:"puh-lup-poo",translation:"Brown"}],family:[{id:1,word:"",phonetic:"/amm/",speakable:"um-maa",translation:"Mother"},{id:2,word:"",phonetic:"/app/",speakable:"up-paa",translation:"Father"},{id:3,word:"",phonetic:"/akk/",speakable:"uk-kaa",translation:"Elder Sister"},{id:4,word:"",phonetic:"/aa/",speakable:"un-nun",translation:"Elder Brother"},{id:5,word:"",phonetic:"/kuumpam/",speakable:"ku-dum-bum",translation:"Family"},{id:6,word:"",phonetic:"/ttt/",speakable:"thaa-thaa",translation:"Grandfather"},{id:7,word:"",phonetic:"/pi/",speakable:"paat-ti",translation:"Grandmother"},{id:8,word:"",phonetic:"/maka/",speakable:"muh-kun",translation:"Son"},{id:9,word:"",phonetic:"/maka/",speakable:"muh-kul",translation:"Daughter"},{id:10,word:"",phonetic:"/mm/",speakable:"maa-maa",translation:"Uncle"}],food:[{id:1,word:"",phonetic:"/arici/",speakable:"uh-ri-si",translation:"Rice"},{id:2,word:"",phonetic:"/roi/",speakable:"rot-tee",translation:"Bread"},{id:3,word:"",phonetic:"/pl/",speakable:"paal",translation:"Milk"},{id:4,word:"",phonetic:"/ppi/",speakable:"aap-pul",translation:"Apple"},{id:5,word:"",phonetic:"/tnr/",speakable:"thay-neer",translation:"Tea"},{id:6,word:"",phonetic:"/vaippaam/",speakable:"vaa-lai-puh-lum",translation:"Banana"},{id:7,word:"",phonetic:"/muai/",speakable:"mut-tai",translation:"Egg"},{id:8,word:"",phonetic:"/m/",speakable:"meen",translation:"Fish"},{id:9,word:"",phonetic:"/mmpaam/",speakable:"maam-puh-lum",translation:"Mango"},{id:10,word:"",phonetic:"/carkkarai/",speakable:"suk-kuh-rai",translation:"Sugar"}]},telugu:{greetings:[{id:1,word:"",phonetic:"/namaskra/",speakable:"nuh-muh-skaa-rum",translation:"Hello"},{id:2,word:"",phonetic:"/ubhdaya/",speakable:"shu-bho-duh-yum",translation:"Good Morning"},{id:3,word:" ",phonetic:"/ubha rtri/",speakable:"shu-bhuh raa-tree",translation:"Good Night"},{id:4,word:"",phonetic:"/dhanyavdlu/",speakable:"dhun-yuh-vaa-daa-loo",translation:"Thank You"},{id:5,word:"",phonetic:"/svgata/",speakable:"svaa-guh-tum",translation:"Welcome"},{id:6,word:"",phonetic:"/veostnu/",speakable:"vel-los-taa-noo",translation:"Goodbye"},{id:7,word:"",phonetic:"/dayacsi/",speakable:"duh-yuh-chay-si",translation:"Please"},{id:8,word:"",phonetic:"/kamicai/",speakable:"kshuh-min-chun-di",translation:"Sorry"},{id:9,word:"",phonetic:"/avunu/",speakable:"uh-voo-noo",translation:"Yes"},{id:10,word:"",phonetic:"/kdu/",speakable:"kaa-doo",translation:"No"}],objects:[{id:1,word:"",phonetic:"/pustaka/",speakable:"poos-thuh-kum",translation:"Book"},{id:2,word:"",phonetic:"/balla/",speakable:"bul-luh",translation:"Table"},{id:3,word:"",phonetic:"/kurc/",speakable:"kur-chee",translation:"Chair"},{id:4,word:"",phonetic:"/fn/",speakable:"phone",translation:"Phone"},{id:5,word:"",phonetic:"/nu/",speakable:"neel-loo",translation:"Water"},{id:6,word:"",phonetic:"/pennu/",speakable:"pen-noo",translation:"Pen"},{id:7,word:"",phonetic:"/talupu/",speakable:"thuh-loo-poo",translation:"Door"},{id:8,word:"",phonetic:"/kiik/",speakable:"ki-ti-kee",translation:"Window"},{id:9,word:"",phonetic:"/gaiyra/",speakable:"guh-di-yaa-rum",translation:"Clock"},{id:10,word:" ",phonetic:"/ta cevi/",speakable:"thaa-lum chay-vi",translation:"Key"}],colors:[{id:1,word:"",phonetic:"/erupu/",speakable:"eh-roo-poo",translation:"Red"},{id:2,word:"",phonetic:"/nla/",speakable:"nee-lum",translation:"Blue"},{id:3,word:"",phonetic:"/kupacca/",speakable:"aa-koo-puh-chuh",translation:"Green"},{id:4,word:"",phonetic:"/pasupu/",speakable:"puh-soo-poo",translation:"Yellow"},{id:5,word:"",phonetic:"/telupu/",speakable:"theh-loo-poo",translation:"White"},{id:6,word:"",phonetic:"/nalupu/",speakable:"nuh-loo-poo",translation:"Black"},{id:7,word:"",phonetic:"/nrija/",speakable:"naa-rin-juh",translation:"Orange"},{id:8,word:"",phonetic:"/gulb/",speakable:"goo-laa-bee",translation:"Pink"},{id:9,word:"",phonetic:"/d/",speakable:"oo-daa",translation:"Purple"},{id:10,word:"",phonetic:"/gdhuma/",speakable:"go-dhoo-muh",translation:"Brown"}],family:[{id:1,word:"",phonetic:"/amma/",speakable:"um-muh",translation:"Mother"},{id:2,word:"",phonetic:"/nnna/",speakable:"naan-nuh",translation:"Father"},{id:3,word:"",phonetic:"/akka/",speakable:"uk-kuh",translation:"Elder Sister"},{id:4,word:"",phonetic:"/anna/",speakable:"un-nuh",translation:"Elder Brother"},{id:5,word:"",phonetic:"/kuumba/",speakable:"ku-tum-bum",translation:"Family"},{id:6,word:"",phonetic:"/ttayya/",speakable:"thaa-thuh-yuh",translation:"Grandfather"},{id:7,word:"",phonetic:"/nnamma/",speakable:"naa-num-muh",translation:"Grandmother"},{id:8,word:"",phonetic:"/kouku/",speakable:"ko-doo-koo",translation:"Son"},{id:9,word:"",phonetic:"/kturu/",speakable:"koo-thoo-roo",translation:"Daughter"},{id:10,word:"",phonetic:"/mmayya/",speakable:"maa-muh-yuh",translation:"Uncle"}],food:[{id:1,word:"",phonetic:"/biyya/",speakable:"biy-yum",translation:"Rice"},{id:2,word:"",phonetic:"/roe/",speakable:"rot-tay",translation:"Bread"},{id:3,word:"",phonetic:"/plu/",speakable:"paa-loo",translation:"Milk"},{id:4,word:"",phonetic:"/pil/",speakable:"aap-il",translation:"Apple"},{id:5,word:"",phonetic:"//",speakable:"tee",translation:"Tea"},{id:6,word:"",phonetic:"/araipau/",speakable:"uh-ruh-ti-pun-doo",translation:"Banana"},{id:7,word:"",phonetic:"/guu/",speakable:"gud-doo",translation:"Egg"},{id:8,word:"",phonetic:"/cpa/",speakable:"chay-puh",translation:"Fish"},{id:9,word:"",phonetic:"/mmiipau/",speakable:"maa-mi-di-pun-doo",translation:"Mango"},{id:10,word:"",phonetic:"/cakkera/",speakable:"chuk-kay-ruh",translation:"Sugar"}]}},j0={"Basic Greetings":"greetings","Common Objects":"objects","Colors & Shapes":"colors","Family Members":"family","Food & Drinks":"food"};function N0(e,t){const n=j0[t];if(!n)return[];const r=Af[e];return r?r[n]||[]:[]}const C0={hindi:{emotions:[{id:1,word:"",phonetic:"/khu/",speakable:"khoo-shee",translation:"Happiness"},{id:2,word:"",phonetic:"/dukh/",speakable:"dookh",translation:"Sadness"},{id:3,word:"",phonetic:"/guss/",speakable:"gus-saa",translation:"Anger"},{id:4,word:"",phonetic:"/ar/",speakable:"dur",translation:"Fear"},{id:5,word:"",phonetic:"/pyr/",speakable:"pyaar",translation:"Love"},{id:6,word:"",phonetic:"/carya/",speakable:"aash-chur-yuh",translation:"Surprise"},{id:7,word:"",phonetic:"/arm/",speakable:"shurm",translation:"Shame"},{id:8,word:"",phonetic:"/ry/",speakable:"eer-shya",translation:"Jealousy"},{id:9,word:"",phonetic:"/garv/",speakable:"gurv",translation:"Pride"},{id:10,word:"",phonetic:"/cint/",speakable:"chin-taa",translation:"Worry"}],nature:[{id:1,word:"",phonetic:"/parvat/",speakable:"pur-vut",translation:"Mountain"},{id:2,word:"",phonetic:"/samudra/",speakable:"suh-mood-ruh",translation:"Ocean"},{id:3,word:"",phonetic:"/jagal/",speakable:"jun-gul",translation:"Forest"},{id:4,word:"",phonetic:"/nad/",speakable:"nuh-dee",translation:"River"},{id:5,word:"",phonetic:"/k/",speakable:"aa-kaash",translation:"Sky"},{id:6,word:"",phonetic:"/tr/",speakable:"taa-raa",translation:"Star"},{id:7,word:"",phonetic:"/chd/",speakable:"chaand",translation:"Moon"},{id:8,word:"",phonetic:"/bdal/",speakable:"baa-dul",translation:"Cloud"},{id:9,word:"",phonetic:"/bri/",speakable:"baa-rish",translation:"Rain"},{id:10,word:"",phonetic:"/dhp/",speakable:"dhoop",translation:"Sunshine"}],actions:[{id:1,word:"",phonetic:"/daun/",speakable:"daur-naa",translation:"To run"},{id:2,word:"",phonetic:"/tairn/",speakable:"tair-naa",translation:"To swim"},{id:3,word:"",phonetic:"/un/",speakable:"ur-naa",translation:"To fly"},{id:4,word:"",phonetic:"/socn/",speakable:"soch-naa",translation:"To think"},{id:5,word:"",phonetic:"/samajhn/",speakable:"suh-mujh-naa",translation:"To understand"},{id:6,word:" ",phonetic:"/yd karn/",speakable:"yaad kur-naa",translation:"To remember"},{id:7,word:"",phonetic:"/bhln/",speakable:"bhool-naa",translation:"To forget"},{id:8,word:"",phonetic:"/hhn/",speakable:"dhoond-naa",translation:"To search"},{id:9,word:"",phonetic:"/bann/",speakable:"buh-naa-naa",translation:"To make"},{id:10,word:"",phonetic:"/ton/",speakable:"tor-naa",translation:"To break"}],body:[{id:1,word:"",phonetic:"/sir/",speakable:"sir",translation:"Head"},{id:2,word:"",phonetic:"/kandh/",speakable:"kun-dhaa",translation:"Shoulder"},{id:3,word:"",phonetic:"/ghun/",speakable:"ghut-naa",translation:"Knee"},{id:4,word:"",phonetic:"/kohn/",speakable:"koh-nee",translation:"Elbow"},{id:5,word:"",phonetic:"/gal/",speakable:"guh-laa",translation:"Throat"},{id:6,word:"",phonetic:"/cht/",speakable:"chaa-tee",translation:"Chest"},{id:7,word:"",phonetic:"/pe/",speakable:"payt",translation:"Stomach"},{id:8,word:"",phonetic:"/kamar/",speakable:"kuh-mur",translation:"Waist"},{id:9,word:"",phonetic:"/e/",speakable:"ay-ree",translation:"Heel"},{id:10,word:"",phonetic:"/agh/",speakable:"un-goo-thaa",translation:"Thumb"}],time:[{id:1,word:"",phonetic:"/kal/",speakable:"kul",translation:"Yesterday/Tomorrow"},{id:2,word:"",phonetic:"/pars/",speakable:"pur-so",translation:"Day after tomorrow"},{id:3,word:"",phonetic:"/sapth/",speakable:"sup-taah",translation:"Week"},{id:4,word:"",phonetic:"/mahn/",speakable:"muh-hee-naa",translation:"Month"},{id:5,word:"",phonetic:"/sl/",speakable:"saal",translation:"Year"},{id:6,word:"",phonetic:"/atbd/",speakable:"shuh-taab-dee",translation:"Century"},{id:7,word:"",phonetic:"/subah/",speakable:"soo-buh",translation:"Morning"},{id:8,word:"",phonetic:"/dopahar/",speakable:"do-puh-hur",translation:"Afternoon"},{id:9,word:"",phonetic:"/m/",speakable:"shaam",translation:"Evening"},{id:10,word:"",phonetic:"/madhyartri/",speakable:"mudh-yuh-raa-tree",translation:"Midnight"}]},tamil:{emotions:[{id:1,word:"",phonetic:"/makicci/",speakable:"muh-kil-chi",translation:"Happiness"},{id:2,word:"",phonetic:"/ckam/",speakable:"so-gum",translation:"Sadness"},{id:3,word:"",phonetic:"/kpam/",speakable:"ko-pum",translation:"Anger"},{id:4,word:"",phonetic:"/payam/",speakable:"puh-yum",translation:"Fear"},{id:5,word:"",phonetic:"/ktal/",speakable:"kaa-thul",translation:"Love"},{id:6,word:"",phonetic:"/ccariyam/",speakable:"aach-chuh-ri-yum",translation:"Surprise"},{id:7,word:"",phonetic:"/vekam/",speakable:"vet-kum",translation:"Shame"},{id:8,word:"",phonetic:"/pomai/",speakable:"po-raa-mai",translation:"Jealousy"},{id:9,word:"",phonetic:"/perumai/",speakable:"peh-roo-mai",translation:"Pride"},{id:10,word:"",phonetic:"/kavalai/",speakable:"kuh-vuh-lai",translation:"Worry"}],nature:[{id:1,word:"",phonetic:"/malai/",speakable:"muh-lai",translation:"Mountain"},{id:2,word:"",phonetic:"/kaal/",speakable:"kuh-dul",translation:"Ocean"},{id:3,word:"",phonetic:"/ku/",speakable:"kaa-doo",translation:"Forest"},{id:4,word:"",phonetic:"/u/",speakable:"aa-roo",translation:"River"},{id:5,word:"",phonetic:"/vam/",speakable:"vaa-num",translation:"Sky"},{id:6,word:"",phonetic:"/nacattiram/",speakable:"nut-sut-thi-rum",translation:"Star"},{id:7,word:"",phonetic:"/nil/",speakable:"ni-laa",translation:"Moon"},{id:8,word:"",phonetic:"/mkam/",speakable:"may-gum",translation:"Cloud"},{id:9,word:"",phonetic:"/maai/",speakable:"muh-lai",translation:"Rain"},{id:10,word:"",phonetic:"/veyil/",speakable:"vay-yil",translation:"Sunshine"}],actions:[{id:1,word:"",phonetic:"/u/",speakable:"o-doo",translation:"To run"},{id:2,word:"",phonetic:"/nntu/",speakable:"neenth-oo",translation:"To swim"},{id:3,word:"",phonetic:"/paa/",speakable:"puh-ruh",translation:"To fly"},{id:4,word:"",phonetic:"/niai/",speakable:"ni-nai",translation:"To think"},{id:5,word:"",phonetic:"/purintuk/",speakable:"poo-rin-thoo-kol",translation:"To understand"},{id:6,word:" ",phonetic:"/niaivil vai/",speakable:"ni-nai-vil vai",translation:"To remember"},{id:7,word:"",phonetic:"/maantuviu/",speakable:"muh-run-thoo-vi-doo",translation:"To forget"},{id:8,word:"",phonetic:"/tu/",speakable:"thay-doo",translation:"To search"},{id:9,word:"",phonetic:"/cey/",speakable:"say",translation:"To make"},{id:10,word:"",phonetic:"/uai/",speakable:"oo-dai",translation:"To break"}],body:[{id:1,word:"",phonetic:"/talai/",speakable:"thuh-lai",translation:"Head"},{id:2,word:"",phonetic:"/t/",speakable:"thol",translation:"Shoulder"},{id:3,word:"",phonetic:"/muakl/",speakable:"moo-lung-kaal",translation:"Knee"},{id:4,word:"",phonetic:"/muakai/",speakable:"moo-lung-kai",translation:"Elbow"},{id:5,word:"",phonetic:"/toai/",speakable:"thon-dai",translation:"Throat"},{id:6,word:"",phonetic:"/necu/",speakable:"nen-joo",translation:"Chest"},{id:7,word:"",phonetic:"/vayiu/",speakable:"vuh-yee-roo",translation:"Stomach"},{id:8,word:"",phonetic:"/iuppu/",speakable:"i-dup-poo",translation:"Waist"},{id:9,word:"",phonetic:"/kutikl/",speakable:"koo-thi-kaal",translation:"Heel"},{id:10,word:"",phonetic:"/peruvirl/",speakable:"peh-roo-vi-ral",translation:"Thumb"}],time:[{id:1,word:"",phonetic:"/nu/",speakable:"nay-roo",translation:"Yesterday"},{id:2,word:"",phonetic:"/nai/",speakable:"naa-lai",translation:"Tomorrow"},{id:3,word:"",phonetic:"/vram/",speakable:"vaa-rum",translation:"Week"},{id:4,word:"",phonetic:"/mtam/",speakable:"maa-thum",translation:"Month"},{id:5,word:"",phonetic:"/varuam/",speakable:"vuh-roo-dum",translation:"Year"},{id:6,word:"",phonetic:"/nu/",speakable:"noor-aan-doo",translation:"Century"},{id:7,word:"",phonetic:"/klai/",speakable:"kaa-lai",translation:"Morning"},{id:8,word:"",phonetic:"/matiyam/",speakable:"muh-thi-yum",translation:"Afternoon"},{id:9,word:"",phonetic:"/mlai/",speakable:"maa-lai",translation:"Evening"},{id:10,word:"",phonetic:"/nairavu/",speakable:"nul-li-ruh-voo",translation:"Midnight"}]},telugu:{emotions:[{id:1,word:"",phonetic:"/nanda/",speakable:"aa-nun-dum",translation:"Happiness"},{id:2,word:"",phonetic:"/dukha/",speakable:"duh-khum",translation:"Sadness"},{id:3,word:"",phonetic:"/kpa/",speakable:"ko-pum",translation:"Anger"},{id:4,word:"",phonetic:"/bhaya/",speakable:"bhuh-yum",translation:"Fear"},{id:5,word:"",phonetic:"/prma/",speakable:"pray-muh",translation:"Love"},{id:6,word:"",phonetic:"/carya/",speakable:"aash-chur-yum",translation:"Surprise"},{id:7,word:"",phonetic:"/siggu/",speakable:"sig-goo",translation:"Shame"},{id:8,word:"",phonetic:"/asya/",speakable:"uh-soo-yuh",translation:"Jealousy"},{id:9,word:"",phonetic:"/garva/",speakable:"gur-vum",translation:"Pride"},{id:10,word:"",phonetic:"/ndana/",speakable:"aan-do-luh-nuh",translation:"Worry"}],nature:[{id:1,word:"",phonetic:"/parvata/",speakable:"pur-vuh-thum",translation:"Mountain"},{id:2,word:"",phonetic:"/samudra/",speakable:"suh-mood-rum",translation:"Ocean"},{id:3,word:"",phonetic:"/aavi/",speakable:"uh-duh-vi",translation:"Forest"},{id:4,word:"",phonetic:"/nadi/",speakable:"nuh-di",translation:"River"},{id:5,word:"",phonetic:"/ka/",speakable:"aa-kaa-shum",translation:"Sky"},{id:6,word:"",phonetic:"/nakatra/",speakable:"nuk-shuh-trum",translation:"Star"},{id:7,word:"",phonetic:"/candruu/",speakable:"chund-roo-doo",translation:"Moon"},{id:8,word:"",phonetic:"/mgha/",speakable:"may-gum",translation:"Cloud"},{id:9,word:"",phonetic:"/vara/",speakable:"vur-shum",translation:"Rain"},{id:10,word:"",phonetic:"/ea/",speakable:"en-duh",translation:"Sunshine"}],actions:[{id:1,word:"",phonetic:"/parugettu/",speakable:"puh-roo-get-too",translation:"To run"},{id:2,word:"",phonetic:"/du/",speakable:"ee-doo",translation:"To swim"},{id:3,word:"",phonetic:"/eguru/",speakable:"eh-goo-roo",translation:"To fly"},{id:4,word:"",phonetic:"/lcicu/",speakable:"aa-lo-chin-choo",translation:"To think"},{id:5,word:"",phonetic:"/arthacsuk/",speakable:"ur-thum-chay-soo-ko",translation:"To understand"},{id:6,word:"",phonetic:"/gurtucuk/",speakable:"goor-thoon-choo-ko",translation:"To remember"},{id:7,word:"",phonetic:"/maracip/",speakable:"muh-ruh-chi-po",translation:"To forget"},{id:8,word:"",phonetic:"/vetuku/",speakable:"veh-thoo-koo",translation:"To search"},{id:9,word:"",phonetic:"/cyi/",speakable:"chay-yee",translation:"To make"},{id:10,word:"",phonetic:"/pagalagu/",speakable:"puh-guh-luh-got-too",translation:"To break"}],body:[{id:1,word:"",phonetic:"/tala/",speakable:"thuh-luh",translation:"Head"},{id:2,word:"",phonetic:"/bhuja/",speakable:"bhoo-jum",translation:"Shoulder"},{id:3,word:"",phonetic:"/mklu/",speakable:"mo-kaa-loo",translation:"Knee"},{id:4,word:"",phonetic:"/mcyi/",speakable:"mo-chay-yee",translation:"Elbow"},{id:5,word:"",phonetic:"/gotu/",speakable:"gon-thoo",translation:"Throat"},{id:6,word:"",phonetic:"/cht/",speakable:"chaa-thee",translation:"Chest"},{id:7,word:"",phonetic:"/kaupu/",speakable:"kuh-doo-poo",translation:"Stomach"},{id:8,word:"",phonetic:"/naumu/",speakable:"nuh-doo-moo",translation:"Waist"},{id:9,word:"",phonetic:"/maama/",speakable:"muh-duh-muh",translation:"Heel"},{id:10,word:"",phonetic:"/boanavlu/",speakable:"bo-tuh-nuh-vay-loo",translation:"Thumb"}],time:[{id:1,word:"",phonetic:"/ninna/",speakable:"nin-nuh",translation:"Yesterday"},{id:2,word:"",phonetic:"/rpu/",speakable:"ray-poo",translation:"Tomorrow"},{id:3,word:"",phonetic:"/vra/",speakable:"vaa-rum",translation:"Week"},{id:4,word:"",phonetic:"/nela/",speakable:"neh-luh",translation:"Month"},{id:5,word:"",phonetic:"/savatsara/",speakable:"sum-vut-suh-rum",translation:"Year"},{id:6,word:"",phonetic:"/atbda/",speakable:"shuh-taab-dum",translation:"Century"},{id:7,word:"",phonetic:"/udaya/",speakable:"oo-duh-yum",translation:"Morning"},{id:8,word:"",phonetic:"/madhyhna/",speakable:"mudh-yaan-um",translation:"Afternoon"},{id:9,word:"",phonetic:"/syatra/",speakable:"saa-yun-trum",translation:"Evening"},{id:10,word:"",phonetic:"/ardhartri/",speakable:"ur-dhuh-raa-tree",translation:"Midnight"}]},english:{emotions:[{id:1,word:"Happiness",phonetic:"/hpins/",speakable:"Happiness",translation:"State of being happy"},{id:2,word:"Sadness",phonetic:"/sdns/",speakable:"Sadness",translation:"State of being sad"},{id:3,word:"Anger",phonetic:"/r/",speakable:"Anger",translation:"Strong feeling of annoyance"},{id:4,word:"Fear",phonetic:"/fr/",speakable:"Fear",translation:"Feeling of being afraid"},{id:5,word:"Love",phonetic:"/lv/",speakable:"Love",translation:"Deep affection"},{id:6,word:"Surprise",phonetic:"/srpraz/",speakable:"Surprise",translation:"Unexpected feeling"},{id:7,word:"Shame",phonetic:"/em/",speakable:"Shame",translation:"Feeling of embarrassment"},{id:8,word:"Jealousy",phonetic:"/delsi/",speakable:"Jealousy",translation:"Feeling of envy"},{id:9,word:"Pride",phonetic:"/prad/",speakable:"Pride",translation:"Feeling of self-respect"},{id:10,word:"Anxiety",phonetic:"/zati/",speakable:"Anxiety",translation:"Feeling of worry"}],nature:[{id:1,word:"Mountain",phonetic:"/mantn/",speakable:"Mountain",translation:"Large natural elevation"},{id:2,word:"Ocean",phonetic:"/on/",speakable:"Ocean",translation:"Vast body of saltwater"},{id:3,word:"Forest",phonetic:"/frst/",speakable:"Forest",translation:"Large area with trees"},{id:4,word:"River",phonetic:"/rvr/",speakable:"River",translation:"Flowing body of water"},{id:5,word:"Sky",phonetic:"/ska/",speakable:"Sky",translation:"Space above earth"},{id:6,word:"Star",phonetic:"/str/",speakable:"Star",translation:"Luminous point in night sky"},{id:7,word:"Moon",phonetic:"/mun/",speakable:"Moon",translation:"Earth natural satellite"},{id:8,word:"Cloud",phonetic:"/klad/",speakable:"Cloud",translation:"Mass of water vapor"},{id:9,word:"Rain",phonetic:"/ren/",speakable:"Rain",translation:"Water falling from clouds"},{id:10,word:"Sunshine",phonetic:"/snan/",speakable:"Sunshine",translation:"Light from the sun"}],actions:[{id:1,word:"Running",phonetic:"/rn/",speakable:"Running",translation:"Moving quickly on foot"},{id:2,word:"Swimming",phonetic:"/swm/",speakable:"Swimming",translation:"Moving through water"},{id:3,word:"Flying",phonetic:"/fla/",speakable:"Flying",translation:"Moving through air"},{id:4,word:"Thinking",phonetic:"/k/",speakable:"Thinking",translation:"Using the mind"},{id:5,word:"Understanding",phonetic:"/ndrstnd/",speakable:"Understanding",translation:"Comprehending meaning"},{id:6,word:"Remembering",phonetic:"/rmembr/",speakable:"Remembering",translation:"Recalling from memory"},{id:7,word:"Forgetting",phonetic:"/fret/",speakable:"Forgetting",translation:"Failing to recall"},{id:8,word:"Searching",phonetic:"/srt/",speakable:"Searching",translation:"Looking for something"},{id:9,word:"Creating",phonetic:"/kriet/",speakable:"Creating",translation:"Making something new"},{id:10,word:"Breaking",phonetic:"/brek/",speakable:"Breaking",translation:"Separating into pieces"}],body:[{id:1,word:"Forehead",phonetic:"/frhed/",speakable:"Forehead",translation:"Part of face above eyes"},{id:2,word:"Shoulder",phonetic:"/oldr/",speakable:"Shoulder",translation:"Joint connecting arm to body"},{id:3,word:"Knee",phonetic:"/ni/",speakable:"Knee",translation:"Joint in middle of leg"},{id:4,word:"Elbow",phonetic:"/elbo/",speakable:"Elbow",translation:"Joint in middle of arm"},{id:5,word:"Throat",phonetic:"/rot/",speakable:"Throat",translation:"Front of neck"},{id:6,word:"Chest",phonetic:"/test/",speakable:"Chest",translation:"Front of upper body"},{id:7,word:"Stomach",phonetic:"/stmk/",speakable:"Stomach",translation:"Digestive organ in abdomen"},{id:8,word:"Waist",phonetic:"/west/",speakable:"Waist",translation:"Part between ribs and hips"},{id:9,word:"Heel",phonetic:"/hil/",speakable:"Heel",translation:"Back part of foot"},{id:10,word:"Thumb",phonetic:"/m/",speakable:"Thumb",translation:"Short thick finger"}],time:[{id:1,word:"Yesterday",phonetic:"/jestrde/",speakable:"Yesterday",translation:"Day before today"},{id:2,word:"Tomorrow",phonetic:"/tmro/",speakable:"Tomorrow",translation:"Day after today"},{id:3,word:"Week",phonetic:"/wik/",speakable:"Week",translation:"Seven-day period"},{id:4,word:"Month",phonetic:"/mn/",speakable:"Month",translation:"Approx 30-day period"},{id:5,word:"Year",phonetic:"/jr/",speakable:"Year",translation:"365-day period"},{id:6,word:"Century",phonetic:"/sentri/",speakable:"Century",translation:"100-year period"},{id:7,word:"Dawn",phonetic:"/dn/",speakable:"Dawn",translation:"First light of day"},{id:8,word:"Noon",phonetic:"/nun/",speakable:"Noon",translation:"Twelve oclock midday"},{id:9,word:"Dusk",phonetic:"/dsk/",speakable:"Dusk",translation:"Twilight before night"},{id:10,word:"Midnight",phonetic:"/mdnat/",speakable:"Midnight",translation:"Twelve oclock at night"}]}},E0={english:{numbers_1_10:[{id:1,word:"One",phonetic:"/wn/",speakable:"One",translation:"1"},{id:2,word:"Two",phonetic:"/tu/",speakable:"Two",translation:"2"},{id:3,word:"Three",phonetic:"/ri/",speakable:"Three",translation:"3"},{id:4,word:"Four",phonetic:"/fr/",speakable:"Four",translation:"4"},{id:5,word:"Five",phonetic:"/fav/",speakable:"Five",translation:"5"}],numbers_11_50:[{id:1,word:"Eleven",phonetic:"/levn/",speakable:"Eleven",translation:"11"},{id:2,word:"Twenty",phonetic:"/twenti/",speakable:"Twenty",translation:"20"},{id:3,word:"Thirty",phonetic:"/rti/",speakable:"Thirty",translation:"30"},{id:4,word:"Forty",phonetic:"/frti/",speakable:"Forty",translation:"40"},{id:5,word:"Fifty",phonetic:"/ffti/",speakable:"Fifty",translation:"50"}],numbers_51_100:[{id:1,word:"Sixty",phonetic:"/sksti/",speakable:"Sixty",translation:"60"},{id:2,word:"Seventy",phonetic:"/sevnti/",speakable:"Seventy",translation:"70"},{id:3,word:"Eighty",phonetic:"/eti/",speakable:"Eighty",translation:"80"},{id:4,word:"Ninety",phonetic:"/nanti/",speakable:"Ninety",translation:"90"},{id:5,word:"Hundred",phonetic:"/hndrd/",speakable:"Hundred",translation:"100"}],ordinal:[{id:1,word:"First",phonetic:"/frst/",speakable:"First",translation:"1st"},{id:2,word:"Second",phonetic:"/seknd/",speakable:"Second",translation:"2nd"},{id:3,word:"Third",phonetic:"/rd/",speakable:"Third",translation:"3rd"},{id:4,word:"Fourth",phonetic:"/fr/",speakable:"Fourth",translation:"4th"},{id:5,word:"Fifth",phonetic:"/ff/",speakable:"Fifth",translation:"5th"}],time_dates:[{id:1,word:"Today",phonetic:"/tde/",speakable:"Today",translation:"Current day"},{id:2,word:"Tomorrow",phonetic:"/tmro/",speakable:"Tomorrow",translation:"Next day"},{id:3,word:"Yesterday",phonetic:"/jestrde/",speakable:"Yesterday",translation:"Previous day"},{id:4,word:"Hour",phonetic:"/ar/",speakable:"Hour",translation:"60 minutes"},{id:5,word:"Minute",phonetic:"/mnt/",speakable:"Minute",translation:"60 seconds"}]},hindi:{numbers_1_10:[{id:1,word:"",phonetic:"/ek/",speakable:"ek",translation:"1"},{id:2,word:"",phonetic:"/do/",speakable:"doh",translation:"2"},{id:3,word:"",phonetic:"/tn/",speakable:"teen",translation:"3"},{id:4,word:"",phonetic:"/cr/",speakable:"chaar",translation:"4"},{id:5,word:"",phonetic:"/pc/",speakable:"paanch",translation:"5"}],numbers_11_50:[{id:1,word:"",phonetic:"/gyrah/",speakable:"gyaa-ruh",translation:"11"},{id:2,word:"",phonetic:"/bs/",speakable:"bees",translation:"20"},{id:3,word:"",phonetic:"/ts/",speakable:"tees",translation:"30"},{id:4,word:"",phonetic:"/cls/",speakable:"chaa-lees",translation:"40"},{id:5,word:"",phonetic:"/pacs/",speakable:"puh-chaas",translation:"50"}],numbers_51_100:[{id:1,word:"",phonetic:"/sh/",speakable:"saath",translation:"60"},{id:2,word:"",phonetic:"/sattar/",speakable:"sut-tur",translation:"70"},{id:3,word:"",phonetic:"/ass/",speakable:"us-see",translation:"80"},{id:4,word:"",phonetic:"/nabbe/",speakable:"nub-bay",translation:"90"},{id:5,word:"",phonetic:"/sau/",speakable:"sau",translation:"100"}],ordinal:[{id:1,word:"",phonetic:"/pahl/",speakable:"peh-laa",translation:"1st"},{id:2,word:"",phonetic:"/dsr/",speakable:"doo-sraa",translation:"2nd"},{id:3,word:"",phonetic:"/tsr/",speakable:"tee-sraa",translation:"3rd"},{id:4,word:"",phonetic:"/cauth/",speakable:"chau-thaa",translation:"4th"},{id:5,word:"",phonetic:"/pcv/",speakable:"paanch-vaan",translation:"5th"}],time_dates:[{id:1,word:"",phonetic:"/j/",speakable:"aaj",translation:"Today"},{id:2,word:"",phonetic:"/kal/",speakable:"kul",translation:"Tomorrow/Yesterday"},{id:3,word:"",phonetic:"/parso/",speakable:"pur-son",translation:"Day after tomorrow"},{id:4,word:"",phonetic:"/gha/",speakable:"ghun-taa",translation:"Hour"},{id:5,word:"",phonetic:"/mina/",speakable:"mi-nut",translation:"Minute"}]},tamil:{numbers_1_10:[{id:1,word:"",phonetic:"/ou/",speakable:"on-dru",translation:"1"},{id:2,word:"",phonetic:"/irau/",speakable:"i-run-du",translation:"2"},{id:3,word:"",phonetic:"/mu/",speakable:"moon-dru",translation:"3"},{id:4,word:"",phonetic:"/nku/",speakable:"naan-gu",translation:"4"},{id:5,word:"",phonetic:"/aintu/",speakable:"ain-thu",translation:"5"}],numbers_11_50:[{id:1,word:"",phonetic:"/patiou/",speakable:"puh-thi-non-dru",translation:"11"},{id:2,word:"",phonetic:"/irupatu/",speakable:"i-roo-puh-thu",translation:"20"},{id:3,word:"",phonetic:"/muppatu/",speakable:"mup-puh-thu",translation:"30"},{id:4,word:"",phonetic:"/npatu/",speakable:"naar-puh-thu",translation:"40"},{id:5,word:"",phonetic:"/aimpatu/",speakable:"aim-puh-thu",translation:"50"}],numbers_51_100:[{id:1,word:"",phonetic:"/aupatu/",speakable:"uh-roo-puh-thu",translation:"60"},{id:2,word:"",phonetic:"/eupatu/",speakable:"eh-loo-puh-thu",translation:"70"},{id:3,word:"",phonetic:"/epatu/",speakable:"en-puh-thu",translation:"80"},{id:4,word:"",phonetic:"/tou/",speakable:"thon-noo-ru",translation:"90"},{id:5,word:"",phonetic:"/nu/",speakable:"noo-ru",translation:"100"}],ordinal:[{id:1,word:"",phonetic:"/mutal/",speakable:"moo-thul",translation:"1st"},{id:2,word:"",phonetic:"/iravatu/",speakable:"i-run-daa-vuh-thu",translation:"2nd"},{id:3,word:"",phonetic:"/mvatu/",speakable:"moon-draa-vuh-thu",translation:"3rd"},{id:4,word:"",phonetic:"/nkvatu/",speakable:"naan-kaa-vuh-thu",translation:"4th"},{id:5,word:"",phonetic:"/aintvatu/",speakable:"ain-thaa-vuh-thu",translation:"5th"}],time_dates:[{id:1,word:"",phonetic:"/iu/",speakable:"in-dru",translation:"Today"},{id:2,word:"",phonetic:"/nai/",speakable:"naa-lai",translation:"Tomorrow"},{id:3,word:"",phonetic:"/nu/",speakable:"nay-tru",translation:"Yesterday"},{id:4,word:"",phonetic:"/mai/",speakable:"muh-ni",translation:"Hour/Clock"},{id:5,word:"",phonetic:"/nimiam/",speakable:"ni-mi-dum",translation:"Minute"}]},telugu:{numbers_1_10:[{id:1,word:"",phonetic:"/okai/",speakable:"o-kuh-ti",translation:"1"},{id:2,word:"",phonetic:"/reu/",speakable:"ren-du",translation:"2"},{id:3,word:"",phonetic:"/mu/",speakable:"moo-du",translation:"3"},{id:4,word:"",phonetic:"/nlugu/",speakable:"naa-loo-gu",translation:"4"},{id:5,word:"",phonetic:"/aidu/",speakable:"ai-doo",translation:"5"}],numbers_11_50:[{id:1,word:"",phonetic:"/padakou/",speakable:"puh-duh-kon-du",translation:"11"},{id:2,word:"",phonetic:"/iravai/",speakable:"i-ruh-vai",translation:"20"},{id:3,word:"",phonetic:"/muppai/",speakable:"mup-pai",translation:"30"},{id:4,word:"",phonetic:"/nalabhai/",speakable:"nuh-luh-bhai",translation:"40"},{id:5,word:"",phonetic:"/ybhai/",speakable:"yaa-bhai",translation:"50"}],numbers_51_100:[{id:1,word:"",phonetic:"/aravai/",speakable:"uh-ruh-vai",translation:"60"},{id:2,word:"",phonetic:"/ebbai/",speakable:"deb-bai",translation:"70"},{id:3,word:"",phonetic:"/enabhai/",speakable:"eh-nuh-bhai",translation:"80"},{id:4,word:"",phonetic:"/tombhai/",speakable:"tom-bhai",translation:"90"},{id:5,word:"",phonetic:"/nru/",speakable:"noo-ru",translation:"100"}],ordinal:[{id:1,word:"",phonetic:"/modai/",speakable:"mo-duh-ti",translation:"1st"},{id:2,word:"",phonetic:"/reava/",speakable:"ren-duh-vuh",translation:"2nd"},{id:3,word:"",phonetic:"/mava/",speakable:"moo-duh-vuh",translation:"3rd"},{id:4,word:"",phonetic:"/nlgava/",speakable:"naal-guh-vuh",translation:"4th"},{id:5,word:"",phonetic:"/aidava/",speakable:"ai-duh-vuh",translation:"5th"}],time_dates:[{id:1,word:"",phonetic:"/rju/",speakable:"ee-ro-ju",translation:"Today"},{id:2,word:"",phonetic:"/rpu/",speakable:"ray-pu",translation:"Tomorrow"},{id:3,word:"",phonetic:"/ninna/",speakable:"nin-nuh",translation:"Yesterday"},{id:4,word:"",phonetic:"/gaa/",speakable:"gun-tuh",translation:"Hour"},{id:5,word:"",phonetic:"/nimia/",speakable:"ni-mi-shum",translation:"Minute"}]}},T0={"Numbers 1-10":"numbers_1_10","Numbers 11-50":"numbers_11_50","Numbers 51-100":"numbers_51_100","Ordinal Numbers":"ordinal","Time & Dates":"time_dates"};function R0(e,t){const n=T0[t];if(!n)return[];const r=E0[e];return r?r[n]||[]:[]}const P0={english:{simple_statements:[{id:1,word:"I am happy",phonetic:"/a m hpi/",speakable:"I am happy",translation:"Expression of joy"},{id:2,word:"This is my book",phonetic:"/s z ma bk/",speakable:"This is my book",translation:"Possession statement"},{id:3,word:"The weather is nice",phonetic:"/ wer z nas/",speakable:"The weather is nice",translation:"Weather description"},{id:4,word:"I like food",phonetic:"/a lak fud/",speakable:"I like food",translation:"Expressing preference"},{id:5,word:"She is my friend",phonetic:"/i z ma frend/",speakable:"She is my friend",translation:"Introducing someone"}],asking_questions:[{id:1,word:"What is your name?",phonetic:"/wt z jr nem/",speakable:"What is your name?",translation:"Asking for name"},{id:2,word:"How are you?",phonetic:"/ha r ju/",speakable:"How are you?",translation:"Asking about wellbeing"},{id:3,word:"Where is the bathroom?",phonetic:"/wer z  brum/",speakable:"Where is the bathroom?",translation:"Asking for location"},{id:4,word:"How much does this cost?",phonetic:"/ha mt dz s kst/",speakable:"How much does this cost?",translation:"Asking price"},{id:5,word:"What time is it?",phonetic:"/wt tam z t/",speakable:"What time is it?",translation:"Asking time"}],daily_conversations:[{id:1,word:"Nice to meet you",phonetic:"/nas tu mit ju/",speakable:"Nice to meet you",translation:"Greeting new person"},{id:2,word:"See you later",phonetic:"/si ju letr/",speakable:"See you later",translation:"Farewell phrase"},{id:3,word:"Have a nice day",phonetic:"/hv  nas de/",speakable:"Have a nice day",translation:"Wishing well"},{id:4,word:"I am sorry",phonetic:"/a m sri/",speakable:"I am sorry",translation:"Apologizing"},{id:5,word:"Excuse me",phonetic:"/kskjuz mi/",speakable:"Excuse me",translation:"Getting attention"}],expressing_feelings:[{id:1,word:"I am tired",phonetic:"/a m tard/",speakable:"I am tired",translation:"Expressing fatigue"},{id:2,word:"I am hungry",phonetic:"/a m hri/",speakable:"I am hungry",translation:"Expressing hunger"},{id:3,word:"I am excited",phonetic:"/a m ksatd/",speakable:"I am excited",translation:"Expressing enthusiasm"},{id:4,word:"I am worried",phonetic:"/a m wrid/",speakable:"I am worried",translation:"Expressing concern"},{id:5,word:"I feel good",phonetic:"/a fil d/",speakable:"I feel good",translation:"Expressing wellness"}],complex_sentences:[{id:1,word:"If it rains, I will stay home",phonetic:"/f t renz a wl ste hom/",speakable:"If it rains, I will stay home",translation:"Conditional statement"},{id:2,word:"Although I am tired, I will help",phonetic:"/lo a m tard a wl help/",speakable:"Although I am tired, I will help",translation:"Concession statement"},{id:3,word:"I went to the store and bought milk",phonetic:"/a went tu  str nd bt mlk/",speakable:"I went to the store and bought milk",translation:"Compound sentence"},{id:4,word:"The book that I read was interesting",phonetic:"/ bk t a red wz ntrst/",speakable:"The book that I read was interesting",translation:"Relative clause"},{id:5,word:"Because I was late, I missed the bus",phonetic:"/bkz a wz let a mst  bs/",speakable:"Because I was late, I missed the bus",translation:"Cause and effect"}]},hindi:{simple_statements:[{id:1,word:"  ",phonetic:"/mai khu h/",speakable:"main khush hoon",translation:"I am happy"},{id:2,word:"   ",phonetic:"/yah mer kitb hai/",speakable:"yeh meri kitaab hai",translation:"This is my book"},{id:3,word:"  ",phonetic:"/mausam acch hai/",speakable:"mausam ach-chaa hai",translation:"The weather is nice"},{id:4,word:"   ",phonetic:"/mujhe khn pasand hai/",speakable:"mujhe khaa-naa pasand hai",translation:"I like food"},{id:5,word:"   ",phonetic:"/vah mer dost hai/",speakable:"voh meri dost hai",translation:"She is my friend"}],asking_questions:[{id:1,word:"   ?",phonetic:"/pk nm ky hai/",speakable:"aap-kaa naam kya hai",translation:"What is your name?"},{id:2,word:"  ?",phonetic:"/p kaise hai/",speakable:"aap kai-say hain",translation:"How are you?"},{id:3,word:"  ?",phonetic:"/auclay kah hai/",speakable:"shau-chaa-lay kuh-haan hai",translation:"Where is the bathroom?"},{id:4,word:"   ?",phonetic:"/isk dm ky hai/",speakable:"is-kaa daam kya hai",translation:"How much does this cost?"},{id:5,word:"   ?",phonetic:"/ky samay hu hai/",speakable:"kya suh-muy hua hai",translation:"What time is it?"}],daily_conversations:[{id:1,word:"   ",phonetic:"/pse milkar khu hu/",speakable:"aap-say mil-kur khushi hui",translation:"Nice to meet you"},{id:2,word:" ",phonetic:"/phir milege/",speakable:"phir mi-len-gay",translation:"See you later"},{id:3,word:"   ",phonetic:"/pk din ubh ho/",speakable:"aap-kaa din shubh ho",translation:"Have a nice day"},{id:4,word:"  ",phonetic:"/mujhe mf kjie/",speakable:"mujhe maaf kee-ji-yay",translation:"I am sorry"},{id:5,word:"",phonetic:"/sunie/",speakable:"su-ni-yay",translation:"Excuse me"}],expressing_feelings:[{id:1,word:"   ",phonetic:"/mai thak hu h/",speakable:"main thuh-kaa hua hoon",translation:"I am tired"},{id:2,word:"   ",phonetic:"/mujhe bhkh lag hai/",speakable:"mujhe bhookh luh-gi hai",translation:"I am hungry"},{id:3,word:"  ",phonetic:"/mai utshit h/",speakable:"main ut-saa-hit hoon",translation:"I am excited"},{id:4,word:"  ",phonetic:"/mai cintit h/",speakable:"main chin-tit hoon",translation:"I am worried"},{id:5,word:"    ",phonetic:"/mai acch mahss kart h/",speakable:"main ach-chaa meh-soos kur-taa hoon",translation:"I feel good"}],complex_sentences:[{id:1,word:"      ",phonetic:"/agar bri hog to mai ghar rahg/",speakable:"agar baa-rish ho-gi to main ghar ruh-hoon-gaa",translation:"If it rains, I will stay home"},{id:2,word:"   ,   ",phonetic:"/hlki mai thak h mai madad karg/",speakable:"haa-laan-ki main thuh-kaa hoon main muh-dud kuh-roon-gaa",translation:"Although I am tired, I will help"},{id:3,word:"     ",phonetic:"/mai dukn gay aur ddh ly/",speakable:"main doo-kaan guh-yaa aur doodh laa-yaa",translation:"I went to the store and bought milk"},{id:4,word:"      ",phonetic:"/jo kitb maine pah vah dilcasp th/",speakable:"jo ki-taab main-nay puh-ree voh dil-chusp thi",translation:"The book that I read was interesting"},{id:5,word:"    ,    ",phonetic:"/kyoki mujhe der ho ga mai bas ch ga/",speakable:"kyon-ki mujhe dayr ho gai main bus chhoot gai",translation:"Because I was late, I missed the bus"}]},tamil:{simple_statements:[{id:1,word:"  ",phonetic:"/n cantamka irukki/",speakable:"naan san-tho-shum-aa-ga i-ruk-ki-rayn",translation:"I am happy"},{id:2,word:"  ",phonetic:"/itu e puttakam/",speakable:"i-dhu en puth-thuh-kum",translation:"This is my book"},{id:3,word:"  ",phonetic:"/vilai naka uatu/",speakable:"vaa-ni-lai nan-draa-ga ul-luh-thu",translation:"The weather is nice"},{id:4,word:"  ",phonetic:"/eakku uavu piikkum/",speakable:"eh-nuh-ku u-nuh-vu pi-dik-kum",translation:"I like food"},{id:5,word:"  ",phonetic:"/ava e ti/",speakable:"uh-vul en tho-li",translation:"She is my friend"}],asking_questions:[{id:1,word:"  ?",phonetic:"/uka peyar ea/",speakable:"ung-gul pay-yar en-nuh",translation:"What is your name?"},{id:2,word:"  ?",phonetic:"/nka eppai irukkirka/",speakable:"neeng-gul ep-puh-di i-ruk-kee-ree-gul",translation:"How are you?"},{id:3,word:" ?",phonetic:"/kaivaai ek/",speakable:"kuh-li-vuh-rai eng-gay",translation:"Where is the bathroom?"},{id:4,word:"  ?",phonetic:"/ita vilai ea/",speakable:"i-dhun vi-lai en-nuh",translation:"How much does this cost?"},{id:5,word:" ?",phonetic:"/ea nram/",speakable:"en-nuh nay-rum",translation:"What time is it?"}],daily_conversations:[{id:1,word:"  ",phonetic:"/ukaai cantittadil makicci/",speakable:"ung-guh-lai san-dhith-thuh-dhil muh-gizh-chi",translation:"Nice to meet you"},{id:2,word:" ",phonetic:"/piar cantippm/",speakable:"pin-nur san-dhip-pohm",translation:"See you later"},{id:3,word:"   ",phonetic:"/uka n nalamka irukkaum/",speakable:"ung-gul naal nuh-luh-maa-ga i-ruk-kut-tum",translation:"Have a nice day"},{id:4,word:"",phonetic:"/maikkavum/",speakable:"mun-nik-kuh-vum",translation:"I am sorry"},{id:5,word:"",phonetic:"/tayavuceytu/",speakable:"thuh-yuh-vu-say-dhu",translation:"Excuse me / Please"}],expressing_feelings:[{id:1,word:"  ",phonetic:"/n kaaippka irukki/",speakable:"naan kuh-lai-paa-ga i-ruk-ki-rayn",translation:"I am tired"},{id:2,word:" ",phonetic:"/eakku pacikkiatu/",speakable:"eh-nuh-ku puh-sik-ki-ruh-dhu",translation:"I am hungry"},{id:3,word:"  ",phonetic:"/n uckamka irukki/",speakable:"naan ut-saa-gum-aa-ga i-ruk-ki-rayn",translation:"I am excited"},{id:4,word:" ",phonetic:"/n kavalaippauki/",speakable:"naan kuh-vuh-lai-puh-du-gi-rayn",translation:"I am worried"},{id:5,word:"  ",phonetic:"/eakku naka irukkiatu/",speakable:"eh-nuh-ku nan-draa-ga i-ruk-ki-ruh-dhu",translation:"I feel good"}],complex_sentences:[{id:1,word:" ,   ",phonetic:"/maai peytl n vil irupp/",speakable:"muh-lai pay-dhaal naan veet-til i-rup-payn",translation:"If it rains, I will stay home"},{id:2,word:"  , ",phonetic:"/n kaaippka iruntlum utavuv/",speakable:"naan kuh-lai-paa-ga i-run-dhaa-lum u-dhuh-vu-vayn",translation:"Although I am tired, I will help"},{id:3,word:"    ",phonetic:"/n kaaikku ceu pl vki/",speakable:"naan kuh-dai-ku sen-dru paal vaang-gi-nayn",translation:"I went to the store and bought milk"},{id:4,word:"    ",phonetic:"/n paitta puttakam cuvracyamka iruntatu/",speakable:"naan puh-dit-thuh puth-thuh-kum su-vaa-rus-yum-aa-ga i-run-dhuh-dhu",translation:"The book that I read was interesting"},{id:5,word:"  ,  ",phonetic:"/n tmatamka vantatl pruntai tavaavi/",speakable:"naan thaa-muh-dhum-aa-ga van-dhuh-dhaal pay-run-dhai thuh-vuh-ruh-vit-tayn",translation:"Because I was late, I missed the bus"}]},telugu:{simple_statements:[{id:1,word:"  ",phonetic:"/nnu santag unnnu/",speakable:"nay-nu san-tho-shum-gaa un-naa-nu",translation:"I am happy"},{id:2,word:"  ",phonetic:"/idi n pustaka/",speakable:"i-di naa poos-thuh-kum",translation:"This is my book"},{id:3,word:" ",phonetic:"/vtvaraa bgui/",speakable:"vaa-thaa-vuh-ruh-num baa-gun-di",translation:"The weather is nice"},{id:4,word:"  ",phonetic:"/nku hra ia/",speakable:"naa-ku aa-haa-rum ish-tum",translation:"I like food"},{id:5,word:"  ",phonetic:"/me n snhiturlu/",speakable:"aa-may naa snay-hi-thu-raa-lu",translation:"She is my friend"}],asking_questions:[{id:1,word:"  ?",phonetic:"/m pru mii/",speakable:"mee pay-ru ay-mi-ti",translation:"What is your name?"},{id:2,word:"  ?",phonetic:"/mru el unnru/",speakable:"mee-ru eh-laa un-naa-ru",translation:"How are you?"},{id:3,word:"  ?",phonetic:"/bthrm ekkaa ui/",speakable:"baath-room ek-kuh-duh un-di",translation:"Where is the bathroom?"},{id:4,word:" ?",phonetic:"/idi ea/",speakable:"i-di en-tuh",translation:"How much does this cost?"},{id:5,word:" ?",phonetic:"/enni gaalu/",speakable:"en-ni gun-tuh-lu",translation:"What time is it?"}],daily_conversations:[{id:1,word:"  ",phonetic:"/mimmalini kalisinanduku santa/",speakable:"mim-muh-li-ni kuh-li-si-nun-du-ku san-tho-shum",translation:"Nice to meet you"},{id:2,word:" ",phonetic:"/taruvta kaludd/",speakable:"thuh-ru-vaa-thuh kuh-lud-daam",translation:"See you later"},{id:3,word:"  ",phonetic:"/m rju ubha/",speakable:"mee ro-ju shub-hum",translation:"Have a nice day"},{id:4,word:"",phonetic:"/kamicai/",speakable:"kshuh-min-chun-di",translation:"I am sorry"},{id:5,word:"",phonetic:"/dayacsi/",speakable:"duh-yuh-chay-si",translation:"Excuse me / Please"}],expressing_feelings:[{id:1,word:" ",phonetic:"/nnu alasipynu/",speakable:"nay-nu uh-luh-si-po-yaa-nu",translation:"I am tired"},{id:2,word:"  ",phonetic:"/nku kalig ui/",speakable:"naa-ku aa-kuh-li-gaa un-di",translation:"I am hungry"},{id:3,word:"  ",phonetic:"/nnu utshag unnnu/",speakable:"nay-nu ut-saa-hum-gaa un-naa-nu",translation:"I am excited"},{id:4,word:"  ",phonetic:"/nnu ndana cendutunnu/",speakable:"nay-nu aan-do-luh-nuh chen-du-thun-naa-nu",translation:"I am worried"},{id:5,word:" ",phonetic:"/nku bgui/",speakable:"naa-ku baa-gun-di",translation:"I feel good"}],complex_sentences:[{id:1,word:" ,   ",phonetic:"/vara pait nnu il unu/",speakable:"var-shum puh-di-thay nay-nu int-lo un-taa-nu",translation:"If it rains, I will stay home"},{id:2,word:" ,  ",phonetic:"/nnu alasipyin sahya cstnu/",speakable:"nay-nu uh-luh-si-po-yi-naa suh-haa-yum chays-taa-nu",translation:"Although I am tired, I will help"},{id:3,word:"    ",phonetic:"/nnu dukniki vei plu teccnu/",speakable:"nay-nu du-kaa-naa-ni-ki vel-li paa-lu thech-chaa-nu",translation:"I went to the store and bought milk"},{id:4,word:"    ",phonetic:"/nnu cadivina pustaka saktikarag ui/",speakable:"nay-nu chuh-di-vi-nuh poos-thuh-kum aa-suk-thi-kuh-rum-gaa un-di",translation:"The book that I read was interesting"},{id:5,word:"  ,  ",phonetic:"/nnu lasyag vaccinanduna bassu missayynu/",speakable:"nay-nu aa-lus-yum-gaa vuh-chi-nun-du-nuh bus-su mis-say-yaa-nu",translation:"Because I was late, I missed the bus"}]}},A0={"Simple Statements":"simple_statements","Asking Questions":"asking_questions","Daily Conversations":"daily_conversations","Expressing Feelings":"expressing_feelings","Complex Sentences":"complex_sentences"};function O0(e,t){const n=A0[t];if(!n)return[];const r=P0[e];return r?r[n]||[]:[]}function Br(){const{settings:e,updateSetting:t}=Qt(),n=e.focusMode,r=()=>{t("focusMode",!n)};return a.jsxs("button",{className:`focus-mode-toggle ${n?"active":""}`,onClick:r,"aria-label":n?"Disable Focus Mode":"Enable Focus Mode",title:n?"Disable Focus Mode":"Enable Focus Mode",children:[n?a.jsx(u0,{size:18}):a.jsx(xf,{size:18}),a.jsx("span",{className:"focus-mode-label",children:"Focus Mode"}),a.jsx("span",{className:`focus-mode-switch ${n?"on":""}`,children:a.jsx("span",{className:"focus-mode-knob"})})]})}function L0({language:e,section:t,lessonTitle:n,onClose:r,onProgress:s}){const{getStyleValues:i,getSpeechRate:o,settings:l}=Qt(),[c,u]=k.useState([]),[d,f]=k.useState(0),[h,y]=k.useState([0]),[b,w]=k.useState([]),[x,m]=k.useState(!1),[p,v]=k.useState(!1),[_,C]=k.useState(""),[j,S]=k.useState(null),[g,N]=k.useState(null),[E,T]=k.useState([]),[R,W]=k.useState(null);k.useEffect(()=>{const K=()=>{const q=window.speechSynthesis.getVoices();T(q)};return K(),window.speechSynthesis.onvoiceschanged=K,()=>{window.speechSynthesis.onvoiceschanged=null}},[]),k.useEffect(()=>{let K=[];const q=t.toLowerCase();q==="words"?K=N0(e.id,n):q==="numbers"?K=R0(e.id,n):q==="sentences"&&(K=O0(e.id,n)),u(K)},[e.id,t,n]),k.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const K=window.SpeechRecognition||window.webkitSpeechRecognition,q=new K;q.continuous=!1,q.interimResults=!1,q.lang=X(e.id),q.onresult=te=>{const P=te.results[0][0].transcript.toLowerCase();C(P),L(P),m(!1)},q.onerror=te=>{console.error("Speech recognition error:",te.error),m(!1),S("error")},q.onend=()=>{m(!1)},N(q)}},[e.id]);const X=K=>({english:"en-US",hindi:"hi-IN",tamil:"ta-IN",telugu:"te-IN"})[K]||"en-US",z=K=>{if(E.length===0)return null;let q=E.find(te=>te.lang===K);if(!q){const te=K.split("-")[0];q=E.find(P=>P.lang.startsWith(te))}return!q&&["hi-IN","ta-IN","te-IN"].includes(K)&&(q=E.find(te=>te.name.toLowerCase().includes("google")&&te.lang.startsWith(K.split("-")[0]))),q},I=c[d],Y=c.length>0?h.length/c.length*100:0;c.length>0&&b.length/c.length*100;const A=k.useCallback(()=>{if(!I||p)return;W(null),v(!0);const K=X(e.id),q=z(K),te=E.find(Ne=>Ne.lang.startsWith("en")&&(Ne.name.includes("Google")||Ne.name.includes("Microsoft")||Ne.default))||E.find(Ne=>Ne.lang.startsWith("en"));let P=I.word,D=q,ee=!1;!q&&["tamil","telugu","hindi"].includes(e.id)&&(P=I.speakable||I.translation,D=te,ee=!0);const we=new SpeechSynthesisUtterance(P);we.rate=o(),D?(we.voice=D,we.lang=D.lang):we.lang=K,we.onend=()=>{v(!1),ee&&W(`Playing phonetic pronunciation. Native ${e.name} voice not available.`)},we.onerror=Ne=>{console.error("TTS error:",Ne),v(!1),W("Unable to play audio. Check browser TTS support.")},window.speechSynthesis.cancel(),window.speechSynthesis.speak(we)},[I,e.id,e.name,p,E]),U=()=>{if(!(!g||x)){C(""),S(null),m(!0);try{g.lang=X(e.id),g.start()}catch(K){console.error("Failed to start recognition:",K),m(!1)}}},M=()=>{g&&x&&(g.stop(),m(!1))},L=K=>{if(!I)return;const q=I.word.toLowerCase(),te=K.trim().toLowerCase(),P=te===q||q.includes(te)||te.includes(q)||Q(te,q)>.6;S(P?"correct":"incorrect"),P&&!b.includes(d)&&w(D=>[...D,d])},Q=(K,q)=>{const te=K.length>q.length?K:q,P=K.length>q.length?q:K;if(te.length===0)return 1;const D=se(te,P);return(te.length-D)/te.length},se=(K,q)=>{const te=[];for(let P=0;P<=q.length;P++)te[P]=[P];for(let P=0;P<=K.length;P++)te[0][P]=P;for(let P=1;P<=q.length;P++)for(let D=1;D<=K.length;D++)q.charAt(P-1)===K.charAt(D-1)?te[P][D]=te[P-1][D-1]:te[P][D]=Math.min(te[P-1][D-1]+1,te[P][D-1]+1,te[P-1][D]+1);return te[q.length][K.length]},$=()=>{if(d<c.length-1){const K=d+1;f(K),h.includes(K)||y(q=>[...q,K]),C(""),S(null)}},Z=()=>{d>0&&(f(K=>K-1),C(""),S(null))},de=()=>{C(""),S(null)},_e=()=>{const K=c.length>0?Math.round(h.length/c.length*100):0,q=c.length>0&&h.length>=c.length;s&&s(K,q),r()};return c.length===0?a.jsx("div",{className:"lesson-viewer",children:a.jsxs("div",{className:"lesson-viewer-content",children:[a.jsx("p",{children:"No words found for this lesson."}),a.jsx(re,{onClick:_e,children:"Go Back"})]})}):a.jsxs("div",{className:`lesson-viewer ${l.focusMode?"focus-mode-active":""}`,children:[a.jsx(Br,{}),a.jsxs("div",{className:"viewer-header",children:[a.jsx("button",{className:"back-home-btn",onClick:_e,children:a.jsx(ca,{size:20})}),a.jsxs("div",{className:"breadcrumb",children:[a.jsx("span",{children:e.name}),a.jsx(Bn,{size:16}),a.jsx("span",{children:t})]}),a.jsx("h2",{className:"viewer-title",children:n})]}),a.jsxs("div",{className:"viewer-progress",children:[a.jsxs("span",{className:"progress-text",children:["Item ",d+1," of ",c.length]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar-fill",style:{width:`${Y}%`}})}),a.jsxs("span",{className:"progress-percent",children:[Math.round(Y),"% complete"]})]}),a.jsxs("div",{className:`word-card ${j||""}`,children:[a.jsx("div",{className:"word-main",style:i(),children:I.word}),a.jsxs("button",{className:`listen-btn ${p?"speaking":""}`,onClick:A,disabled:p,children:[a.jsx(Lt,{size:20}),p?"Speaking...":"Listen"]}),R&&a.jsxs("div",{className:"voice-error",children:[" ",R]}),a.jsx("div",{className:"phonetic-badge",children:I.phonetic}),a.jsx("div",{className:"word-translation",children:I.translation}),a.jsxs("div",{className:"speak-section",children:[a.jsxs("button",{className:`speak-btn ${x?"listening":""}`,onClick:x?M:U,children:[x?a.jsx(fr,{size:24}):a.jsx(Ot,{size:24}),x?"Stop":"Speak"]}),_&&a.jsxs("div",{className:"spoken-text",children:['You said: "',a.jsx("strong",{children:_}),'"']}),j==="correct"&&a.jsxs("div",{className:"match-feedback correct",children:[a.jsx(gn,{size:20}),"Great pronunciation!"]}),j==="incorrect"&&a.jsxs("div",{className:"match-feedback incorrect",children:[a.jsx(Ds,{size:20}),"Not quite right. Try again!",a.jsxs("button",{className:"retry-btn",onClick:de,children:[a.jsx(La,{size:16}),"Retry"]})]}),j==="error"&&a.jsx("div",{className:"match-feedback error",children:"Could not recognize speech. Please try again."})]})]}),a.jsx("div",{className:"dots-indicator",children:c.map((K,q)=>a.jsx("span",{className:`dot ${q===d?"active":""} ${b.includes(q)?"learned":""}`,onClick:()=>{f(q),C(""),S(null)}},q))}),a.jsxs("div",{className:"viewer-navigation",children:[a.jsx(re,{variant:"secondary",icon:l0,onClick:Z,disabled:d===0,children:"Previous"}),d===c.length-1?a.jsx(re,{variant:"primary",icon:gn,onClick:_e,children:"Finish Lesson"}):a.jsxs(re,{variant:"primary",onClick:$,children:["Next",a.jsx(Bn,{size:18})]})]})]})}function I0(){const{user:e}=ot(),{settings:t}=Qt(),[n,r]=k.useState(null),[s,i]=k.useState(null),[o,l]=k.useState({}),[c,u]=k.useState({}),[d,f]=k.useState({challenges:[],fontSize:"medium",fontFamily:"poppins",reduceMotion:!1,focusMode:!1,readingRuler:!1,textToSpeech:!1});k.useEffect(()=>{async function S(){if(e!=null&&e.id)try{const g=await Oa(e.id);g!=null&&g.learning_challenges&&f(E=>({...E,challenges:g.learning_challenges}));const N=await aa(e.id);N&&f(E=>({...E,fontSize:N.font_size||"medium",fontFamily:N.font_family||"poppins",reduceMotion:N.reduce_motion||!1,focusMode:N.focus_mode||!1,readingRuler:N.reading_ruler||!1,textToSpeech:N.text_to_speech||!1}))}catch(g){console.error("Error loading settings:",g)}}S()},[e]);const h=[{id:"words",title:"Words",description:"Learn essential vocabulary and common words",icon:Tt,lessons:[{id:1,title:"Basic Greetings",duration:"5 min"},{id:2,title:"Common Objects",duration:"7 min"},{id:3,title:"Colors & Shapes",duration:"6 min"},{id:4,title:"Family Members",duration:"8 min"},{id:5,title:"Food & Drinks",duration:"7 min"}]},{id:"numbers",title:"Numbers",description:"Master counting and numerical expressions",icon:Sf,lessons:[{id:1,title:"Numbers 1-10",duration:"5 min"},{id:2,title:"Numbers 11-50",duration:"8 min"},{id:3,title:"Numbers 51-100",duration:"8 min"},{id:4,title:"Ordinal Numbers",duration:"6 min"},{id:5,title:"Time & Dates",duration:"10 min"}]},{id:"sentences",title:"Sentences",description:"Build complete sentences and conversations",icon:Cf,lessons:[{id:1,title:"Simple Statements",duration:"8 min"},{id:2,title:"Asking Questions",duration:"10 min"},{id:3,title:"Daily Conversations",duration:"12 min"},{id:4,title:"Expressing Feelings",duration:"10 min"},{id:5,title:"Complex Sentences",duration:"15 min"}]}],y=[{id:"english",name:"English",flag:"",totalLessons:15},{id:"hindi",name:"Hindi",flag:"",totalLessons:15},{id:"tamil",name:"Tamil",flag:"",totalLessons:15},{id:"telugu",name:"Telugu",flag:"",totalLessons:15}],b=(S,g,N)=>`${S}_${g}_${N+1}`,w=k.useCallback(async()=>{if(!e)return;const S=await gf(e.id),g={};S.forEach(E=>{g[E.lesson_id]={status:E.status,progress_percent:E.progress_percent}}),l(g);const N={};y.forEach(E=>{let T=0;h.forEach(R=>{R.lessons.forEach((W,X)=>{var I;const z=b(E.id,R.id,X);((I=g[z])==null?void 0:I.status)==="completed"&&T++})}),N[E.id]=Math.round(T/E.totalLessons*100)}),u(N)},[e]);k.useEffect(()=>{w()},[w]),k.useEffect(()=>{const S=JSON.parse(localStorage.getItem("learningChallenges")||"[]");f(g=>({...g,challenges:S}))},[]);const x=(S,g,N)=>{const E=b(S,g,N),T=o[E];if((T==null?void 0:T.status)==="completed")return"completed";if(N===0)return(T==null?void 0:T.status)==="in_progress"?"in_progress":"available";const R=b(S,g,N-1),W=o[R];return(W==null?void 0:W.status)==="completed"?(T==null?void 0:T.status)==="in_progress"?"in_progress":"available":"locked"},m=(S,g,N)=>{var T;const E=b(S,g,N);return((T=o[E])==null?void 0:T.progress_percent)||0},p=async(S,g)=>{if(!s||!e||!n)return;const N=h.find(R=>R.title===s.section);if(!N)return;const E=N.lessons.findIndex(R=>R.title===s.lesson.title);if(E===-1)return;const T=b(n.id,N.id.toLowerCase(),E);try{g?await Hk(e.id,T):S>0&&await vf(e.id,T,"in_progress",S),await w()}catch(R){console.error("Error saving lesson progress:",R)}},v=()=>{i(null)},_=()=>{const S=[],{challenges:g}=d;return g.includes("dyslexia")&&S.push("dyslexia-friendly"),g.includes("adhd")&&S.push("focus-mode"),g.includes("visual")&&S.push("high-contrast"),g.includes("motor")&&S.push("large-buttons"),g.includes("memory")&&S.push("show-hints"),S.join(" ")},j=(()=>{const{challenges:S}=d,g=[];return S.includes("dyslexia")&&g.push({label:"Dyslexia Support",desc:"OpenDyslexic font, increased spacing"}),S.includes("adhd")&&g.push({label:"Focus Mode",desc:"Simplified interface, no distractions"}),S.includes("auditory")&&g.push({label:"Audio Support",desc:"Captions enabled, slower playback"}),S.includes("visual")&&g.push({label:"Visual Support",desc:"High contrast, auto-play audio"}),S.includes("motor")&&g.push({label:"Motor Support",desc:"Large buttons, keyboard shortcuts"}),S.includes("memory")&&g.push({label:"Memory Support",desc:"Hints visible, spaced repetition"}),g})();return a.jsxs("div",{className:`lessons-page ${_()} ${t.focusMode?"focus-mode-active":""}`,children:[a.jsx(Pe,{}),a.jsx(Br,{}),a.jsxs("main",{className:"lessons-content",children:[j.length>0&&a.jsxs("div",{className:"accessibility-banner",children:[a.jsx(xf,{size:18}),a.jsx("span",{children:"Active adaptations: "}),j.map((S,g)=>a.jsxs("span",{className:"adaptation-tag",title:S.desc,children:[S.label,g<j.length-1&&", "]},g))]}),n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"lessons-header",children:[a.jsx("button",{className:"back-btn",onClick:()=>r(null),children:" Back to Languages"}),a.jsxs("div",{className:"header-content",children:[a.jsx("span",{className:"selected-flag",children:n.flag}),a.jsxs("div",{children:[a.jsxs("h1",{className:"lessons-title",children:[n.name," Lessons"]}),a.jsx("p",{className:"lessons-subtitle",children:"Learn words, numbers, and sentences"})]})]})]}),a.jsx("div",{className:"sections-container",children:h.map(S=>{const g=S.icon;return a.jsxs("div",{className:"lesson-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("div",{className:"section-icon",children:a.jsx(g,{size:24})}),a.jsxs("div",{children:[a.jsx("h2",{className:"section-title",children:S.title}),a.jsx("p",{className:"section-description",children:S.description})]})]}),a.jsx("div",{className:"lessons-list",children:S.lessons.map((N,E)=>{const T=x(n.id,S.id,E),R=m(n.id,S.id,E);return a.jsxs(Re,{className:`lesson-item ${T}`,children:[a.jsx("div",{className:"lesson-number",children:E+1}),a.jsxs("div",{className:"lesson-details",children:[a.jsx("h4",{className:"lesson-title",children:N.title}),a.jsxs("div",{className:"lesson-meta",children:[a.jsx(wn,{size:14}),a.jsx("span",{children:N.duration}),R>0&&R<100&&a.jsxs("span",{className:"lesson-progress-inline",children:[" ",R,"% done"]})]})]}),a.jsxs("div",{className:"lesson-actions",children:[T==="completed"&&a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"status-icon completed",size:24}),a.jsx(re,{variant:"secondary",className:"repeat-lesson-btn",onClick:()=>i({section:S.title,lesson:N,lessonIndex:E}),children:"Repeat"})]}),T==="locked"&&a.jsx(jf,{className:"status-icon locked",size:20}),(T==="available"||T==="in_progress")&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"audio-btn","aria-label":"Listen",children:a.jsx(Lt,{size:18})}),a.jsx(re,{variant:"primary",icon:Lr,className:"start-lesson-btn",onClick:()=>i({section:S.title,lesson:N,lessonIndex:E}),children:T==="in_progress"?"Resume":"Start"})]})]})]},N.id)})})]},S.id)})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"lessons-header",children:[a.jsx("h1",{className:"lessons-title",children:"Choose a Language"}),a.jsx("p",{className:"lessons-subtitle",children:"Select a language to start learning"})]}),a.jsx("div",{className:"languages-grid",children:y.map(S=>{const g=c[S.id]||0;return a.jsxs(Re,{className:"language-card",onClick:()=>r(S),children:[a.jsx("div",{className:"language-flag",children:S.flag}),a.jsx("h3",{className:"language-name",children:S.name}),a.jsxs("p",{className:"language-info",children:[S.totalLessons," lessons"]}),a.jsxs("div",{className:"language-progress",children:[a.jsx("div",{className:"progress-bar",children:a.jsx("div",{className:"progress-fill",style:{width:`${g}%`}})}),a.jsxs("span",{className:"progress-text",children:[g,"% complete"]})]}),a.jsxs(re,{variant:"primary",className:"start-language-btn",children:[g>0?"Continue Learning":"Start Learning",a.jsx(Bn,{size:18})]})]},S.id)})})]})]}),s&&n&&a.jsx(L0,{language:n,section:s.section,lessonTitle:s.lesson.title,onClose:v,onProgress:p})]})}function M0(){const{settings:e}=Qt(),t=[{id:"pronunciation",icon:Ot,title:"Pronunciation Practice",description:"Practice speaking",color:"#E91E8C"},{id:"listening",icon:Lt,title:"Listening Practice",description:"Improve listening",color:"#3B82F6"},{id:"vocabulary",icon:La,title:"Vocabulary Review",description:"Review words",color:"#22C55E"}];return a.jsxs("div",{className:`practice-page ${e.focusMode?"focus-mode-active":""}`,children:[a.jsx(Pe,{}),a.jsx(Br,{}),a.jsxs("main",{className:"practice-content",children:[a.jsx("h1",{className:"practice-title",children:"Practice"}),a.jsx("p",{className:"practice-subtitle",children:"Choose a practice type"}),a.jsx("div",{className:"practice-grid",children:t.map(({id:n,icon:r,title:s,description:i,color:o})=>a.jsxs(Re,{className:"practice-card",children:[a.jsx("div",{className:"practice-icon",style:{backgroundColor:`${o}15`},children:a.jsx(r,{size:28,style:{color:o}})}),a.jsx("h2",{children:s}),a.jsx("p",{children:i}),a.jsx(re,{variant:"outline",children:"Start Practice"})]},n))})]})]})}function z0(){var w,x;const{user:e}=ot(),[t,n]=k.useState(!1),[r,s]=k.useState(!0),[i,o]=k.useState(!1),[l,c]=k.useState({full_name:"",avatar_url:"",preferred_language:"en",learning_challenges:[],created_at:null}),u={dyslexia:"Dyslexia",adhd:"ADHD",auditory:"Auditory Processing",visual:"Visual Processing",motor:"Motor Difficulties",memory:"Memory Challenges"},d=[{icon:Tt,label:"Lessons Completed",value:"0"},{icon:wn,label:"Total Learning Time",value:"0 min"},{icon:i0,label:"Achievements",value:"0"}];k.useEffect(()=>{async function m(){var v;if(!(e!=null&&e.id))return;s(!0);const p=await Oa(e.id);p&&c({full_name:p.full_name||((v=e.user_metadata)==null?void 0:v.full_name)||"",avatar_url:p.avatar_url||"",preferred_language:p.preferred_language||"en",learning_challenges:p.learning_challenges||[],created_at:p.created_at}),s(!1)}m()},[e]);const f=m=>{c({...l,[m.target.name]:m.target.value})},h=async()=>{if(e!=null&&e.id){o(!0);try{await mf(e.id,{full_name:l.full_name,preferred_language:l.preferred_language}),n(!1)}catch(m){console.error("Failed to save profile:",m)}finally{o(!1)}}},y=m=>m?new Date(m).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"January 2026",b=l.full_name?l.full_name.split(" ").map(m=>m[0]).join("").toUpperCase():((x=(w=e==null?void 0:e.email)==null?void 0:w[0])==null?void 0:x.toUpperCase())||"U";return r?a.jsxs("div",{className:"profile-page",children:[a.jsx(Pe,{}),a.jsx("main",{className:"profile-content",children:a.jsx("div",{className:"loading-message",children:"Loading profile..."})})]}):a.jsxs("div",{className:"profile-page",children:[a.jsx(Pe,{}),a.jsxs("main",{className:"profile-content",children:[a.jsxs("div",{className:"profile-header-card",children:[a.jsxs("div",{className:"profile-avatar",children:[a.jsx("div",{className:"avatar-placeholder",children:b}),a.jsx("button",{className:"avatar-edit-btn","aria-label":"Change photo",children:a.jsx(o0,{size:16})})]}),a.jsxs("div",{className:"profile-info",children:[t?a.jsx("input",{type:"text",name:"full_name",value:l.full_name,onChange:f,className:"profile-name-input",placeholder:"Your name"}):a.jsx("h1",{className:"profile-name",children:l.full_name||"No name set"}),a.jsxs("div",{className:"profile-meta",children:[a.jsxs("span",{className:"meta-item",children:[a.jsx(h0,{size:16}),e==null?void 0:e.email]}),a.jsxs("span",{className:"meta-item",children:[a.jsx(a0,{size:16}),"Member since ",y(l.created_at)]})]})]}),a.jsx("div",{className:"profile-actions",children:t?a.jsx(re,{variant:"primary",icon:m0,onClick:h,disabled:i,children:i?"Saving...":"Save Changes"}):a.jsx(re,{variant:"secondary",icon:f0,onClick:()=>n(!0),children:"Edit Profile"})})]}),a.jsx("div",{className:"profile-stats-grid",children:d.map(({icon:m,label:p,value:v},_)=>a.jsxs(Re,{className:"profile-stat-card",children:[a.jsx(m,{size:24,className:"stat-icon"}),a.jsx("div",{className:"stat-value",children:v}),a.jsx("div",{className:"stat-label",children:p})]},_))}),a.jsxs("div",{className:"profile-grid",children:[a.jsxs(Re,{className:"profile-card",children:[a.jsx("h2",{className:"card-title",children:"Learning Challenges"}),a.jsx("p",{className:"card-subtitle",children:"Your selected learning support areas"}),l.learning_challenges&&l.learning_challenges.length>0?a.jsx("div",{className:"challenges-tags",children:l.learning_challenges.map(m=>a.jsx("span",{className:"challenge-tag",children:u[m]||m},m))}):a.jsxs("p",{className:"no-challenges",children:["No learning challenges selected."," ",a.jsx("a",{href:"/settings",children:"Add in Settings"})]})]}),a.jsxs(Re,{className:"profile-card",children:[a.jsx("h2",{className:"card-title",children:"Language Preferences"}),a.jsx("p",{className:"card-subtitle",children:"Your learning languages"}),a.jsxs("div",{className:"language-list",children:[a.jsxs("div",{className:"language-item",children:[a.jsx("span",{className:"language-flag",children:""}),a.jsx("span",{className:"language-name",children:"Hindi"}),a.jsx("span",{className:"language-level",children:"Beginner"})]}),a.jsxs("div",{className:"language-item",children:[a.jsx("span",{className:"language-flag",children:""}),a.jsx("span",{className:"language-name",children:"Tamil"}),a.jsx("span",{className:"language-level",children:"Not Started"})]})]})]})]})]})]})}const Vs={"hindi-basics":{id:"hindi-basics",title:"Hindi Basics Quiz",description:"Test your knowledge of basic Hindi vocabulary and phrases",language:"hindi",level:"beginner",categories:["greetings","objects","colors","family","food"],questionsCount:10,duration:600,type:"quiz",prerequisite:null,useAdvanced:!1},"tamil-basics":{id:"tamil-basics",title:"Tamil Basics Quiz",description:"Test your knowledge of basic Tamil vocabulary and phrases",language:"tamil",level:"beginner",categories:["greetings","objects","colors","family","food"],questionsCount:10,duration:600,type:"quiz",prerequisite:null,useAdvanced:!1},"telugu-basics":{id:"telugu-basics",title:"Telugu Basics Quiz",description:"Test your knowledge of basic Telugu vocabulary and phrases",language:"telugu",level:"beginner",categories:["greetings","objects","colors","family","food"],questionsCount:10,duration:600,type:"quiz",prerequisite:null,useAdvanced:!1},"hindi-intermediate":{id:"hindi-intermediate",title:"Hindi Intermediate Quiz",description:"Challenge yourself with intermediate Hindi vocabulary",language:"hindi",level:"intermediate",categories:["greetings","objects","colors","family","food"],questionsCount:15,duration:900,type:"quiz",prerequisite:"hindi-basics",useAdvanced:!1},"tamil-intermediate":{id:"tamil-intermediate",title:"Tamil Intermediate Quiz",description:"Challenge yourself with intermediate Tamil vocabulary",language:"tamil",level:"intermediate",categories:["greetings","objects","colors","family","food"],questionsCount:15,duration:900,type:"quiz",prerequisite:"tamil-basics",useAdvanced:!1},"telugu-intermediate":{id:"telugu-intermediate",title:"Telugu Intermediate Quiz",description:"Challenge yourself with intermediate Telugu vocabulary",language:"telugu",level:"intermediate",categories:["greetings","objects","colors","family","food"],questionsCount:15,duration:900,type:"quiz",prerequisite:"telugu-basics",useAdvanced:!1},"hindi-advanced":{id:"hindi-advanced",title:"Hindi Advanced Quiz",description:"Master difficult Hindi vocabulary: emotions, nature, actions & more",language:"hindi",level:"advanced",categories:["emotions","nature","actions","body","time"],questionsCount:20,duration:1200,type:"quiz",prerequisite:"hindi-intermediate",useAdvanced:!0},"tamil-advanced":{id:"tamil-advanced",title:"Tamil Advanced Quiz",description:"Master difficult Tamil vocabulary: emotions, nature, actions & more",language:"tamil",level:"advanced",categories:["emotions","nature","actions","body","time"],questionsCount:20,duration:1200,type:"quiz",prerequisite:"tamil-intermediate",useAdvanced:!0},"telugu-advanced":{id:"telugu-advanced",title:"Telugu Advanced Quiz",description:"Master difficult Telugu vocabulary: emotions, nature, actions & more",language:"telugu",level:"advanced",categories:["emotions","nature","actions","body","time"],questionsCount:20,duration:1200,type:"quiz",prerequisite:"telugu-intermediate",useAdvanced:!0},"english-basics":{id:"english-basics",title:"English Basics Quiz",description:"Test your knowledge of basic English vocabulary and phrases",language:"english",level:"beginner",categories:["greetings","objects","colors","family","food"],questionsCount:10,duration:600,type:"quiz",prerequisite:null,useAdvanced:!1},"english-intermediate":{id:"english-intermediate",title:"English Intermediate Quiz",description:"Challenge yourself with intermediate English vocabulary",language:"english",level:"intermediate",categories:["greetings","objects","colors","family","food"],questionsCount:15,duration:900,type:"quiz",prerequisite:"english-basics",useAdvanced:!1},"english-advanced":{id:"english-advanced",title:"English Advanced Quiz",description:"Master advanced English vocabulary: emotions, nature, actions & more",language:"english",level:"advanced",categories:["emotions","nature","actions","body","time"],questionsCount:20,duration:1200,type:"quiz",prerequisite:"english-intermediate",useAdvanced:!0}};function Tl(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function $0(e,t){const n=Af[e];if(!n)return[];const r=[];return t.forEach(s=>{const i=n[s];i&&i.forEach(o=>{r.push({...o,category:s})})}),r}function D0(e,t){const n=C0[e];if(!n)return[];const r=[];return t.forEach(s=>{const i=n[s];i&&i.forEach(o=>{r.push({...o,category:s})})}),r}function U0(e,t,n=3){const r=t.filter(i=>i.translation!==e.translation&&i.word!==e.word);return Tl(r).slice(0,n).map(i=>i.word)}function Nd(e){const t=Vs[e];if(!t)return[];const n=t.useAdvanced?D0(t.language,t.categories):$0(t.language,t.categories);return n.length<t.questionsCount&&console.warn(`Not enough words for quiz: ${e}`),Tl(n).slice(0,t.questionsCount).map((i,o)=>{const l=U0(i,n,3),c=Tl([i.word,...l]);return{id:o+1,question:`What is the ${t.language.charAt(0).toUpperCase()+t.language.slice(1)} word for "${i.translation}"?`,questionAudio:`What is the ${t.language} word for ${i.translation}?`,options:c,correctAnswer:i.word,correctIndex:c.indexOf(i.word),category:i.category,phonetic:i.phonetic,speakable:i.speakable,translation:i.translation}})}function F0(e){return Vs[e]||null}function B0(){return Object.values(Vs)}function W0(e,t){const n=Vs[e];return n?n.prerequisite?t.includes(n.prerequisite):!0:!1}const Ks={"english-pronunciation-basics":{id:"english-pronunciation-basics",title:"English Pronunciation - Basics",description:"Practice pronouncing basic English words clearly",language:"english",level:"beginner",wordsCount:10,duration:300,type:"speaking",prerequisite:null,passingScore:70},"english-pronunciation-intermediate":{id:"english-pronunciation-intermediate",title:"English Pronunciation - Intermediate",description:"Challenge yourself with longer words and phrases",language:"english",level:"intermediate",wordsCount:12,duration:420,type:"speaking",prerequisite:"english-pronunciation-basics",passingScore:70},"english-pronunciation-advanced":{id:"english-pronunciation-advanced",title:"English Pronunciation - Advanced",description:"Master difficult English pronunciations and phrases",language:"english",level:"advanced",wordsCount:15,duration:600,type:"speaking",prerequisite:"english-pronunciation-intermediate",passingScore:75},"hindi-pronunciation-basics":{id:"hindi-pronunciation-basics",title:"Hindi Pronunciation - Basics",description:"Practice pronouncing basic Hindi words and greetings",language:"hindi",level:"beginner",wordsCount:10,duration:300,type:"speaking",prerequisite:null,passingScore:70},"hindi-pronunciation-intermediate":{id:"hindi-pronunciation-intermediate",title:"Hindi Pronunciation - Intermediate",description:"Learn to pronounce common Hindi phrases clearly",language:"hindi",level:"intermediate",wordsCount:12,duration:420,type:"speaking",prerequisite:"hindi-pronunciation-basics",passingScore:70},"hindi-pronunciation-advanced":{id:"hindi-pronunciation-advanced",title:"Hindi Pronunciation - Advanced",description:"Master complex Hindi sentences and expressions",language:"hindi",level:"advanced",wordsCount:15,duration:600,type:"speaking",prerequisite:"hindi-pronunciation-intermediate",passingScore:75}},q0={english:{beginner:[{id:1,word:"Hello",hint:"Common greeting",phonetic:"/hlo/"},{id:2,word:"Thank you",hint:"Expression of gratitude",phonetic:"/k ju/"},{id:3,word:"Water",hint:"Drink to stay hydrated",phonetic:"/wtr/"},{id:4,word:"Apple",hint:"A red or green fruit",phonetic:"/pl/"},{id:5,word:"Happy",hint:"Feeling of joy",phonetic:"/hpi/"},{id:6,word:"Family",hint:"Parents and children",phonetic:"/fmli/"},{id:7,word:"Morning",hint:"Start of the day",phonetic:"/mrn/"},{id:8,word:"Welcome",hint:"Greeting for guests",phonetic:"/welkm/"},{id:9,word:"Friend",hint:"Person you like",phonetic:"/frend/"},{id:10,word:"Beautiful",hint:"Very pretty",phonetic:"/bjutfl/"},{id:11,word:"Teacher",hint:"Person who teaches",phonetic:"/titr/"},{id:12,word:"Student",hint:"Person who learns",phonetic:"/studnt/"}],intermediate:[{id:1,word:"Comfortable",hint:"Feeling at ease",phonetic:"/kmftbl/"},{id:2,word:"Restaurant",hint:"Place to eat",phonetic:"/restrnt/"},{id:3,word:"Interesting",hint:"Captivating attention",phonetic:"/ntrst/"},{id:4,word:"Vegetable",hint:"Healthy food like carrots",phonetic:"/vedtbl/"},{id:5,word:"Temperature",hint:"How hot or cold",phonetic:"/temprtr/"},{id:6,word:"Especially",hint:"Particularly",phonetic:"/speli/"},{id:7,word:"Necessary",hint:"Required or needed",phonetic:"/nesseri/"},{id:8,word:"Different",hint:"Not the same",phonetic:"/dfrnt/"},{id:9,word:"Important",hint:"Of great value",phonetic:"/mprtnt/"},{id:10,word:"Probably",hint:"Most likely",phonetic:"/prbbli/"},{id:11,word:"Beautiful sunset",hint:"Pretty evening sky",phonetic:"/bjutfl snset/"},{id:12,word:"Good morning",hint:"Morning greeting",phonetic:"/d mrn/"},{id:13,word:"How are you",hint:"Asking about wellbeing",phonetic:"/ha r ju/"},{id:14,word:"Nice to meet you",hint:"Greeting when meeting",phonetic:"/nas tu mit ju/"}],advanced:[{id:1,word:"Pronunciation",hint:"Way of saying words",phonetic:"/prnnsien/"},{id:2,word:"Entrepreneurship",hint:"Starting businesses",phonetic:"/ntrprnp/"},{id:3,word:"Miscellaneous",hint:"Various mixed items",phonetic:"/mslenis/"},{id:4,word:"Phenomenon",hint:"Observable event",phonetic:"/fnmnn/"},{id:5,word:"Conscientious",hint:"Very careful and thorough",phonetic:"/kniens/"},{id:6,word:"Enthusiastic",hint:"Very excited about",phonetic:"/njuzistk/"},{id:7,word:"Approximately",hint:"Close to, nearly",phonetic:"/prksmtli/"},{id:8,word:"Responsibilities",hint:"Duties to handle",phonetic:"/rspnsbltiz/"},{id:9,word:"Communication skills",hint:"Ability to convey ideas",phonetic:"/kmjunken sklz/"},{id:10,word:"The weather is beautiful today",hint:"Comment about nice weather",phonetic:null},{id:11,word:"I would like to order please",hint:"Restaurant phrase",phonetic:null},{id:12,word:"Could you repeat that slowly",hint:"Asking for clarification",phonetic:null},{id:13,word:"Simultaneously",hint:"At the same time",phonetic:"/smltenisli/"},{id:14,word:"Sophisticated",hint:"Complex and refined",phonetic:"/sfstketd/"},{id:15,word:"Opportunity",hint:"Favorable chance",phonetic:"/ptjunti/"},{id:16,word:"Congratulations on your achievement",hint:"Praising success",phonetic:null}]},hindi:{beginner:[{id:1,word:"",hint:"Hello/Greetings",phonetic:"Namaste"},{id:2,word:"",hint:"Thank you",phonetic:"Dhanyavaad"},{id:3,word:"",hint:"Water",phonetic:"Paani"},{id:4,word:"",hint:"Food",phonetic:"Khaana"},{id:5,word:"",hint:"Home/House",phonetic:"Ghar"},{id:6,word:"",hint:"Mother",phonetic:"Maa"},{id:7,word:"",hint:"Father",phonetic:"Pita"},{id:8,word:"",hint:"Brother",phonetic:"Bhai"},{id:9,word:"",hint:"Sister",phonetic:"Behen"},{id:10,word:"",hint:"Friend",phonetic:"Dost"},{id:11,word:"",hint:"Good",phonetic:"Accha"},{id:12,word:"",hint:"Love",phonetic:"Pyaar"}],intermediate:[{id:1,word:"  ",hint:"How are you?",phonetic:"Aap kaise hain"},{id:2,word:" ",hint:"My name",phonetic:"Mera naam"},{id:3,word:" ",hint:"Good morning",phonetic:"Shubh prabhat"},{id:4,word:" ",hint:"Good night",phonetic:"Shubh ratri"},{id:5,word:"",hint:"Please",phonetic:"Kripaya"},{id:6,word:" ",hint:"Excuse me/Sorry",phonetic:"Maaf kijiye"},{id:7,word:"  ",hint:"How are things",phonetic:"Kya haal hai"},{id:8,word:" ",hint:"Very good",phonetic:"Bahut accha"},{id:9,word:"   ",hint:"I did not understand",phonetic:"Mujhe samajh nahi aaya"},{id:10,word:" ",hint:"See you again",phonetic:"Phir milenge"},{id:11,word:"  ",hint:"You are welcome",phonetic:"Aapka swagat hai"},{id:12,word:" ",hint:"How much money",phonetic:"Kitna paisa"},{id:13,word:" ",hint:"I need/want",phonetic:"Mujhe chahiye"},{id:14,word:"     ",hint:"Can you help?",phonetic:"Kya aap madad kar sakte hain"}],advanced:[{id:1,word:"    ",hint:"Nice to meet you",phonetic:"Mujhe aapse milkar khushi hui"},{id:2,word:"     ",hint:"Today's weather is very nice",phonetic:"Aaj ka mausam bahut accha hai"},{id:3,word:"    ",hint:"I am learning Hindi",phonetic:"Main Hindi seekh raha hoon"},{id:4,word:"  ",hint:"Please speak slowly",phonetic:"Kripaya dheere boliye"},{id:5,word:"   ",hint:"How much does this cost?",phonetic:"Yah kitne ka hai"},{id:6,word:"    ",hint:"I really liked the food",phonetic:"Mujhe khaana bahut pasand aaya"},{id:7,word:"   ",hint:"Have a nice day",phonetic:"Aapka din shubh ho"},{id:8,word:"   ",hint:"I am from India",phonetic:"Main Bharat se hoon"},{id:9,word:"    ",hint:"Do you speak English?",phonetic:"Kya aap angrezi bolte hain"},{id:10,word:"      ",hint:"Sorry I am late",phonetic:"Mujhe maaf karen mujhe der ho gayi"},{id:11,word:"    ",hint:"This place is very beautiful",phonetic:"Yah jagah bahut sundar hai"},{id:12,word:"    ",hint:"Nice talking to you",phonetic:"Aapse baat karke accha laga"},{id:13,word:"    ",hint:"My Hindi is not good",phonetic:"Meri Hindi acchi nahi hai"},{id:14,word:"      ",hint:"Can you show me the way?",phonetic:"Kya aap mujhe rasta bata sakte hain"},{id:15,word:"    ",hint:"Thank you for your help",phonetic:"Dhanyavaad aapki madad ke liye"},{id:16,word:"   ",hint:"I am very happy",phonetic:"Main bahut khush hoon"}]}};function H0(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function ko(e){var i;const t=Ks[e];if(!t)return[];const r={beginner:"beginner",intermediate:"intermediate",advanced:"advanced"}[t.level],s=((i=q0[t.language])==null?void 0:i[r])||[];return H0(s).slice(0,t.wordsCount)}function V0(e){return Ks[e]||null}function K0(){return Object.values(Ks)}function G0(e,t){const n=Ks[e];return n?n.prerequisite?t.includes(n.prerequisite):!0:!1}function Q0(e,t){const n=e.toLowerCase().trim(),r=t.toLowerCase().trim();if(n===r)return 100;if(n.includes(r)||r.includes(n))return 85;const s=J0(n,r),i=Math.max(n.length,r.length),o=(i-s)/i*100;return Math.round(o)}function J0(e,t){const n=e.length,r=t.length,s=Array(n+1).fill(null).map(()=>Array(r+1).fill(0));for(let i=0;i<=n;i++)s[i][0]=i;for(let i=0;i<=r;i++)s[0][i]=i;for(let i=1;i<=n;i++)for(let o=1;o<=r;o++)e[i-1]===t[o-1]?s[i][o]=s[i-1][o-1]:s[i][o]=1+Math.min(s[i-1][o],s[i][o-1],s[i-1][o-1]);return s[n][r]}function Y0(){const e=ft(),{user:t}=ot(),{settings:n}=Qt(),[r,s]=k.useState("available"),[i,o]=k.useState(!0),[l,c]=k.useState({completed:0,averageScore:0,completedQuizIds:[]}),[u,d]=k.useState([]);k.useEffect(()=>{async function g(){if(t!=null&&t.id){o(!1);try{const[N,E]=await Promise.all([Gk(t.id),Kk(t.id)]);c(N),d(E)}catch(N){console.error("Error loading assessment data:",N)}finally{o(!1)}}}g()},[t]);const f=B0(),h=K0(),y=f.map(g=>{const N=l.completedQuizIds.includes(g.id),E=W0(g.id,l.completedQuizIds),T=g.prerequisite?Vs[g.prerequisite]:null;return{...g,isCompleted:N,isUnlocked:E,prerequisiteQuiz:T,assessmentType:"quiz",type:g.type,level:g.level,title:g.title,description:g.description,questions:g.questionsCount,duration:`~${Math.round(g.duration/60)} min`,accessibilityOptions:["Extended time","Audio questions","Multiple response formats"]}}),b=h.map(g=>{const N=l.completedQuizIds.includes(g.id),E=G0(g.id,l.completedQuizIds),T=g.prerequisite?Ks[g.prerequisite]:null;return{...g,isCompleted:N,isUnlocked:E,prerequisiteQuiz:T,assessmentType:"speaking",type:g.type,level:g.level,title:g.title,description:g.description,questions:g.wordsCount,duration:`~${Math.round(g.duration/60)} min`,accessibilityOptions:["Audio playback","Retry attempts","Visual feedback"]}}),w=[...y,...b],x=w.filter(g=>g.isUnlocked&&!g.isCompleted),m=w.filter(g=>g.isCompleted),p=w.filter(g=>!g.isUnlocked),v=r==="available"?x:m,_=[{label:"Completed",value:l.completed,sublabel:"assessments",icon:Or,iconColor:"#10B981"},{label:"Average Score",value:`${l.averageScore}%`,sublabel:"overall performance",icon:y0,iconColor:"#F59E0B"},{label:"Available",value:x.length,sublabel:"to complete",icon:Ef,iconColor:"#E91E8C"}],C=g=>{g.comingSoon||!g.isUnlocked||(g.assessmentType==="speaking"?e(`/assessments/pronunciation/${g.id}`):e(`/assessments/quiz/${g.id}`))},j=g=>{if(!window.speechSynthesis)return;window.speechSynthesis.cancel();const N=`${g.title}. ${g.description}. ${g.questions} questions, ${g.duration}`,E=new SpeechSynthesisUtterance(N);E.rate=.9,window.speechSynthesis.speak(E)},S=g=>{switch(g){case"beginner":return"tag-beginner";case"intermediate":return"tag-intermediate";case"advanced":return"tag-advanced";default:return""}};return a.jsxs("div",{className:`assessments-page ${n.focusMode?"focus-mode-active":""}`,children:[a.jsx(Pe,{}),a.jsx(Br,{}),a.jsxs("main",{className:"assessments-content",children:[a.jsxs("div",{className:"assessments-header",children:[a.jsx("h1",{className:"assessments-title",children:"Assessments"}),a.jsx("p",{className:"assessments-subtitle",children:"Test your skills and track your progress"})]}),a.jsx("div",{className:"stats-row",children:_.map(({label:g,value:N,sublabel:E,icon:T,iconColor:R},W)=>a.jsxs(Re,{className:"stat-card",children:[a.jsxs("div",{className:"stat-header",children:[a.jsx("span",{className:"stat-label",children:g}),a.jsx(T,{size:20,style:{color:R}})]}),a.jsx("div",{className:"stat-value",children:i?"...":N}),a.jsx("div",{className:"stat-sublabel",children:E})]},W))}),a.jsxs("div",{className:"filter-tabs",children:[a.jsxs("button",{className:`filter-tab ${r==="available"?"active":""}`,onClick:()=>s("available"),children:["Available (",x.length,")"]}),a.jsxs("button",{className:`filter-tab ${r==="completed"?"active":""}`,onClick:()=>s("completed"),children:["Completed (",m.length,")"]})]}),a.jsxs("div",{className:"assessments-grid",children:[v.map(g=>a.jsxs(Re,{className:"assessment-card",children:[a.jsxs("div",{className:"assessment-header",children:[a.jsxs("div",{className:"assessment-tags",children:[a.jsxs("span",{className:`tag tag-${g.type}`,children:[g.type==="quiz"&&a.jsx(yo,{size:14}),g.type==="speaking"&&a.jsx(Ot,{size:14}),g.type]}),a.jsx("span",{className:`tag ${S(g.level)}`,children:g.level}),g.comingSoon&&a.jsx("span",{className:"tag tag-coming-soon",children:"Coming Soon"})]}),a.jsx("button",{className:"audio-btn","aria-label":"Read aloud",onClick:()=>j(g),children:a.jsx(Lt,{size:18})})]}),a.jsx("h3",{className:"assessment-title",children:g.title}),a.jsx("p",{className:"assessment-description",children:g.description}),a.jsxs("div",{className:"assessment-meta",children:[a.jsxs("span",{className:"meta-item",children:[a.jsx(yo,{size:16}),g.questions," questions"]}),a.jsxs("span",{className:"meta-item",children:[a.jsx(wn,{size:16}),g.duration]})]}),a.jsxs("div",{className:"accessibility-box",children:[a.jsx("span",{className:"accessibility-label",children:"Accessibility Options:"}),a.jsx("span",{className:"accessibility-options",children:g.accessibilityOptions.join("  ")})]}),a.jsx(re,{variant:"primary",icon:Lr,className:"start-btn",onClick:()=>C(g),children:g.isCompleted?"Retake Assessment":"Start Assessment"})]},g.id)),v.length===0&&a.jsx("div",{className:"empty-state",children:a.jsxs("p",{children:["No ",r," assessments yet."]})})]}),r==="available"&&p.length>0&&a.jsxs("div",{className:"locked-section",children:[a.jsx("h2",{className:"section-title",children:" Unlock Next"}),a.jsx("p",{className:"section-description",children:"Complete the basic quizzes to unlock these"}),a.jsx("div",{className:"assessments-grid locked-grid",children:p.map(g=>{var N;return a.jsxs(Re,{className:"assessment-card locked",children:[a.jsxs("div",{className:"locked-overlay",children:[a.jsx(jf,{size:24}),a.jsxs("span",{children:['Complete "',(N=g.prerequisiteQuiz)==null?void 0:N.title,'" first']})]}),a.jsx("div",{className:"assessment-header",children:a.jsxs("div",{className:"assessment-tags",children:[a.jsx("span",{className:`tag tag-${g.type}`,children:g.type}),a.jsx("span",{className:`tag ${S(g.level)}`,children:g.level})]})}),a.jsx("h3",{className:"assessment-title",children:g.title}),a.jsx("p",{className:"assessment-description",children:g.description}),a.jsxs("div",{className:"assessment-meta",children:[a.jsxs("span",{className:"meta-item",children:[a.jsx(yo,{size:16}),g.questions," questions"]}),a.jsxs("span",{className:"meta-item",children:[a.jsx(wn,{size:16}),g.duration]})]})]},g.id)})})]}),r==="completed"&&u.length>0&&a.jsxs("div",{className:"recent-results-section",children:[a.jsx("h2",{className:"section-title",children:"Recent Results"}),a.jsx("div",{className:"results-list",children:u.slice(0,5).map(g=>a.jsxs(Re,{className:"result-card",children:[a.jsxs("div",{className:"result-info",children:[a.jsx("span",{className:"result-title",children:g.quiz_title}),a.jsx("span",{className:"result-date",children:new Date(g.completed_at).toLocaleDateString()})]}),a.jsx("div",{className:"result-score",children:a.jsxs("span",{className:`score-badge ${g.score_percentage>=70?"good":"needs-work"}`,children:[g.score_percentage,"%"]})})]},g.id))})]})]})]})}function X0({questions:e,quizConfig:t,hideTimer:n=!1,textToSpeech:r=!0,speechRate:s=1,onComplete:i,initialState:o=null,onProgressUpdate:l=null}){var z;const[c,u]=k.useState((o==null?void 0:o.currentIndex)??0),[d,f]=k.useState(null),[h,y]=k.useState(!1),[b,w]=k.useState(null),[x,m]=k.useState(((z=o==null?void 0:o.answers)==null?void 0:z.filter(I=>I.isCorrect).length)??0),[p,v]=k.useState((o==null?void 0:o.answers)??[]),[_,C]=k.useState((t==null?void 0:t.duration)||600),[j]=k.useState(Date.now()),S=e[c],g=c/e.length*100;k.useEffect(()=>{if(n)return;if(_<=0){W();return}const I=setInterval(()=>{C(Y=>Y-1)},1e3);return()=>clearInterval(I)},[_,n]);const N=I=>{const Y=Math.floor(I/60),A=I%60;return`${Y}:${A.toString().padStart(2,"0")}`},E=k.useCallback(I=>{if(!r||!window.speechSynthesis)return;window.speechSynthesis.cancel();const Y=new SpeechSynthesisUtterance(I);Y.rate=s,Y.lang="en-US",window.speechSynthesis.speak(Y)},[r,s]),T=(I,Y)=>{if(h)return;f(Y);const A=I===S.correctAnswer;w(A),y(!0),A&&m(L=>L+1);const U={questionId:S.id,question:S.question,selectedAnswer:I,correctAnswer:S.correctAnswer,isCorrect:A,category:S.category,translation:S.translation},M=[...p,U];v(M),l&&l(c+1,M)},R=()=>{c<e.length-1?(u(I=>I+1),f(null),y(!1),w(null)):W()},W=()=>{const I=Math.round((Date.now()-j)/1e3),Y=[...p],A=Y.filter(M=>M.isCorrect).length,U=Math.round(A/e.length*100);i({score:A,totalQuestions:e.length,scorePercentage:U,timeTakenSeconds:I,answers:Y})},X=()=>{const I=S.questionAudio||S.question;E(I)};return S?a.jsxs("div",{className:"quiz-container",children:[a.jsxs("div",{className:"quiz-header",children:[a.jsxs("div",{className:"quiz-progress-info",children:[a.jsxs("span",{className:"question-counter",children:["Question ",c+1," of ",e.length]}),!n&&a.jsxs("span",{className:`quiz-timer ${_<60?"warning":""}`,children:[" ",N(_)]})]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar-fill",style:{width:`${g}%`}})})]}),a.jsxs("div",{className:"question-card",children:[a.jsxs("div",{className:"question-header",children:[a.jsx("span",{className:"question-category",children:S.category}),r&&a.jsxs("button",{className:"read-aloud-btn",onClick:X,"aria-label":"Read question aloud",children:[a.jsx(Lt,{size:18}),"Read Question"]})]}),a.jsx("h2",{className:"question-text",children:S.question}),a.jsx("div",{className:"options-grid",children:S.options.map((I,Y)=>{let A="option-btn";return h&&(Y===d&&(A+=b?" correct":" incorrect"),I===S.correctAnswer&&!b&&(A+=" show-correct")),a.jsxs("button",{className:A,onClick:()=>T(I,Y),disabled:h,children:[a.jsx("span",{className:"option-letter",children:String.fromCharCode(65+Y)}),a.jsx("span",{className:"option-text",children:I}),h&&Y===d&&a.jsx("span",{className:"option-icon",children:b?a.jsx(gn,{size:20}):a.jsx(Ds,{size:20})}),h&&I===S.correctAnswer&&!b&&a.jsx("span",{className:"option-icon correct-icon",children:a.jsx(gn,{size:20})})]},Y)})}),h&&a.jsxs("div",{className:`feedback-section ${b?"correct":"incorrect"}`,children:[b?a.jsxs("p",{className:"feedback-text",children:[a.jsx(gn,{size:20})," Correct! Well done!"]}):a.jsxs("p",{className:"feedback-text",children:[a.jsx(Ds,{size:20}),"Incorrect. The correct answer is: ",a.jsx("strong",{children:S.correctAnswer})]}),S.phonetic&&a.jsxs("p",{className:"pronunciation-hint",children:["Pronunciation: ",S.phonetic]})]}),a.jsx("div",{className:"quiz-actions",children:h&&a.jsxs("button",{className:"next-btn",onClick:R,children:[c<e.length-1?"Next Question":"See Results",a.jsx(Bn,{size:18})]})})]}),a.jsx("div",{className:"score-indicator",children:a.jsxs("span",{children:["Score: ",x,"/",c+(h?1:0)]})})]}):a.jsx("div",{className:"quiz-loading",children:"Loading quiz..."})}function Z0(){const{quizId:e}=Cc(),t=ft(),{user:n}=ot(),{settings:r}=Qt(),[s,i]=k.useState(!0),[o,l]=k.useState(null),[c,u]=k.useState([]),[d,f]=k.useState(null),[h,y]=k.useState(null),[b,w]=k.useState(!1),[x,m]=k.useState(!1),[p,v]=k.useState(null),[_,C]=k.useState(!1),[j,S]=k.useState(!1),[g,N]=k.useState(null),[E,T]=k.useState(!1),[R,W]=k.useState(null),[X,z]=k.useState(null);k.useEffect(()=>{async function $(){if(!(!e||!(n!=null&&n.id))){i(!0);try{const Z=F0(e);if(!Z){console.error("Quiz not found:",e),t("/assessments");return}l(Z);const de=await wf(n.id,e);if(de)N(de),T(!0),u(de.questions);else{const q=Nd(e);u(q)}const[_e,K]=await Promise.all([Oa(n.id),aa(n.id)]);f(_e),y(K)}catch(Z){console.error("Error loading quiz data:",Z)}finally{i(!1)}}}$()},[e,n,t]);const I=()=>{if(!(d!=null&&d.learning_challenges))return!1;const $=d.learning_challenges;return $.includes("adhd")||$.includes("anxiety")},Y=async()=>{n!=null&&n.id&&g&&await oa(n.id,e);const $=Nd(e);u($),N(null),T(!1),W(null),z(new Date().toISOString()),w(!0),m(!1),v(null),S(!1)},A=()=>{g&&(W({currentIndex:g.current_index,answers:g.answers||[]}),z(g.start_time)),T(!1),w(!0),m(!1),v(null),S(!1)},U=()=>{z(new Date().toISOString()),w(!0),m(!1),v(null),S(!1)},M=k.useCallback(async($,Z)=>{if(!(!(n!=null&&n.id)||!o))try{await yf(n.id,{quizId:o.id,quizType:"quiz",currentIndex:$,answers:Z,questions:c,startTime:X||new Date().toISOString()})}catch(de){console.error("Error saving progress:",de)}},[n==null?void 0:n.id,o,c,X]),L=async $=>{if(v($),m(!0),w(!1),n!=null&&n.id&&await oa(n.id,e),n!=null&&n.id){C(!0);try{await Vk(n.id,{quizId:o.id,quizTitle:o.title,score:$.score,totalQuestions:$.totalQuestions,scorePercentage:$.scorePercentage,timeTakenSeconds:$.timeTakenSeconds,answers:$.answers})}catch(Z){console.error("Error saving results:",Z)}finally{C(!1)}}},Q=$=>$>=90?{emoji:"",message:"Excellent! You're a star!"}:$>=70?{emoji:"",message:"Great job! Keep it up!"}:$>=50?{emoji:"",message:"Good effort! Practice makes perfect."}:{emoji:"",message:"Keep practicing, you'll get better!"},se=$=>{const Z=Math.floor($/60),de=$%60;return Z>0?`${Z}m ${de}s`:`${de}s`};return s?a.jsxs("div",{className:"quiz-page",children:[a.jsx(Pe,{}),a.jsx("main",{className:"quiz-page-content",children:a.jsxs("div",{className:"loading-state",children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("p",{children:"Loading quiz..."})]})})]}):o?a.jsxs("div",{className:`quiz-page ${r.focusMode?"focus-mode-active":""}`,children:[a.jsx(Pe,{}),a.jsx(Br,{}),a.jsxs("main",{className:"quiz-page-content",children:[!b&&a.jsxs("button",{className:"back-btn",onClick:()=>t("/assessments"),children:[a.jsx(la,{size:18}),"Back to Assessments"]}),!b&&!x&&a.jsx("div",{className:"pre-quiz-screen",children:a.jsxs("div",{className:"quiz-intro-card",children:[a.jsxs("div",{className:"quiz-intro-header",children:[a.jsx("span",{className:"quiz-level-badge",children:o.level}),a.jsx("span",{className:"quiz-type-badge",children:o.type})]}),a.jsx("h1",{className:"quiz-intro-title",children:o.title}),a.jsx("p",{className:"quiz-intro-description",children:o.description}),a.jsxs("div",{className:"quiz-info-grid",children:[a.jsxs("div",{className:"quiz-info-item",children:[a.jsx(Rc,{size:24}),a.jsx("span",{className:"info-value",children:o.questionsCount}),a.jsx("span",{className:"info-label",children:"Questions"})]}),a.jsxs("div",{className:"quiz-info-item",children:[a.jsx(wn,{size:24}),a.jsxs("span",{className:"info-value",children:[Math.round(o.duration/60)," min"]}),a.jsx("span",{className:"info-label",children:"Time Limit"})]})]}),a.jsxs("div",{className:"quiz-rules",children:[a.jsx("h3",{children:" Quiz Rules:"}),a.jsxs("ul",{children:[a.jsx("li",{children:"One attempt per question"}),a.jsx("li",{children:"Answers cannot be changed once selected"}),a.jsx("li",{children:"Review all answers at the end"})]})]}),I()&&a.jsxs("div",{className:"accessibility-notice",children:[a.jsx(Or,{size:18}),a.jsx("span",{children:"Timer is hidden based on your accessibility preferences"})]}),E&&g?a.jsxs("div",{className:"resume-prompt",children:[a.jsxs("div",{className:"resume-info",children:[a.jsx(La,{size:20}),a.jsxs("span",{children:["You have a saved quiz in progress (",g.current_index+1,"/",c.length," questions completed)"]})]}),a.jsxs("div",{className:"resume-actions",children:[a.jsxs(re,{variant:"primary",onClick:A,children:[a.jsx(Lr,{size:18}),"Resume Quiz"]}),a.jsxs(re,{variant:"secondary",onClick:Y,children:[a.jsx(_r,{size:18}),"Start Fresh"]})]})]}):a.jsx(re,{variant:"primary",className:"start-quiz-btn",onClick:U,children:"Start Quiz"})]})}),b&&!x&&a.jsx(X0,{questions:c,quizConfig:o,hideTimer:I(),textToSpeech:(h==null?void 0:h.text_to_speech)??!0,speechRate:(h==null?void 0:h.speech_rate)??1,onComplete:L,initialState:R,onProgressUpdate:M}),x&&p&&!j&&a.jsx("div",{className:"results-screen",children:a.jsxs("div",{className:"results-card",children:[a.jsxs("div",{className:"results-header",children:[a.jsx("span",{className:"results-emoji",children:Q(p.scorePercentage).emoji}),a.jsx("h1",{className:"results-title",children:"Quiz Complete!"}),a.jsx("p",{className:"results-message",children:Q(p.scorePercentage).message})]}),a.jsx("div",{className:"results-score-circle",children:a.jsxs("div",{className:"score-circle",children:[a.jsxs("span",{className:"score-percentage",children:[p.scorePercentage,"%"]}),a.jsx("span",{className:"score-label",children:"Score"})]})}),a.jsxs("div",{className:"results-stats",children:[a.jsxs("div",{className:"result-stat correct",children:[a.jsx(Or,{size:20}),a.jsx("span",{className:"stat-value",children:p.score}),a.jsx("span",{className:"stat-label",children:"Correct"})]}),a.jsxs("div",{className:"result-stat incorrect",children:[a.jsx(Pf,{size:20}),a.jsx("span",{className:"stat-value",children:p.totalQuestions-p.score}),a.jsx("span",{className:"stat-label",children:"Wrong"})]}),a.jsxs("div",{className:"result-stat",children:[a.jsx(wn,{size:20}),a.jsx("span",{className:"stat-value",children:se(p.timeTakenSeconds)}),a.jsx("span",{className:"stat-label",children:"Time"})]})]}),_&&a.jsx("p",{className:"saving-message",children:"Saving your results..."}),a.jsxs("div",{className:"results-actions",children:[a.jsx(re,{variant:"secondary",onClick:()=>S(!0),children:" Review Answers"}),a.jsx(re,{variant:"secondary",icon:_r,onClick:U,children:"Try Again"}),a.jsx(re,{variant:"primary",icon:ca,onClick:()=>t("/assessments"),children:"Done"})]})]})}),x&&p&&j&&a.jsxs("div",{className:"answer-review-screen",children:[a.jsxs("div",{className:"review-header",children:[a.jsxs("button",{className:"back-to-results-btn",onClick:()=>S(!1),children:[a.jsx(la,{size:18}),"Back to Results"]}),a.jsx("h1",{children:"Answer Review"}),a.jsxs("p",{className:"review-summary",children:["You got ",a.jsx("strong",{children:p.score})," out of ",a.jsx("strong",{children:p.totalQuestions})," correct"]})]}),a.jsx("div",{className:"answers-list",children:p.answers.map(($,Z)=>a.jsxs("div",{className:`answer-card ${$.isCorrect?"correct":"incorrect"}`,children:[a.jsxs("div",{className:"answer-header",children:[a.jsxs("span",{className:"question-number",children:["Question ",Z+1]}),a.jsx("span",{className:`status-badge ${$.isCorrect?"correct":"incorrect"}`,children:$.isCorrect?a.jsxs(a.Fragment,{children:[a.jsx(gn,{size:14})," Correct"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ds,{size:14})," Wrong"]})})]}),a.jsx("p",{className:"question-text-review",children:$.question}),a.jsxs("div",{className:"answer-details",children:[a.jsxs("div",{className:"your-answer",children:[a.jsx("span",{className:"answer-label",children:"Your answer:"}),a.jsx("span",{className:`answer-value ${$.isCorrect?"correct":"incorrect"}`,children:$.selectedAnswer})]}),!$.isCorrect&&a.jsxs("div",{className:"correct-answer",children:[a.jsx("span",{className:"answer-label",children:"Correct answer:"}),a.jsx("span",{className:"answer-value correct",children:$.correctAnswer})]}),a.jsxs("div",{className:"translation",children:[a.jsx("span",{className:"answer-label",children:"Meaning:"}),a.jsx("span",{className:"answer-value",children:$.translation})]})]})]},Z))}),a.jsxs("div",{className:"review-actions",children:[a.jsx(re,{variant:"secondary",icon:_r,onClick:U,children:"Try Again"}),a.jsx(re,{variant:"primary",icon:ca,onClick:()=>t("/assessments"),children:"Back to Assessments"})]})]})]})]}):a.jsxs("div",{className:"quiz-page",children:[a.jsx(Pe,{}),a.jsx("main",{className:"quiz-page-content",children:a.jsxs("div",{className:"error-state",children:[a.jsx("p",{children:"Quiz not found"}),a.jsx(re,{onClick:()=>t("/assessments"),children:"Back to Assessments"})]})})]})}function eb({words:e,testConfig:t,textToSpeech:n=!0,speechRate:r=.8,onComplete:s,initialState:i=null,onProgressUpdate:o=null}){const[l,c]=k.useState((i==null?void 0:i.currentIndex)??0),[u,d]=k.useState(!1),[f,h]=k.useState(""),[y,b]=k.useState(null),[w,x]=k.useState(null),[m,p]=k.useState((i==null?void 0:i.results)??[]),[v,_]=k.useState((i==null?void 0:i.totalScore)??0),[C,j]=k.useState(!1),[S,g]=k.useState(null),[N,E]=k.useState(!0),T=k.useRef(null),R=e[l],W=l/e.length*100;k.useEffect(()=>{window.SpeechRecognition||window.webkitSpeechRecognition||(E(!1),g("Speech Recognition is not supported in this browser. Please use Chrome or Edge."))},[]);const X=k.useCallback(()=>({english:"en-US",hindi:"hi-IN",tamil:"ta-IN",telugu:"te-IN"})[t==null?void 0:t.language]||"en-US",[t==null?void 0:t.language]),z=k.useCallback(()=>{const se=window.SpeechRecognition||window.webkitSpeechRecognition;if(!se)return null;const $=new se;return $.continuous=!1,$.interimResults=!1,$.lang=X(),$.maxAlternatives=1,$.onstart=()=>{d(!0),g(null),h(""),x(null),b(null)},$.onresult=Z=>{const de=Z.results[0][0].transcript;h(de);const _e=Q0(de,R.word);b(_e),_e>=80?x("excellent"):_e>=60?x("good"):_e>=40?x("fair"):x("poor");const K={wordId:R.id,expected:R.word,spoken:de,score:_e,feedback:_e>=60?"pass":"fail"},q=[...m,K];p(q);const te=v+_e;_(te),j(!0),o&&o(l+1,q)},$.onerror=Z=>{d(!1),Z.error==="no-speech"?g("No speech detected. Please try again."):Z.error==="audio-capture"?g("No microphone found. Please check your microphone."):Z.error==="not-allowed"?g("Microphone access denied. Please allow microphone access."):g(`Error: ${Z.error}`)},$.onend=()=>{d(!1)},$},[R]),I=()=>{if(!N)return;const se=z();se&&(T.current=se,se.start())},Y=()=>{T.current&&T.current.stop(),d(!1)},A=k.useCallback(()=>{if(!n||!window.speechSynthesis)return;window.speechSynthesis.cancel();const se=new SpeechSynthesisUtterance(R.word);se.rate=r,se.lang=X(),window.speechSynthesis.speak(se)},[R,n,r,X]),U=()=>{if(l<e.length-1)c(se=>se+1),h(""),b(null),x(null),j(!1),g(null);else{const se=Math.round(v/e.length);s({score:se,totalWords:e.length,passedWords:m.filter($=>$.score>=60).length,results:m})}},M=()=>{const se={wordId:R.id,expected:R.word,spoken:"(skipped)",score:0,feedback:"skipped"},$=[...m,se];p($),j(!0),b(0),x("skipped"),o&&o(l+1,$)};if(!R)return a.jsx("div",{className:"pronunciation-loading",children:"Loading test..."});const L=()=>{switch(w){case"excellent":return" Excellent! Perfect pronunciation!";case"good":return" Good job! Clear pronunciation.";case"fair":return" Fair attempt. Try listening again.";case"poor":return" Needs practice. Listen and try again.";case"skipped":return" Skipped";default:return""}},Q=()=>{switch(w){case"excellent":return"feedback-excellent";case"good":return"feedback-good";case"fair":return"feedback-fair";case"poor":return"feedback-poor";case"skipped":return"feedback-skipped";default:return""}};return a.jsxs("div",{className:"pronunciation-test-container",children:[a.jsxs("div",{className:"pronunciation-header",children:[a.jsxs("div",{className:"pronunciation-progress-info",children:[a.jsxs("span",{className:"word-counter",children:["Word ",l+1," of ",e.length]}),a.jsxs("span",{className:"current-score",children:["Score: ",m.length>0?Math.round(v/m.length):0,"%"]})]}),a.jsx("div",{className:"progress-bar-container",children:a.jsx("div",{className:"progress-bar-fill",style:{width:`${W}%`}})})]}),a.jsxs("div",{className:"word-card",children:[!N&&a.jsxs("div",{className:"browser-warning",children:[a.jsx(Sd,{size:20}),a.jsx("span",{children:"Speech Recognition requires Chrome or Edge browser"})]}),a.jsxs("div",{className:"word-display",children:[a.jsx("h2",{className:"word-text",children:R.word}),R.phonetic&&a.jsx("p",{className:"word-phonetic",children:R.phonetic}),R.hint&&a.jsxs("p",{className:"word-hint",children:["Hint: ",R.hint]})]}),a.jsxs("button",{className:"listen-btn",onClick:A,disabled:!n,children:[a.jsx(Lt,{size:20}),"Listen to Pronunciation"]}),a.jsx("div",{className:"record-section",children:C?null:a.jsxs(a.Fragment,{children:[a.jsx("button",{className:`record-btn ${u?"recording":""}`,onClick:u?Y:I,disabled:!N,children:u?a.jsxs(a.Fragment,{children:[a.jsx(fr,{size:24}),"Stop Recording"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ot,{size:24}),"Start Recording"]})}),u&&a.jsxs("div",{className:"listening-indicator",children:[a.jsx("div",{className:"pulse-ring"}),a.jsx("span",{children:"Listening... Speak now!"})]}),a.jsx("button",{className:"skip-btn",onClick:M,children:"Skip this word"})]})}),S&&a.jsxs("div",{className:"error-message",children:[a.jsx(Sd,{size:18}),S]}),y!==null&&a.jsxs("div",{className:`pronunciation-result ${Q()}`,children:[a.jsxs("div",{className:"result-score",children:[a.jsxs("span",{className:"score-value",children:[y,"%"]}),a.jsx("span",{className:"score-label",children:"Match"})]}),f&&f!=="(skipped)"&&a.jsxs("div",{className:"spoken-text",children:[a.jsx("span",{className:"spoken-label",children:"You said:"}),a.jsxs("span",{className:"spoken-value",children:['"',f,'"']})]}),a.jsx("p",{className:"feedback-message",children:L()}),w==="poor"&&a.jsxs("button",{className:"retry-listen-btn",onClick:A,children:[a.jsx(Lt,{size:18}),"Listen Again"]})]}),C&&a.jsxs("button",{className:"next-btn",onClick:U,children:[l<e.length-1?"Next Word":"See Results",a.jsx(Bn,{size:18})]})]})]})}function tb(){const{testId:e}=Cc(),t=ft(),{user:n}=ot(),{settings:r}=Qt(),[s,i]=k.useState(null),[o,l]=k.useState([]),[c,u]=k.useState("intro"),[d,f]=k.useState(null),[h,y]=k.useState(!0),[b,w]=k.useState(null),[x,m]=k.useState(!1),[p,v]=k.useState(null),[_,C]=k.useState(null);k.useEffect(()=>{async function R(){const W=V0(e);if(W&&i(W),n!=null&&n.id){const X=await wf(n.id,e);X&&(w(X),m(!0),l(X.questions))}y(!1)}R()},[e,n]);const j=async()=>{n!=null&&n.id&&b&&await oa(n.id,e);const R=ko(e);l(R),w(null),m(!1),v(null),C(new Date().toISOString()),u("active")},S=()=>{var R;b&&(v({currentIndex:b.current_index,results:b.answers||[],totalScore:((R=b.answers)==null?void 0:R.reduce((W,X)=>W+X.score,0))||0}),C(b.start_time)),m(!1),u("active")},g=()=>{const R=ko(e);l(R),C(new Date().toISOString()),u("active")},N=k.useCallback(async(R,W)=>{if(!(!(n!=null&&n.id)||!s))try{await yf(n.id,{quizId:e,quizType:"speaking",currentIndex:R,answers:W,questions:o,startTime:_||new Date().toISOString()})}catch(X){console.error("Error saving progress:",X)}},[n==null?void 0:n.id,e,s,o,_]),E=async R=>{if(f(R),u("complete"),n!=null&&n.id&&await oa(n.id,e),n!=null&&n.id&&s)try{await Qk(n.id,{testId:e,testTitle:s.title,score:R.score,totalWords:R.totalWords,passedWords:R.passedWords,results:R.results,completedAt:new Date().toISOString()})}catch(W){console.error("Error saving pronunciation result:",W)}},T=()=>{const R=ko(e);l(R),f(null),C(new Date().toISOString()),u("active")};return h?a.jsxs("div",{className:"pronunciation-page",children:[a.jsx(Pe,{}),a.jsx("div",{className:"pronunciation-page-content",children:a.jsx("div",{className:"loading-state",children:"Loading test..."})})]}):s?a.jsxs("div",{className:`pronunciation-page ${r.focusMode?"focus-mode-active":""}`,children:[a.jsx(Pe,{}),a.jsx(Br,{}),a.jsxs("div",{className:"pronunciation-page-content",children:[a.jsxs("button",{className:"back-button",onClick:()=>t("/assessments"),children:[a.jsx(la,{size:20}),a.jsx("span",{children:"Back to Assessments"})]}),c==="intro"&&a.jsxs("div",{className:"pronunciation-intro-card",children:[a.jsxs("div",{className:"intro-badge speaking",children:[a.jsx(Ot,{size:16}),"Speaking Test"]}),a.jsx("h1",{className:"intro-title",children:s.title}),a.jsx("p",{className:"intro-description",children:s.description}),a.jsxs("div",{className:"pronunciation-info-grid",children:[a.jsxs("div",{className:"info-item",children:[a.jsx("div",{className:"info-icon",children:a.jsx(Rc,{size:20})}),a.jsxs("div",{className:"info-content",children:[a.jsx("span",{className:"info-label",children:"Words"}),a.jsx("span",{className:"info-value",children:s.wordsCount})]})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("div",{className:"info-icon",children:a.jsx(wn,{size:20})}),a.jsxs("div",{className:"info-content",children:[a.jsx("span",{className:"info-label",children:"Duration"}),a.jsxs("span",{className:"info-value",children:[Math.floor(s.duration/60)," min"]})]})]}),a.jsxs("div",{className:"info-item",children:[a.jsx("div",{className:"info-icon",children:a.jsx(Or,{size:20})}),a.jsxs("div",{className:"info-content",children:[a.jsx("span",{className:"info-label",children:"Pass Score"}),a.jsxs("span",{className:"info-value",children:[s.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"pronunciation-rules",children:[a.jsx("h3",{children:"How it works:"}),a.jsxs("ul",{children:[a.jsx("li",{children:" Listen to the correct pronunciation first"}),a.jsx("li",{children:' Click "Start Recording" and speak clearly'}),a.jsx("li",{children:" Get instant feedback on your pronunciation"}),a.jsx("li",{children:" Score 60%+ to pass each word"})]})]}),a.jsxs("div",{className:"microphone-note",children:[a.jsx(Lt,{size:18}),a.jsx("span",{children:"Please allow microphone access when prompted"})]}),x&&b?a.jsxs("div",{className:"resume-prompt",children:[a.jsxs("div",{className:"resume-info",children:[a.jsx(La,{size:20}),a.jsxs("span",{children:["You have a saved test in progress (",b.current_index,"/",o.length," words completed)"]})]}),a.jsxs("div",{className:"resume-actions",children:[a.jsxs(re,{variant:"primary",onClick:S,children:[a.jsx(Lr,{size:18}),"Resume Test"]}),a.jsxs(re,{variant:"secondary",onClick:j,children:[a.jsx(_r,{size:18}),"Start Fresh"]})]})]}):a.jsxs(re,{variant:"primary",size:"lg",onClick:g,fullWidth:!0,children:[a.jsx(Ot,{size:20}),"Start Pronunciation Test"]})]}),c==="active"&&a.jsx(eb,{words:o,testConfig:s,onComplete:E,initialState:p,onProgressUpdate:N}),c==="complete"&&d&&a.jsxs("div",{className:"pronunciation-results-card",children:[a.jsx("div",{className:`results-icon ${d.score>=s.passingScore?"passed":"failed"}`,children:d.score>=s.passingScore?a.jsx(Or,{size:48}):a.jsx(Pf,{size:48})}),a.jsx("h2",{className:"results-title",children:d.score>=s.passingScore?" Great Job!":" Keep Practicing!"}),a.jsxs("div",{className:"results-score",children:[a.jsxs("span",{className:"score-number",children:[d.score,"%"]}),a.jsx("span",{className:"score-label",children:"Overall Score"})]}),a.jsxs("div",{className:"results-stats",children:[a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-value",children:d.passedWords}),a.jsx("span",{className:"stat-label",children:"Words Passed"})]}),a.jsx("div",{className:"stat-divider"}),a.jsxs("div",{className:"stat-item",children:[a.jsx("span",{className:"stat-value",children:d.totalWords-d.passedWords}),a.jsx("span",{className:"stat-label",children:"Needs Practice"})]})]}),a.jsxs("div",{className:"words-review",children:[a.jsx("h3",{children:"Word by Word Review"}),a.jsx("div",{className:"words-list",children:d.results.map((R,W)=>a.jsxs("div",{className:`word-review-item ${R.score>=60?"passed":"failed"}`,children:[a.jsxs("div",{className:"word-review-content",children:[a.jsx("span",{className:"word-expected",children:R.expected}),a.jsxs("span",{className:"word-spoken",children:['You said: "',R.spoken,'"']})]}),a.jsxs("div",{className:`word-score ${R.score>=60?"pass":"fail"}`,children:[R.score,"%"]})]},W))})]}),a.jsxs("div",{className:"results-actions",children:[a.jsxs(re,{variant:"outline",onClick:T,children:[a.jsx(_r,{size:18}),"Try Again"]}),a.jsxs(re,{variant:"primary",onClick:()=>t("/assessments"),children:[a.jsx(ca,{size:18}),"Back to Assessments"]})]})]})]})]}):a.jsxs("div",{className:"pronunciation-page",children:[a.jsx(Pe,{}),a.jsx("div",{className:"pronunciation-page-content",children:a.jsxs("div",{className:"error-state",children:[a.jsx("h2",{children:"Test not found"}),a.jsx(re,{onClick:()=>t("/assessments"),children:"Back to Assessments"})]})})]})}function nb(){const e=ft(),{user:t}=ot(),[n,r]=k.useState(""),[s,i]=k.useState(!1),[o,l]=k.useState(""),[c,u]=k.useState(""),[d,f]=k.useState([]),[h,y]=k.useState(!0),[b,w]=k.useState(null),x=async()=>{try{const{data:j,error:S}=await J.from("study_rooms").select(`
                    *,
                    room_participants (count)
                `).eq("is_active",!0).order("created_at",{ascending:!1});if(S)throw S;const g=j.map(N=>{var E,T;return{...N,participants:((T=(E=N.room_participants)==null?void 0:E[0])==null?void 0:T.count)||0}});f(g)}catch(j){console.error("Error fetching rooms:",j),w("Failed to load rooms")}finally{y(!1)}};k.useEffect(()=>{x();const j=J.channel("study_rooms_changes").on("postgres_changes",{event:"*",schema:"public",table:"study_rooms"},g=>{console.log("Room change:",g),x()}).subscribe(),S=J.channel("participants_changes").on("postgres_changes",{event:"*",schema:"public",table:"room_participants"},g=>{console.log("Participant change:",g),x()}).subscribe();return()=>{J.removeChannel(j),J.removeChannel(S)}},[]);const m=d.filter(j=>j.name.toLowerCase().includes(n.toLowerCase())||(j.description||"").toLowerCase().includes(n.toLowerCase())),p=async j=>{if(j.preventDefault(),!(!o.trim()||!t))try{const{data:S,error:g}=await J.from("study_rooms").insert({name:o.trim(),description:c.trim()||"A study session",created_by:t.id,max_participants:10}).select().single();if(g)throw g;l(""),u(""),i(!1),e(`/study-rooms/${S.id}`)}catch(S){console.error("Error creating room:",S),w("Failed to create room")}},v=j=>{e(`/study-rooms/${j}`)},_=()=>{i(!0)},C=()=>{i(!1),l(""),u("")};return a.jsxs("div",{className:"study-rooms-page",children:[a.jsx(Pe,{}),a.jsxs("main",{className:"study-rooms-content",children:[a.jsxs("div",{className:"study-rooms-header",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"study-rooms-title",children:"Study Rooms"}),a.jsx("p",{className:"study-rooms-subtitle",children:"Learn together with other students in real-time"})]}),a.jsx(re,{variant:"primary",icon:El,onClick:_,children:"Create Room"})]}),a.jsxs("div",{className:"search-container",children:[a.jsx(g0,{size:18,className:"search-icon"}),a.jsx("input",{type:"text",placeholder:"Search rooms...",value:n,onChange:j=>r(j.target.value),className:"search-input","aria-label":"Search study rooms"})]}),b&&a.jsx("div",{className:"error-message",children:b}),h?a.jsx("div",{className:"loading-state",children:a.jsx("p",{children:"Loading rooms..."})}):m.length>0?a.jsx("div",{className:"rooms-grid",children:m.map(j=>a.jsxs(Re,{className:"room-card",children:[a.jsxs("div",{className:"room-header",children:[a.jsxs("span",{className:"live-badge",children:[a.jsx("span",{className:"live-dot"}),"Live"]}),a.jsxs("span",{className:"participants-badge",children:[a.jsx(Sr,{size:14}),j.participants,"/",j.max_participants]})]}),a.jsx("h3",{className:"room-name",children:j.name}),a.jsx("p",{className:"room-topic",children:j.description}),a.jsx(re,{variant:"primary",className:"join-btn",onClick:()=>v(j.id),children:"Join Room"})]},j.id))}):a.jsxs("div",{className:"empty-state",children:[a.jsx("div",{className:"empty-icon",children:a.jsx(Sr,{size:48})}),a.jsx("h3",{className:"empty-title",children:"No Study Rooms Available"}),a.jsx("p",{className:"empty-description",children:"Be the first to create a study room and invite others to learn together!"}),a.jsx(re,{variant:"primary",icon:El,onClick:_,children:"Create Your First Room"})]})]}),s&&a.jsx("div",{className:"modal-overlay",onClick:C,children:a.jsxs("div",{className:"modal-container",onClick:j=>j.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",children:[a.jsx("h2",{className:"modal-title",children:"Create Study Room"}),a.jsx("button",{className:"modal-close-btn",onClick:C,"aria-label":"Close modal",children:a.jsx(Ds,{size:20})})]}),a.jsxs("form",{onSubmit:p,className:"modal-form",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"room-name",className:"form-label",children:"Room Name"}),a.jsx("input",{type:"text",id:"room-name",value:o,onChange:j=>l(j.target.value),placeholder:"e.g., Spanish Vocabulary Study",className:"form-input",required:!0,autoFocus:!0})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{htmlFor:"room-description",className:"form-label",children:"Description (optional)"}),a.jsx("input",{type:"text",id:"room-description",value:c,onChange:j=>u(j.target.value),placeholder:"e.g., Practicing Chapter 5 vocabulary",className:"form-input"})]}),a.jsxs("div",{className:"modal-actions",children:[a.jsx(re,{type:"button",variant:"secondary",onClick:C,children:"Cancel"}),a.jsx(re,{type:"submit",variant:"primary",icon:Rf,disabled:!o.trim(),children:"Create and Join"})]})]})]})})]})}function rb({tasks:e,onAddTask:t,onToggleTask:n}){const[r,s]=k.useState(""),i=c=>{c.preventDefault(),r.trim()&&(t(r.trim()),s(""))},o=e.filter(c=>!c.completed),l=e.filter(c=>c.completed);return a.jsxs("div",{className:"task-list-container",children:[a.jsx("h2",{className:"task-list-title",children:"Shared Tasks"}),a.jsx("p",{className:"task-list-subtitle",children:"Track your study session goals together"}),a.jsxs("form",{onSubmit:i,className:"add-task-form",children:[a.jsx("input",{type:"text",value:r,onChange:c=>s(c.target.value),placeholder:"Add a new task...",className:"add-task-input","aria-label":"New task text"}),a.jsxs("button",{type:"submit",className:"add-task-btn",disabled:!r.trim(),"aria-label":"Add task",children:[a.jsx(El,{size:18}),a.jsx("span",{children:"Add Task"})]})]}),a.jsxs("div",{className:"tasks-section",children:[o.length>0&&a.jsxs("div",{className:"tasks-group",children:[a.jsxs("h3",{className:"tasks-group-title",children:["To Do (",o.length,")"]}),a.jsx("ul",{className:"tasks-list",role:"list",children:o.map(c=>a.jsxs("li",{className:"task-item",children:[a.jsx("button",{className:"task-checkbox",onClick:()=>n(c.id),"aria-label":`Mark "${c.text}" as completed`,children:a.jsx("span",{className:"checkbox-icon"})}),a.jsx("span",{className:"task-text",children:c.text})]},c.id))})]}),l.length>0&&a.jsxs("div",{className:"tasks-group",children:[a.jsxs("h3",{className:"tasks-group-title completed-title",children:["Completed (",l.length,")"]}),a.jsx("ul",{className:"tasks-list",role:"list",children:l.map(c=>a.jsxs("li",{className:"task-item completed",children:[a.jsx("button",{className:"task-checkbox checked",onClick:()=>n(c.id),"aria-label":`Mark "${c.text}" as not completed`,children:a.jsx(gn,{size:14,className:"check-icon"})}),a.jsx("span",{className:"task-text",children:c.text})]},c.id))})]}),e.length===0&&a.jsx("div",{className:"tasks-empty",children:a.jsx("p",{children:"No tasks yet. Add a task to get started!"})})]})]})}const sb={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"turn:relay1.expressturn.com:3478",username:"efM0OFPCLPVUPH26I6",credential:"jtDT4yNWQqXt0bGC"},{urls:"stun:numb.viagenie.ca"},{urls:"turn:numb.viagenie.ca",username:"webrtc@live.com",credential:"muazkh"}],iceCandidatePoolSize:10};function ib(e,t,n){const[r,s]=k.useState({}),[i,o]=k.useState({}),[l,c]=k.useState(null),u=k.useRef({}),d=k.useRef({}),f=k.useRef(null),h=k.useRef(null),y=k.useRef({}),b=k.useCallback(g=>{h.current=g,c(g),g&&Object.keys(u.current).forEach(N=>{const E=u.current[N];if(E.connectionState==="closed")return;const T=E.getSenders();g.getTracks().forEach(R=>{const W=T.find(X=>{var z;return((z=X.track)==null?void 0:z.kind)===R.kind});W?W.replaceTrack(R):E.addTrack(R,g)})})},[]),w=k.useCallback(async g=>{try{console.log(`Sending ${g.type} to ${g.to}`);const{error:N}=await J.from("webrtc_signals").insert({room_id:e,from_user:t,to_user:g.to,signal_type:g.type,signal_data:JSON.stringify(g.payload),created_at:new Date().toISOString()});N&&console.error("Error sending signal:",N)}catch(N){console.error("Error sending signal:",N)}},[e,t]),x=k.useCallback((g,N,E=!1)=>{if(!E){const R=u.current[g];if(R&&R.connectionState!=="closed"&&R.connectionState!=="failed")return R}u.current[g]&&u.current[g].close(),console.log(`Creating peer connection for ${N}`);const T=new RTCPeerConnection(sb);return u.current[g]=T,o(R=>({...R,[g]:"new"})),h.current&&(console.log("Adding local tracks to peer connection"),h.current.getTracks().forEach(R=>{T.addTrack(R,h.current)})),T.ontrack=R=>{console.log(`Received ${R.track.kind} track from ${N}`);const[W]=R.streams;W&&s(X=>({...X,[g]:{stream:W,userName:N}}))},T.onicecandidate=async R=>{R.candidate&&await w({type:"ice-candidate",payload:R.candidate.toJSON(),to:g})},T.onconnectionstatechange=()=>{if(console.log(`Connection state with ${N}: ${T.connectionState}`),o(R=>({...R,[g]:T.connectionState})),T.connectionState==="failed"){const R=y.current[g]||0;R<2?(console.log(`Connection failed, attempting ICE restart (retry ${R+1})`),y.current[g]=R+1,T.restartIce()):(console.log("Max retries reached, closing connection"),T.close())}T.connectionState==="connected"&&(console.log(`Successfully connected to ${N}!`),y.current[g]=0)},T.oniceconnectionstatechange=()=>{console.log(`ICE state with ${N}: ${T.iceConnectionState}`),T.iceConnectionState==="disconnected"&&setTimeout(()=>{T.iceConnectionState==="disconnected"&&(console.log("Still disconnected, attempting reconnection..."),T.restartIce())},3e3)},T.onicegatheringstatechange=()=>{console.log(`ICE gathering: ${T.iceGatheringState}`)},T.onnegotiationneeded=async()=>{if(console.log("Negotiation needed for",g),t>g)try{const R=await T.createOffer({iceRestart:!0});await T.setLocalDescription(R),await w({type:"offer",payload:R,to:g})}catch(R){console.error("Error in negotiation:",R)}},T},[w,t]),m=k.useCallback(async(g,N,E)=>{console.log(`Handling offer from ${N}`);const T=u.current[g],W=T&&T.connectionState!=="closed"?T:x(g,N);try{if(W.signalingState==="have-local-offer")if(t<g)console.log("Glare detected, rolling back local offer"),await W.setLocalDescription({type:"rollback"});else{console.log("Glare detected, ignoring incoming offer");return}if(await W.setRemoteDescription(new RTCSessionDescription(E)),console.log("Remote description set"),d.current[g]){for(const z of d.current[g])try{await W.addIceCandidate(new RTCIceCandidate(z))}catch(I){console.error("Error adding pending ICE candidate:",I)}delete d.current[g]}const X=await W.createAnswer();await W.setLocalDescription(X),await w({type:"answer",payload:X,to:g}),console.log("Answer sent")}catch(X){console.error("Error handling offer:",X)}},[x,w,t]),p=k.useCallback(async(g,N)=>{console.log(`Handling answer from ${g}`);const E=u.current[g];if(!E){console.log("No peer connection for answer");return}try{if(E.signalingState!=="have-local-offer"){console.log("Ignoring answer, signaling state:",E.signalingState);return}if(await E.setRemoteDescription(new RTCSessionDescription(N)),console.log("Remote description (answer) set"),d.current[g]){for(const T of d.current[g])try{await E.addIceCandidate(new RTCIceCandidate(T))}catch(R){console.error("Error adding pending ICE candidate:",R)}delete d.current[g]}}catch(T){console.error("Error handling answer:",T)}},[]),v=k.useCallback(async(g,N)=>{const E=u.current[g];if(E&&E.remoteDescription&&E.remoteDescription.type)try{await E.addIceCandidate(new RTCIceCandidate(N))}catch(T){console.error("Error adding ICE candidate:",T)}else d.current[g]||(d.current[g]=[]),d.current[g].push(N)},[]),_=k.useCallback(async(g,N)=>{if(!h.current){console.log("Cannot call - no local stream yet");return}if(t<g){console.log(`Skipping call to ${N} - they will call us`);return}console.log(`Calling ${N}`);const E=x(g,N);try{if(E.signalingState!=="stable"){console.log("Signaling not stable, skipping offer");return}const T=await E.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await E.setLocalDescription(T),await w({type:"offer",payload:T,to:g,fromUserName:n}),console.log("Offer sent")}catch(T){console.error("Error creating offer:",T)}},[x,w,n,t]),C=k.useCallback(async g=>{const N=JSON.parse(g.signal_data);console.log(`Processing ${g.signal_type} from ${g.from_user.slice(0,8)}...`),g.signal_type==="offer"?await m(g.from_user,"Peer",N):g.signal_type==="answer"?await p(g.from_user,N):g.signal_type==="ice-candidate"&&await v(g.from_user,N);try{await J.from("webrtc_signals").delete().eq("id",g.id)}catch(E){console.error("Error deleting signal:",E)}},[m,p,v]);k.useEffect(()=>!e||!t?void 0:(console.log("Setting up WebRTC signaling"),(async()=>{const{data:N,error:E}=await J.from("webrtc_signals").select("*").eq("room_id",e).eq("to_user",t).order("created_at",{ascending:!0});if(E){console.error("Error fetching pending signals:",E);return}if(N&&N.length>0){console.log(`Processing ${N.length} pending signals`);for(const T of N)await C(T)}})(),f.current=J.channel(`webrtc_signals_${e}_${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"webrtc_signals",filter:`to_user=eq.${t}`},async N=>{const E=N.new;E.room_id===e&&await C(E)}).subscribe(N=>{console.log("WebRTC channel:",N)}),()=>{f.current&&J.removeChannel(f.current)}),[e,t,C]);const j=k.useCallback(()=>{console.log("Cleaning up WebRTC"),Object.values(u.current).forEach(g=>{g.close()}),u.current={},d.current={},y.current={},s({}),o({})},[]),S=k.useCallback(g=>{const N=u.current[g];N&&(N.close(),delete u.current[g],delete d.current[g],delete y.current[g],s(E=>{const T={...E};return delete T[g],T}),o(E=>{const T={...E};return delete T[g],T}))},[]);return{remoteStreams:r,connectionStatus:i,localStream:l,updateLocalStream:b,callParticipant:_,closeConnection:S,cleanup:j}}function ab(){var q,te;const{roomId:e}=Cc(),t=ft(),{user:n}=ot(),r=k.useRef(null),s=k.useRef({}),[i,o]=k.useState(null),[l,c]=k.useState(!0),[u,d]=k.useState(null),[f,h]=k.useState(!1),[y,b]=k.useState(!0),[w,x]=k.useState(!0),[m,p]=k.useState(null),[v,_]=k.useState(!1),[C,j]=k.useState([]),[S,g]=k.useState([]),{remoteStreams:N,connectionStatus:E,localStream:T,updateLocalStream:R,callParticipant:W,closeConnection:X,cleanup:z}=ib(e,n==null?void 0:n.id,((q=n==null?void 0:n.user_metadata)==null?void 0:q.full_name)||((te=n==null?void 0:n.email)==null?void 0:te.split("@")[0])||"Anonymous"),I=k.useCallback(async()=>{try{const{data:P,error:D}=await J.from("study_rooms").select("*").eq("id",e).single();if(D)throw D;if(!P)throw new Error("Room not found");o(P),h(P.created_by===(n==null?void 0:n.id))}catch(P){console.error("Error fetching room:",P),d("Room not found or no longer available")}},[e,n==null?void 0:n.id]),Y=k.useCallback(async()=>{try{const{data:P,error:D}=await J.from("room_participants").select("*").eq("room_id",e);if(D)throw D;return j(P||[]),P||[]}catch(P){return console.error("Error fetching participants:",P),[]}},[e]),A=k.useCallback(async()=>{try{const{data:P,error:D}=await J.from("room_tasks").select("*").eq("room_id",e).order("created_at",{ascending:!0});if(D)throw D;g(P||[])}catch(P){console.error("Error fetching tasks:",P)}},[e]),U=k.useCallback(async()=>{var P,D;if(n)try{const ee=((P=n.user_metadata)==null?void 0:P.full_name)||((D=n.email)==null?void 0:D.split("@")[0])||"Anonymous",{error:we}=await J.from("room_participants").upsert({room_id:e,user_id:n.id,user_name:ee,is_audio_enabled:!0,is_video_enabled:!0},{onConflict:"room_id,user_id"});if(we)throw we}catch(ee){console.error("Error joining room:",ee)}},[e,n]),M=k.useCallback(async()=>{if(n)try{await J.from("room_participants").delete().eq("room_id",e).eq("user_id",n.id)}catch(P){console.error("Error leaving room:",P)}},[e,n]),L=async()=>{if(!(!n||!f||!window.confirm("Are you sure you want to delete this room? All participants will be removed.")))try{z(),T&&T.getTracks().forEach(ee=>ee.stop());const{error:D}=await J.from("study_rooms").delete().eq("id",e);if(D)throw D;t("/study-rooms")}catch(D){console.error("Error deleting room:",D),alert("Failed to delete room")}};k.useEffect(()=>{n&&(async()=>{c(!0),await I(),await Y(),await A(),await U(),c(!1)})();const D=J.channel(`room_${e}_data`).on("postgres_changes",{event:"DELETE",schema:"public",table:"study_rooms",filter:`id=eq.${e}`},()=>{alert("This room has been deleted by the host."),t("/study-rooms")}).subscribe(),ee=J.channel(`room_${e}_participants`).on("postgres_changes",{event:"INSERT",schema:"public",table:"room_participants",filter:`room_id=eq.${e}`},Ne=>{const jt=Ne.new;console.log("New participant joined:",jt.user_name),jt.user_id!==(n==null?void 0:n.id)&&T&&(console.log("Calling new participant"),W(jt.user_id,jt.user_name)),Y()}).on("postgres_changes",{event:"DELETE",schema:"public",table:"room_participants",filter:`room_id=eq.${e}`},Ne=>{const jt=Ne.old;console.log("Participant left:",jt.user_id),jt.user_id!==(n==null?void 0:n.id)&&X(jt.user_id),Y()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"room_participants",filter:`room_id=eq.${e}`},()=>{Y()}).subscribe(),we=J.channel(`room_${e}_tasks`).on("postgres_changes",{event:"*",schema:"public",table:"room_tasks",filter:`room_id=eq.${e}`},()=>{A()}).subscribe();return()=>{M(),z(),J.removeChannel(D),J.removeChannel(ee),J.removeChannel(we)}},[e,n]),k.useEffect(()=>{let P=!0;async function D(){try{console.log("Requesting media access...");const ee=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});if(!P){ee.getTracks().forEach(we=>we.stop());return}console.log("Media stream obtained, updating WebRTC hook"),R(ee),_(!0),r.current&&(r.current.srcObject=ee,r.current.play().catch(console.error))}catch(ee){console.error("Error accessing media devices:",ee),P&&p("Could not access camera or microphone. Please check permissions.")}}return D(),()=>{P=!1}},[R]),k.useEffect(()=>{if(!T||!n)return;const D=setTimeout(async()=>{const we=(await Y()).filter(Ne=>Ne.user_id!==n.id);console.log(`Calling ${we.length} existing participants`);for(const Ne of we)W(Ne.user_id,Ne.user_name)},1e3);return()=>clearTimeout(D)},[T,n,Y,W]),k.useEffect(()=>{r.current&&T&&w&&(r.current.srcObject=T,r.current.play().catch(console.error))},[T,w]),k.useEffect(()=>{Object.entries(N).forEach(([P,{stream:D}])=>{const ee=s.current[P];ee&&D&&ee.srcObject!==D&&(console.log("Attaching remote stream for",P),ee.srcObject=D,ee.play().catch(console.error))})},[N]);const Q=async()=>{if(T){const P=T.getAudioTracks()[0];if(P){const D=!P.enabled;P.enabled=D,b(D),n&&await J.from("room_participants").update({is_audio_enabled:D}).eq("room_id",e).eq("user_id",n.id)}}},se=async()=>{if(T){const P=T.getVideoTracks()[0];if(P){const D=!w;P.enabled=D,x(D),n&&await J.from("room_participants").update({is_video_enabled:D}).eq("room_id",e).eq("user_id",n.id)}}},$=async()=>{z(),T&&T.getTracks().forEach(P=>P.stop()),await M(),t("/study-rooms")},Z=async P=>{if(n)try{const{error:D}=await J.from("room_tasks").insert({room_id:e,text:P,created_by:n.id,is_completed:!1});if(D)throw D}catch(D){console.error("Error adding task:",D)}},de=async P=>{const D=S.find(ee=>ee.id===P);if(!(!D||!n))try{const{error:ee}=await J.from("room_tasks").update({is_completed:!D.is_completed,completed_by:D.is_completed?null:n.id,completed_at:D.is_completed?null:new Date().toISOString()}).eq("id",P);if(ee)throw ee}catch(ee){console.error("Error toggling task:",ee)}},_e=S.map(P=>({id:P.id,text:P.text,completed:P.is_completed})),K=C.filter(P=>P.user_id!==(n==null?void 0:n.id));return l?a.jsxs("div",{className:"study-room-page",children:[a.jsx(Pe,{}),a.jsx("main",{className:"study-room-content",children:a.jsx("div",{className:"loading-state",children:a.jsx("p",{children:"Loading room..."})})})]}):u?a.jsxs("div",{className:"study-room-page",children:[a.jsx(Pe,{}),a.jsx("main",{className:"study-room-content",children:a.jsxs("div",{className:"error-state",children:[a.jsx("p",{children:u}),a.jsx("button",{onClick:()=>t("/study-rooms"),children:"Back to Study Rooms"})]})})]}):a.jsxs("div",{className:"study-room-page",children:[a.jsx(Pe,{}),a.jsxs("main",{className:"study-room-content",children:[a.jsxs("div",{className:"study-room-header",children:[a.jsxs("button",{className:"back-button",onClick:()=>t("/study-rooms"),"aria-label":"Back to study rooms",children:[a.jsx(la,{size:20}),a.jsx("span",{children:"Back to Rooms"})]}),a.jsxs("div",{className:"room-info",children:[a.jsx("h1",{className:"room-title",children:(i==null?void 0:i.name)||"Study Session"}),a.jsxs("span",{className:"room-id",children:["Room ID: ",e==null?void 0:e.slice(0,8),"..."]})]}),a.jsxs("div",{className:"header-actions",children:[a.jsxs("div",{className:"participants-count",children:[a.jsx(Sr,{size:18}),a.jsxs("span",{children:[C.length," Participant",C.length!==1?"s":""]})]}),f&&a.jsxs("button",{className:"delete-room-btn",onClick:L,"aria-label":"Delete room",children:[a.jsx(k0,{size:18}),a.jsx("span",{children:"Delete Room"})]})]})]}),a.jsxs("div",{className:"study-room-main",children:[a.jsxs("div",{className:"video-section",children:[a.jsxs("div",{className:"video-grid",children:[a.jsxs("div",{className:"video-container local",children:[m?a.jsx("div",{className:"video-placeholder error",children:a.jsx("p",{children:m})}):a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:r,autoPlay:!0,muted:!0,playsInline:!0,className:`video-element ${w?"":"hidden"}`}),!w&&a.jsxs("div",{className:"video-placeholder camera-off",children:[a.jsx(mr,{size:48}),a.jsx("span",{children:"Camera Off"})]})]}),a.jsxs("div",{className:"video-label",children:[a.jsx("span",{children:"You"}),!y&&a.jsx(fr,{size:14})]})]}),K.map(P=>{const D=N[P.user_id],ee=E[P.user_id],we=ee==="connected",Ne=D==null?void 0:D.stream;return a.jsxs("div",{className:"video-container remote",children:[Ne?a.jsxs(a.Fragment,{children:[a.jsx("video",{ref:jt=>s.current[P.user_id]=jt,autoPlay:!0,playsInline:!0,className:`video-element ${P.is_video_enabled?"":"hidden"}`}),!P.is_video_enabled&&a.jsxs("div",{className:"video-placeholder camera-off remote-user",children:[a.jsx(mr,{size:48}),a.jsx("span",{className:"remote-user-name",children:P.user_name}),a.jsx("span",{className:"remote-user-status",children:"Camera Off"})]})]}):a.jsxs("div",{className:`video-placeholder remote-user ${ee==="connecting"||ee==="new"?"connecting":""}`,children:[a.jsx(mr,{size:48}),a.jsx("span",{className:"remote-user-name",children:P.user_name}),a.jsx("span",{className:"remote-user-status",children:ee==="connecting"||ee==="new"?a.jsx(a.Fragment,{children:"Connecting..."}):ee==="failed"||ee==="disconnected"?a.jsxs(a.Fragment,{children:[a.jsx(b0,{size:14}),"Connection failed"]}):a.jsx(a.Fragment,{children:"Establishing connection..."})})]}),a.jsxs("div",{className:"video-label",children:[a.jsx("span",{children:P.user_name}),!P.is_audio_enabled&&a.jsx(fr,{size:14}),!P.is_video_enabled&&a.jsx(wo,{size:14}),we&&a.jsx(jd,{size:14,className:"connected"})]})]},P.id)}),K.length===0&&a.jsx("div",{className:"video-container waiting",children:a.jsxs("div",{className:"video-placeholder",children:[a.jsx(Sr,{size:48}),a.jsx("span",{children:"Waiting for others to join..."}),a.jsx("span",{className:"share-hint",children:"Share this room from the Study Rooms page"})]})})]}),a.jsxs("div",{className:"control-bar",children:[a.jsxs("button",{className:`control-btn ${y?"":"off"}`,onClick:Q,"aria-label":y?"Mute microphone":"Unmute microphone",children:[y?a.jsx(Ot,{size:20}):a.jsx(fr,{size:20}),a.jsx("span",{children:y?"Mute":"Unmute"})]}),a.jsxs("button",{className:`control-btn ${w?"":"off"}`,onClick:se,"aria-label":w?"Turn off camera":"Turn on camera",children:[w?a.jsx(Rf,{size:20}):a.jsx(wo,{size:20}),a.jsx("span",{children:w?"Camera Off":"Camera On"})]}),a.jsxs("button",{className:"control-btn leave",onClick:$,"aria-label":"Leave room",children:[a.jsx(Nf,{size:20}),a.jsx("span",{children:"Leave Room"})]})]})]}),a.jsx("div",{className:"task-section",children:a.jsx(rb,{tasks:_e,onAddTask:Z,onToggleTask:de})})]}),a.jsxs("div",{className:"participants-panel",children:[a.jsxs("h3",{className:"participants-title",children:[a.jsx(Sr,{size:18}),a.jsx("span",{children:"Participants"})]}),a.jsx("ul",{className:"participants-list",children:C.map(P=>{const ee=E[P.user_id]==="connected",we=P.user_id===(n==null?void 0:n.id);return a.jsxs("li",{className:"participant-item",children:[a.jsx("div",{className:"participant-avatar",children:a.jsx(mr,{size:16})}),a.jsxs("span",{className:"participant-name",children:[P.user_name,we&&" (You)",P.user_id===(i==null?void 0:i.created_by)&&"  Host"]}),a.jsxs("div",{className:"participant-status",children:[!P.is_audio_enabled&&a.jsx(fr,{size:14,className:"status-icon muted"}),!P.is_video_enabled&&a.jsx(wo,{size:14,className:"status-icon"}),!we&&ee&&a.jsx(jd,{size:14,className:"status-icon connected"})]})]},P.id)})})]})]})]})}function gt({children:e}){const{user:t,loading:n}=ot();return n?null:t?e:a.jsx(Qp,{to:"/login",replace:!0})}const ob={v7_startTransition:!0,v7_relativeSplatPath:!0};function lb(){return a.jsx(Fk,{children:a.jsx(Yk,{children:a.jsx(iy,{future:ob,children:a.jsxs(Yv,{children:[a.jsx(Fe,{path:"/",element:a.jsx(Qp,{to:"/login",replace:!0})}),a.jsx(Fe,{path:"/login",element:a.jsx(Wk,{})}),a.jsx(Fe,{path:"/logout",element:a.jsx(qk,{})}),a.jsx(Fe,{path:"/onboarding",element:a.jsx(n0,{})}),a.jsx(Fe,{path:"/dashboard",element:a.jsx(gt,{children:a.jsx(x0,{})})}),a.jsx(Fe,{path:"/notifications",element:a.jsx(gt,{children:a.jsx(_0,{})})}),a.jsx(Fe,{path:"/settings",element:a.jsx(gt,{children:a.jsx(S0,{})})}),a.jsx(Fe,{path:"/lessons",element:a.jsx(gt,{children:a.jsx(I0,{})})}),a.jsx(Fe,{path:"/practice",element:a.jsx(gt,{children:a.jsx(M0,{})})}),a.jsx(Fe,{path:"/profile",element:a.jsx(gt,{children:a.jsx(z0,{})})}),a.jsx(Fe,{path:"/assessments",element:a.jsx(gt,{children:a.jsx(Y0,{})})}),a.jsx(Fe,{path:"/assessments/quiz/:quizId",element:a.jsx(gt,{children:a.jsx(Z0,{})})}),a.jsx(Fe,{path:"/assessments/pronunciation/:testId",element:a.jsx(gt,{children:a.jsx(tb,{})})}),a.jsx(Fe,{path:"/study-rooms",element:a.jsx(gt,{children:a.jsx(nb,{})})}),a.jsx(Fe,{path:"/study-rooms/:roomId",element:a.jsx(gt,{children:a.jsx(ab,{})})})]})})})})}bo.createRoot(document.getElementById("root")).render(a.jsx(zd.StrictMode,{children:a.jsx(lb,{})}));
